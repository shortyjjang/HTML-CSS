{"version":3,"sources":["webpack://fancy/./_static/modules/ui/overlay-thing/Shared.js","webpack://fancy/./_static/modules/ui/overlay-thing/components/v2/MerchantInfo.tsx","webpack://fancy/./_static/modules/ui/overlay-thing/components/v2/Recommendation.tsx","webpack://fancy/./_static/modules/ui/overlay-thing/components/v2/Reviews.tsx","webpack://fancy/./_static/modules/ui/overlay-thing/components/v2/Thing/Detail.tsx","webpack://fancy/./_static/modules/ui/overlay-thing/components/v2/Thing/Info.tsx","webpack://fancy/./_static/modules/ui/overlay-thing/components/v2/Thing/index.tsx","webpack://fancy/./_static/modules/ui/overlay-thing/components/v2/ThingCard.tsx","webpack://fancy/./_static/modules/ui/overlay-thing/components/v2/index.tsx","webpack://fancy/./_static/modules/ui/overlay-thing/index.tsx","webpack://fancy/webpack/bootstrap","webpack://fancy/webpack/runtime/compat get default export","webpack://fancy/webpack/runtime/create fake namespace object","webpack://fancy/webpack/runtime/define property getters","webpack://fancy/webpack/runtime/ensure chunk","webpack://fancy/webpack/runtime/get javascript chunk filename","webpack://fancy/webpack/runtime/global","webpack://fancy/webpack/runtime/harmony module decorator","webpack://fancy/webpack/runtime/hasOwnProperty shorthand","webpack://fancy/webpack/runtime/load script","webpack://fancy/webpack/runtime/make namespace object","webpack://fancy/webpack/runtime/publicPath","webpack://fancy/webpack/runtime/jsonp chunk loading","webpack://fancy/webpack/startup"],"names":["getFancyDepsRoot","Shared","getStore","store","cache","pagingContext","transition","reloadCurrentThing","MerchantInfo","useFancy","thing","seller","sales","useState","showMore","setShowMore","descEl","useRef","useEffect","current","clientHeight","id","brand_name","classnames","collapsed","__html","description","display","undefined","shop_url","sale_items","map","item","i","Recommendation","convertThingsV1","things","html_url","url","image_url","thumb_image_url_558","name","max_price","min_price","title","Likeable","recommended","length","RecentlyViewed","setThings","offset","$","ajax","type","then","response","recently","filter","_","SwiperCore","Thumbs","useDefaultReviews","page","per_page","q","sort","setLoading","sid","skip","reviews","useReviews","setReviews","param","extend","get","res","always","Reviews","loading","reviewOption","setReviewOption","review_count","cx","applying","ReviewHead","summary","rating_avg","total_ratings","attributes","a","label","width","Number","rating","ReviewEntry","review","photoIndex","setPhotoIndex","date","images","image","backgroundImage","thumbnail_url","ReviewList","currentPage","debounceEventUntilTimeout","e","target","value","Math","max","total_pages","min","range","pageNum","Overview","bv","brand_values","shippingInfo","shipping_info","origin","cost","window","slice","className","text","Description","menu","setMenu","props","showFeatures","features","trim","showSpecs","specifications","showReturns","return_exchange_policy_title","shipping_policy","preventDefault","show","Detail","Info","fancyProps","fancyContext","r","cursor","total_reviews","$el","headerSize","parseInt","css","scrollTop","offsetTop","Thing","ThingCard","p","numberFormat","AdminMessages","messages","m","BreadCrumb","breadcrumbs","href","AppV2","prevProps","pt","ct","isStaticPage","attr","focus","options","nonSoldoutOptions","o","soldout","minimumOption","price","dispatch","updateSaleContext","saleOptionID","getFancyContextDefaultValue","historyData","getFancyContext","Component","ReduxComponentEnhancer","connect","mapStateToThingProps","Overlay","__Config","bugsnag","Bugsnag","apiKey","plugins","BugsnagPluginReact","user","__FancyUser","onLoad","require","overlayContainer","document","querySelector","thingRegex","articleRegex","initialHref","location","on","event","pathname","match","reload","ErrorBoundary","createErrorBoundary","React","tree","history","render","historyHook","search","attachEntryEvents","readyState","addEventListener"],"mappings":"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AwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF,E;;;;;WCRA;WACA;WACA;WACA,8BAA8B,wFAAwF;WACtH,E;;;;;WCJA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;WACA,CAAC,I;;;;;WCPD;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA,E;;;;;WCVA,sF;;;;;WCAA;WACA;WACA;WACA;WACA,sBAAsB,4BAA4B,QAAQ;WAC1D;WACA;WACA;WACA,gBAAgB,oBAAoB;WACpC;WACA,kGAAkG,YAAY,OAAO;WACrH;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,kEAAkE,kCAAkC;WACpG;WACA;WACA;WACA,E;;;;;WCzCA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;WCNA,kD;;;;;WCAA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA,gCAAgC;;WAEhC;WACA;WACA;WACA,IAAI;WACJ,cAAc;WACd;WACA;WACA;WACA,MAAM;WACN;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,KAAK;WACL;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C;WACA;WACA,gBAAgB,2BAA2B;WAC3C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA,eAAe,+BAA+B;WAC9C;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,oBAAoB;WAC1B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;WACA,+C;;;;UCjIA;UACA","file":"OverlayThing.main.e55c13d303e79ce8be1d.js","sourcesContent":["import { getFancyDepsRoot } from 'fancyutils';\n\nimport store from './store/store';\nimport { cache } from './cache';\nimport { pagingContext, transition } from './container/routeutils';\nimport { reloadCurrentThing } from './container/history';\n\n\ngetFancyDepsRoot().Shared = {\n    getStore: () => store.getState(),\n    cache,\n    pagingContext,\n    transition,\n    reloadCurrentThing,\n};\n","import React, { useState, useRef, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\n\nimport ThingCard from \"./ThingCard\";\nimport { useFancy } from \"./FancyContext\";\n\nconst MerchantInfo = () => {\n    const {\n        thing,\n        thing: {\n            sales: { seller },\n        },\n    } = useFancy();\n    const [showMore, setShowMore] = useState(false);\n    const descEl = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        setShowMore(descEl.current ? descEl.current.clientHeight <= 80 : false);\n    }, [thing.id]);\n\n    return (\n        <div className=\"merchant-info\">\n            <h2 className=\"stit\">More about {seller.brand_name}</h2>\n            <div className={classnames(\"description\", { collapsed: !showMore })}>\n                <div dangerouslySetInnerHTML={{ __html: seller.description }} ref={descEl} />\n            </div>\n            <a className=\"more\" style={{ display: showMore ? \"none\" : undefined }} onClick={() => setShowMore(true)}>\n                Read more\n            </a>\n            <a className=\"btns-blue-embo\" href={seller.shop_url}>\n                Explore more\n            </a>\n            <Swiper className=\"swiper-no-swiping\">\n                {seller.sale_items.map((item, i) => {\n                    return (\n                        <SwiperSlide key={i} tag=\"li\">\n                            <ThingCard {...item} brand_name={seller.brand_name} />\n                        </SwiperSlide>\n                    );\n                })}\n            </Swiper>\n        </div>\n    );\n};\n\nexport default MerchantInfo;\n","import React, { useEffect, useState } from \"react\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\n\nimport ThingCard, { ThingCardProps } from \"./ThingCard\";\nimport { useFancy } from \"./FancyContext\";\n\nconst Recommendation = () => {\n    return (\n        <>\n            <Likeable />\n            <RecentlyViewed />\n        </>\n    );\n};\n\nconst convertThingsV1 = (things: {\n    url: string;\n    thumb_image_url_558: string;\n    sales: {\n        max_price: number;\n        min_price: number;\n        seller: {\n            brand_name: string;\n        };\n        title: string;\n    }[];\n    name: string;\n}[]) => {\n    return things.map(({ url: html_url, thumb_image_url_558: image_url, sales, name }) => {\n        return {\n            html_url,\n            image_url,\n            max_price: sales ? sales[0].max_price : 0,\n            min_price: sales ? sales[0].min_price : 0,\n            brand_name: sales ? sales[0].seller.brand_name : '',\n            title: sales ? sales[0].title : name,\n        };\n    });\n};\n\nconst Likeable = () => {\n    const { thing: { recommended } } = useFancy();\n\n    return (recommended?.length > 0) ? (\n        <>\n            <div className=\"recommend similar\">\n                <h2 className=\"stit\">You May Also Like</h2>\n                {/*<div className=\"control\">\n                    <div\n                        onClick={() => {\n                            setOffset(Math.max(5, offset - 5));\n                        }}>\n                        {\"<\"}\n                    </div>\n                    <div\n                        onClick={() => {\n                            setOffset(Math.min(offset + 5, ((things.length / 5) | 0) * 5));\n                        }}>\n                        {\">\"}\n                    </div>\n                </div>*/}\n            </div>\n            <Swiper className=\"recommend similar swiper-no-swiping\" slidesPerColumn={5}>\n                {recommended?.map((thing, i) => {\n                              return (\n                                  <SwiperSlide key={i}>\n                                      <ThingCard {...thing} />\n                                  </SwiperSlide>\n                              );\n                          })}\n            </Swiper>\n        </>\n    ) : null;\n};\n\nconst RecentlyViewed = () => {\n    const { thing } = useFancy();\n    const [things, setThings] = useState<ThingCardProps[] | null>(null);\n    // const [offset, setOffset] = useState(4);\n    const offset = 4;\n\n    useEffect(() => {\n        $.ajax({\n            type: \"get\",\n            url: `/recently_viewed_things_json?include_sale_item_option=True&rapi_compl=True&count=4&thing_id=${thing.id}`,\n        }).then((response) => {\n            const recently = convertThingsV1(response);\n            setThings(recently);\n        });\n    }, []);\n\n    return (\n        <>\n            <div className=\"recommend recently\">\n                <h2 className=\"stit\">Recently Viewed</h2>\n                {/*<div className=\"control\" style=\"display:none;\">\n                    <div\n                        onClick={() => {\n                            setOffset(Math.max(4, offset - 4));\n                        }}>\n                        {\"<\"}\n                    </div>\n                    <div\n                        onClick={() => {\n                            setOffset(Math.min(offset + 4, ((things.length / 4) | 0) * 4));\n                        }}>\n                        {\">\"}\n                    </div>\n                </div>*/}\n            </div>\n            <Swiper className=\"recommend recently swiper-no-swiping\" slidesPerColumn={4}>\n                {things\n                    ? things\n                          .filter((_, i) => {\n                              if (offset > 4) {\n                                  return i >= offset - 4 && i < offset;\n                              }\n                              return i < offset;\n                          })\n                          .map((thing, i) => {\n                              return (\n                                  <SwiperSlide key={i}>\n                                      <ThingCard {...thing} />\n                                  </SwiperSlide>\n                              );\n                          })\n                    : null}\n            </Swiper>\n        </>\n    );\n};\n\nexport default Recommendation;\n","import cx from \"classnames\";\nimport React, { Dispatch, SetStateAction, useEffect, useState } from \"react\";\nimport SwiperCore, { Thumbs } from \"swiper\";\nimport Lightbox from \"react-image-lightbox\";\nimport { debounceEventUntilTimeout } from \"fancyutils\";\n\nimport { useFancy } from \"./FancyContext\";\nimport type { ReviewEntry as ReviewEntryType, Reviews as ReviewsType } from \"ftypes\";\n\nSwiperCore.use([Thumbs]);\n\ninterface ReviewParams {\n    page?: number;\n    per_page?: number;\n    q?: string;\n    sort?: \"newest\" | \"rating_desc\" | \"rating_asc\";\n    setLoading?: Dispatch<SetStateAction<boolean>>;\n}\n\nfunction useDefaultReviews({ page, per_page, q, sort, setLoading }: ReviewParams) {\n    const { thing } = useFancy();\n    const {\n        sales: { id: sid },\n    } = thing;\n\n    const skip = !sort && !per_page && (!page || page === 1) && !q;\n    const reviews = useReviews({ skip, sid, page, per_page, q, sort, setLoading });\n    if (skip) {\n        return thing.reviews;\n    } else {\n        return reviews;\n    }\n}\n\nfunction useReviews({\n    skip = false,\n    sid,\n    page,\n    per_page,\n    q,\n    sort,\n    setLoading,\n}: ReviewParams & { skip: boolean; sid: number }) {\n    const [reviews, setReviews] = useState(null);\n    const param = $.extend({}, { q, page, per_page, sort });\n\n    useEffect(() => {\n        if (skip) {\n            return;\n        }\n        setLoading?.(true);\n        $.get(`/rest-api/v2/reviews/saleitem/${sid}`, param)\n            .then((res) => {\n                setReviews(res);\n            })\n            .always(() => {\n                setLoading?.(false);\n            });\n    }, [skip, sid, q, page, per_page, sort]);\n\n    return reviews;\n}\n\nconst Reviews = () => {\n    const [loading, setLoading] = useState(false);\n    const [reviewOption, setReviewOption] = useState({\n        page: undefined,\n        per_page: undefined,\n        q: undefined,\n        sort: undefined,\n    });\n\n    const reviews = useDefaultReviews({ ...reviewOption, setLoading });\n\n    if (reviewOption.q === undefined && (!reviews || reviews.review_count === 0)) {\n        return null;\n    }\n\n    return (\n        <div className={cx(\"review-points review-section\", { loading })}>\n            <ReviewHead reviews={reviews} />\n            <ReviewList\n                reviews={reviews}\n                reviewOption={reviewOption}\n                setReviewOption={(applying) => {\n                    setReviewOption({ ...reviewOption, ...applying });\n                }}\n            />\n        </div>\n    );\n};\n\nconst ReviewHead = ({ reviews } : { reviews: ReviewsType }) => {\n    return (\n        <>\n            <h3 className=\"stit\">\n                {reviews.summary.rating_avg}{\" \"}\n                <small className=\"count\">\n                    ({reviews.summary.total_ratings} rating{reviews.summary.total_ratings != 1 ? \"s\" : \"\"})\n                </small>\n            </h3>\n            <ul className=\"optional\">\n                {reviews.summary.attributes.map((a, i) => {\n                    return (\n                        <li key={i}>\n                            <label>{a.label}</label>\n                            <span className=\"review-range\">\n                                <i className=\"review-range-value\" style={{ width: `${Number(a.rating) * 20}%` }}></i>\n                            </span>\n                            <b>{a.rating}</b>\n                        </li>\n                    );\n                })}\n            </ul>\n            {/* <div className=\"btn-area\">\n                <button className=\"btns-blue-embo btn-review\">Write a Review</button>\n            </div> */}\n        </>\n    );\n};\n\nconst ReviewEntry = ({ review } : { review: ReviewEntryType }) => {\n    const [photoIndex, setPhotoIndex] = useState<number | null>(null);\n\n    return (\n        <li>\n            <small className=\"date\">{review.date}</small>\n            <span className={\"review-range \" + \"point\" + (review.rating | 0)}>\n                <span className=\"bg\"></span>\n                <i className=\"review-range-value\">\n                    <span></span>\n                </i>\n            </span>\n            <span className=\"username\">{review.name}</span>{\" \"}\n            <span className=\"verified\">\n                <em>Verified User</em>\n            </span>\n            <b className=\"title\">{review.title}</b>\n            <span className=\"description\">{review.review}</span>\n            <div>\n                {review.images.map((image, i) => {\n                    return (\n                        <div className=\"photo\" key={i}>\n                            <img\n                                onClick={() => {\n                                    setPhotoIndex(i);\n                                }}\n                                alt=\"review image\"\n                                src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n                                style={{\n                                    backgroundImage: `url('${image.thumbnail_url}')`,\n                                }}\n                            />\n                        </div>\n                    );\n                })}\n                {photoIndex !== null && (\n                    <Lightbox\n                        mainSrc={review.images[photoIndex].image_url}\n                        nextSrc={review.images[(photoIndex + 1) % review.images.length].image_url}\n                        prevSrc={\n                            review.images[(photoIndex + review.images.length - 1) % review.images.length].image_url\n                        }\n                        onCloseRequest={() => setPhotoIndex(null)}\n                        onMovePrevRequest={() =>\n                            setPhotoIndex((photoIndex + review.images.length - 1) % review.images.length)\n                        }\n                        onMoveNextRequest={() => setPhotoIndex((photoIndex + 1) % review.images.length)}\n                    />\n                )}\n            </div>\n        </li>\n    );\n};\n\nconst ReviewList = ({ reviews, reviewOption, setReviewOption } : { reviews: ReviewsType }) => {\n    const currentPage = reviewOption.page || 1;\n    return (\n        <>\n            <fieldset className=\"search\">\n                <label>Filter reviews</label>\n                <input\n                    type=\"text\"\n                    placeholder=\"Search topics and reviews\"\n                    className=\"text\"\n                    onChange={debounceEventUntilTimeout((e) => {\n                        setReviewOption({ q: e.target.value });\n                    }, 500)}\n                />\n                <span className=\"sort\">\n                    <label>Sort By:</label>\n                    <select\n                        onChange={({ target }) => {\n                            setReviewOption({ sort: target.value });\n                        }}>\n                        <option value=\"newest\">Most Recent</option>\n                        <option value=\"rating_desc\">Highest Rated</option>\n                        <option value=\"rating_asc\">Lowest Rated</option>\n                    </select>\n                </span>\n            </fieldset>\n            <ul className=\"review-list\">\n                {reviews.reviews.length > 0 ? (\n                    reviews.reviews.map((review, i) => <ReviewEntry key={i} review={review} />)\n                ) : (\n                    <li className=\"no-review\">There is no review matching your request. Please try another option.</li>\n                )}\n            </ul>\n            <div className=\"review-pagination\">\n                {currentPage > 1 && (\n                    <>\n                        <a href=\"#\" className=\"more\">\n                            See more reviews\n                        </a>\n                        <a\n                            className=\"prev\"\n                            onClick={() => {\n                                setReviewOption({ page: Math.max(1, currentPage - 1) });\n                            }}>\n                            Prev\n                        </a>\n                    </>\n                )}\n                {currentPage < reviews.total_pages && (\n                    <a\n                        className=\"next\"\n                        onClick={() => {\n                            setReviewOption({ page: Math.min(currentPage + 1, reviews.total_pages) });\n                        }}>\n                        Next\n                    </a>\n                )}\n                {_.range(1, reviews.total_pages + 1).map((pageNum, i) => (\n                    <a\n                        key={i}\n                        onClick={() => {\n                            setReviewOption({ page: pageNum });\n                        }}\n                        className={currentPage === pageNum ? \"current\" : undefined}>\n                        {pageNum}\n                    </a>\n                ))}\n            </div>\n        </>\n    );\n};\n\nexport default Reviews;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport cx from \"classnames\";\n\nimport { useFancy } from \"../FancyContext\";\n\nconst Overview = () => {\n    const { thing } = useFancy();\n    const sales = thing.sales;\n    const bv = sales.seller.brand_values;\n    const shippingInfo: { [k: string]: any } = sales.shipping_info || {};\n\n    return (\n        <div className=\"overview\">\n            <dl className=\"shipping optional\">\n                <dt>Shipping Information</dt>\n                <dd>\n                    <ul>\n                        <li className=\"from\">\n                            <span>{shippingInfo.origin}</span>\n                        </li>\n                        {shippingInfo.cost && (\n                            <li className=\"cost\">\n                                <span>{shippingInfo.cost}</span>\n                            </li>\n                        )}\n                        {shippingInfo.window && (\n                            <li className=\"days\">\n                                <span>{shippingInfo.window}</span>\n                            </li>\n                        )}\n                    </ul>\n                </dd>\n            </dl>\n            {bv.length > 0 ? (\n                <dl className=\"brand-value optional\">\n                    <dt>Buy with Confidence</dt>\n                    <dd>\n                        {bv.slice(0,3).map(([className, text]) => (\n                            <span key={className} className={`badge ${className}`}>{text}</span>\n                        ))}\n                    </dd>\n                </dl>\n            ) : null}\n        </div>\n    );\n};\n\nconst Description = () => {\n    const [menu, setMenu] = useState<\"features\" | \"specification\" | \"returns\">(\"features\");\n    const [showMore, setShowMore] = useState(false);\n    const descEl = useRef<HTMLDivElement>(null);\n    const props = useFancy();\n    const { thing, thing: { sales } } = props;\n    const showFeatures = !!(sales.features && sales.features.trim());\n    const showSpecs = !!(sales.specifications && sales.specifications.trim());\n    const showReturns =\n        !!(sales.return_exchange_policy_title && sales.return_exchange_policy_title.trim()) ||\n        !!(sales.shipping_policy && sales.shipping_policy.trim());\n    \n    useEffect(() => {\n        if (showFeatures) {\n            setMenu('features');\n        } else if (showSpecs) {\n            setMenu('specification');\n        } else if (showReturns) {\n            setMenu('returns');\n        }\n        setShowMore(descEl.current ? descEl.current.clientHeight <= 76 : false);\n    }, [thing.id]);\n\n    return (\n        <div className=\"detail\">\n            <dl className={cx(\"description optional\")}>\n                <dt>Description</dt>                \n                <dd className={cx({ collapsed: !showMore })}>\n                    <div dangerouslySetInnerHTML={{ __html: sales.description }} ref={descEl}/>\n                </dd> \n                <a className=\"more\" onClick={() => setShowMore(true)} style={{display: showMore ? 'none' : undefined }}>Read more</a>\n            </dl>\n            <div className=\"features-menu\">\n                {showFeatures && (\n                    <a\n                        className={cx({ current: menu === \"features\" })}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            setMenu(\"features\");\n                        }}>\n                        Features\n                    </a>\n                )}\n                {showSpecs && (\n                    <a\n                        className={cx({ current: menu === \"specification\" })}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            setMenu(\"specification\");\n                        }}>\n                        Specifications\n                    </a>\n                )}\n                {showReturns && (\n                    <a\n                        className={cx({ current: menu === \"returns\" })}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            setMenu(\"returns\");\n                        }}>\n                        Returns\n                    </a>\n                )}\n            </div>\n            {showFeatures && (\n                <dl className={cx(\"features optional\", { show: menu === \"features\" })} data-featuretype=\"features\">\n                    <dt>\n                        <a\n                            onClick={(e) => {\n                                e.preventDefault();\n                                setMenu(\"features\");\n                            }}>\n                            Features\n                        </a>\n                    </dt>\n                    <dd dangerouslySetInnerHTML={{ __html: sales.features }} />\n                </dl>\n            )}\n            {showSpecs && (\n                <dl\n                    className={cx(\"features optional\", { show: menu === \"specification\" })}\n                    data-featuretype=\"specifications\">\n                    <dt>\n                        <a\n                            onClick={(e) => {\n                                e.preventDefault();\n                                setMenu(\"specification\");\n                            }}>\n                            Specifications\n                        </a>\n                    </dt>\n                    <dt></dt>\n                    <dd dangerouslySetInnerHTML={{ __html: sales.specifications }} />\n                </dl>\n            )}\n            {showReturns && (\n                <dl className={cx(\"features optional\", { show: menu === \"returns\" })} data-featuretype=\"returns\">\n                    <dt>\n                        <a\n                            onClick={(e) => {\n                                e.preventDefault();\n                                setMenu(\"returns\");\n                            }}>\n                            Returns\n                        </a>\n                    </dt>\n                    <dd><p>{sales.return_exchange_policy_title}</p><p>{sales.shipping_policy}</p></dd>\n                </dl>\n            )}\n        </div>\n    );\n};\n\nconst Detail = () => {\n    return (\n        <div className=\"figure-detail\">\n            <Overview />\n            <Description />\n        </div>\n    );\n};\n\nexport default Detail;\n","import React from \"react\";\nimport SaleItem from \"./SaleItem\";\n\nimport { useFancy } from \"../FancyContext\";\n\nconst Info = () => {\n    const fancyProps = useFancy();\n    const { thing: { reviews, sales }, fancyContext } = fancyProps;\n    const r = reviews.summary;\n\n    return (\n        <div className=\"figure-info\">\n            <div className=\"vendor\"><a href={sales.seller.shop_url}>{sales.seller.brand_name}</a></div>\n            {r.total_ratings > 0 && (\n                <div className=\"review-points\">\n                    <span style={{ cursor: r.total_reviews > 0 ? \"pointer\" : undefined }} onClick={() => {\n                        if (r.total_reviews > 0) {\n                            const $el = $(\".review-section\");\n                            const headerSize = parseInt($(\".container\").css(\"padding-top\")) || 0;\n                            if ($el.length) {\n                                $(window).scrollTop($el[0].offsetTop - headerSize);\n                            }\n                        }\n                    }}>\n                        {r.rating_avg} <small className=\"count\">({r.total_ratings} rating{r.total_ratings != 1 ? 's' : ''})</small>{\" \"}\n                    </span>\n                </div>\n            )}\n            <SaleItem {...fancyProps} />\n        </div>\n    );\n};\n\nexport default Info;\n","import React from \"react\";\n\nimport Image from \"./Image\";\nimport Info from \"./Info\";\nimport Detail from \"./Detail\";\n\nconst Thing = () => {\n    return (\n        <div className=\"wrapper-content\">\n            <Image />\n            <Info />\n            <Detail />\n        </div>\n    );\n};\n\nexport default Thing;\n","import React from \"react\";\nimport { numberFormat } from \"fancyutils\";\n\nexport interface ThingCardProps {\n    brand_name: string;\n    title: string;\n    html_url: string;\n    image_url: string;\n    max_price: number;\n    min_price: number;\n}\n\nexport default function ThingCard({ brand_name, title, html_url, image_url, max_price, min_price }: ThingCardProps) {\n    let p = <>${numberFormat(min_price, 0)}</>;\n    if (max_price !== min_price) {\n        p = (\n            <>\n                <em className=\"from\">from </em> ${numberFormat(min_price, 0)}\n            </>\n        );\n    }\n\n    return (\n        <div className=\"figure-item new\">\n            <figure>\n                <a href={html_url}>\n                    <span className=\"figure\" style={{ backgroundImage: `url(${image_url})` }}>\n                        <img\n                            src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n                            style={{ backgroundImage: `url(${image_url})` }}\n                        />\n                    </span>\n                </a>\n            </figure>\n            <figcaption>\n                <a href={html_url}>\n                    <span className=\"category\">{brand_name}</span>\n                    <b className=\"title\">{title}</b>\n                    <span className=\"price\">{p}</span>\n                </a>\n            </figcaption>\n        </div>\n    );\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { isStaticPage } from \"fancyutils\";\n\nimport Thing from \"./Thing\";\nimport MerchantInfo from \"./MerchantInfo\";\nimport Recommendation from \"./Recommendation\";\nimport Reviews from \"./Reviews\";\n\nimport { historyData } from \"../../container/history\";\nimport FancyContext, { getFancyContextDefaultValue, useFancy } from \"./FancyContext\";\n\nimport { OverlayPropsV1 } from \"ftypes\";\nimport { mapStateToThingProps } from \"../map\";\n\nfunction AdminMessages() {\n    const {\n        thing,\n    } = useFancy();\n\n    if (!thing.messages) {\n        return null;\n    }\n\n    return (\n        <div className=\"warning\">\n            <span>This item is not visible to customers because:</span>\n            <ul>\n                {thing.messages.map((m, i) => (\n                    <li key={i}>{m}</li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nfunction BreadCrumb() {\n    const { thing } = useFancy();\n\n    return (\n        <div className=\"breadcrumb\">\n            {thing.breadcrumbs.map(({ label, href }, i) => (\n                <React.Fragment key={i}>\n                    <a href={href}>{label}</a>{\" \"}\n                    {i !== thing.breadcrumbs.length - 1 ? (\n                        <>\n                            <span className=\"arrow\">&gt;</span>{\" \"}\n                        </>\n                    ) : null}\n                </React.Fragment>\n            ))}\n        </div>\n    );\n}\n\nclass AppV2 extends Component<OverlayPropsV1> {\n    componentDidUpdate(prevProps: OverlayPropsV1) {\n        const pt = prevProps.thing;\n        const ct = this.props.thing;\n\n        if (ct != null) {\n            if (!pt || pt.id !== ct.id) {\n                if (isStaticPage()) {\n                    $(window).scrollTop(0);\n                } else {\n                    $(\"#overlay-thing > .popup\").attr(\"tabindex\", -1).focus();\n                }\n\n                if (ct.sales && ct.sales.options && ct.sales.options.length > 1) {\n                    const nonSoldoutOptions = ct.sales.options.filter((o) => !o.soldout);\n                    let minimumOption;\n                    if (nonSoldoutOptions.length > 0) {\n                        minimumOption = _.min(nonSoldoutOptions, (o) => Number(o.price));\n                    } else {\n                        minimumOption = _.min(ct.sales.options, (o) => Number(o.price));\n                    }\n                    if (ct.sales.options[0].id !== minimumOption.id) {\n                        store.dispatch(updateSaleContext({ saleOptionID: minimumOption.id }));\n                    }\n                }\n            }\n        }\n    }\n\n    getFancyContext() {\n        return this.props.thing ? this.props : getFancyContextDefaultValue();\n    }\n\n    render() {\n        const { thing } = this.props;\n\n        if (historyData.locationIsThingPage && thing != null) {\n            return (\n                <FancyContext.Provider value={this.getFancyContext()}>\n                    <AdminMessages />\n                    <BreadCrumb />\n                    <Thing />\n                    <Reviews />\n                    <MerchantInfo />\n                    <Recommendation />\n                </FancyContext.Provider>\n            );\n        } else {\n            return <div />;\n        }\n    }\n}\n\nconst ReduxComponentEnhancer = connect<OverlayPropsV1>(mapStateToThingProps);\nconst Overlay = ReduxComponentEnhancer(AppV2);\n\nexport default Overlay;\n","// This is entrypoint, which `React.render` takes place after DOM is ready.\nimport React from \"react\";\nimport { Route, Router, Switch } from \"react-router-dom\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport Bugsnag from \"@bugsnag/js\";\nimport BugsnagPluginReact from \"@bugsnag/plugin-react\";\nimport { history } from \"common-components\";\n\nimport OverlayThing from \"./components/v2\"\n\nimport { attachEntryEvents } from \"./container/entry-events\";\nimport { pagingContext } from \"./container/routeutils\";\nimport store from \"./store/store\";\nimport { historyHook } from \"./container/history\";\n\nif (__Config.bugsnag) {\n    Bugsnag.start({\n        apiKey: \"a54d48e98cb0410b7bdf0e60a905b00e\",\n        plugins: [new BugsnagPluginReact()],\n        user: {\n            id: window.__FancyUser?.id || undefined\n        },\n    });\n}\n\nconst onLoad = () => {\n    require(\"./Shared\");\n\n    const overlayContainer = document.querySelector(\"#container-wrapper .container\")\n    const thingRegex = /\\/(sales|things)\\/(\\d+)/;\n    const articleRegex = /\\/articles\\/(.+)/;\n    const initialHref = location.href;\n\n    $(window).on(\"popstate.overlay\", function(event) {\n        if (\n            location.href !== initialHref &&\n            !(location.pathname.match(thingRegex) || location.pathname.match(articleRegex))\n        ) {\n            event.preventDefault();\n            location.reload();\n        }\n    });\n\n    const ErrorBoundary = __Config.bugsnag ? Bugsnag.getPlugin(\"react\")!.createErrorBoundary(React) : React.Fragment;\n\n    const tree = (\n        <ErrorBoundary>\n            <Provider store={store}>\n                <Router history={history}>\n                    <Switch>\n                        <Route path=\"/things/*\">\n                            <OverlayThing />\n                        </Route>\n                        <Route path=\"*\" component={() => null} />\n                    </Switch>\n                </Router>\n            </Provider>\n        </ErrorBoundary>\n    );\n\n    render(tree, overlayContainer, () => {\n        history.listen(historyHook);\n        historyHook({ pathname: location.pathname, search: location.search }); // should init once\n        attachEntryEvents();\n        pagingContext.init();\n    });\n};\n\nif (document.readyState !== \"loading\") {\n    onLoad();\n} else {\n    document.addEventListener(\"DOMContentLoaded\", onLoad);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tif(mode & 2 && typeof value == 'object' && value) {\n\t\tfor(const key in value) def[key] = () => value[key];\n\t}\n\tdef['default'] = () => value;\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + {\"OverlayThing.popup\":\"f9395948bbe2f717a5f8\",\"OverlayThing.admin\":\"db09eb762af8c32c5be5\"}[chunkId] + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","var inProgress = {};\nvar dataWebpackPrefix = \"fancy:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => fn(event));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/_static/_ui/js/bundle/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"OverlayThing.main\": 0\n};\n\nvar deferredModules = [\n\t[\"./_static/modules/ui/overlay-thing/index.tsx\",\"vendors\",\"libfancy\",\"_static_modules_ui_overlay-thing_components_v2_Thing_Image_index_tsx-_static_modules_ui_overl-b8f045\"]\n];\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => {\n\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n\t\t\t\t\t});\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = () => {\n\n};\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = () => {\n\n\t\t}\n\t}\n\treturn result;\n}\n__webpack_require__.x = () => {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = () => {\n\n\t}\n\tchunkLoadingGlobal = chunkLoadingGlobal.slice();\n\tfor(var i = 0; i < chunkLoadingGlobal.length; i++) webpackJsonpCallback(chunkLoadingGlobal[i]);\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (data) => {\n\tvar [chunkIds, moreModules, runtime, executeModules] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tparentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfancy\"] = self[\"webpackChunkfancy\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = webpackJsonpCallback;","// run startup\nreturn __webpack_require__.x();\n"],"sourceRoot":""}