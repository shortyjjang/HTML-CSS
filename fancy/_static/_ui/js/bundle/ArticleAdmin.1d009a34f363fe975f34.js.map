{"version":3,"sources":["webpack://fancy/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://fancy/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://fancy/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://fancy/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://fancy/./node_modules/@babel/runtime/helpers/createClass.js","webpack://fancy/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://fancy/./node_modules/@babel/runtime/helpers/extends.js","webpack://fancy/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://fancy/./node_modules/@babel/runtime/helpers/inherits.js","webpack://fancy/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://fancy/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://fancy/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://fancy/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://fancy/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://fancy/./node_modules/@babel/runtime/helpers/typeof.js","webpack://fancy/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://fancy/./node_modules/autosize/dist/autosize.js","webpack://fancy/./_static/modules/ui/article-admin/MediumEditorInsertPluginFancy.js","webpack://fancy/./node_modules/blueimp-file-upload/js/vendor/jquery.ui.widget.js","webpack://fancy/./node_modules/classnames/index.js","webpack://fancy/./node_modules/date-fns/difference_in_calendar_days/index.js","webpack://fancy/./node_modules/date-fns/format/index.js","webpack://fancy/./node_modules/date-fns/get_day_of_year/index.js","webpack://fancy/./node_modules/date-fns/get_iso_week/index.js","webpack://fancy/./node_modules/date-fns/get_iso_year/index.js","webpack://fancy/./node_modules/date-fns/is_date/index.js","webpack://fancy/./node_modules/date-fns/is_valid/index.js","webpack://fancy/./node_modules/date-fns/locale/_lib/build_formatting_tokens_reg_exp/index.js","webpack://fancy/./node_modules/date-fns/locale/en/build_distance_in_words_locale/index.js","webpack://fancy/./node_modules/date-fns/locale/en/build_format_locale/index.js","webpack://fancy/./node_modules/date-fns/locale/en/index.js","webpack://fancy/./node_modules/date-fns/parse/index.js","webpack://fancy/./node_modules/date-fns/start_of_day/index.js","webpack://fancy/./node_modules/date-fns/start_of_iso_week/index.js","webpack://fancy/./node_modules/date-fns/start_of_iso_year/index.js","webpack://fancy/./node_modules/date-fns/start_of_week/index.js","webpack://fancy/./node_modules/date-fns/start_of_year/index.js","webpack://fancy/./node_modules/fbjs/lib/emptyFunction.js","webpack://fancy/./node_modules/fbjs/lib/invariant.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars.runtime.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/base.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/decorators.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/exception.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/helpers.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/helpers/each.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/helpers/if.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/helpers/log.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/helpers/with.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/logger.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/no-conflict.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/runtime.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/safe-string.js","webpack://fancy/./node_modules/handlebars/dist/cjs/handlebars/utils.js","webpack://fancy/./node_modules/history/DOMUtils.js","webpack://fancy/./node_modules/history/LocationUtils.js","webpack://fancy/./node_modules/history/PathUtils.js","webpack://fancy/./node_modules/history/createBrowserHistory.js","webpack://fancy/./node_modules/history/createTransitionManager.js","webpack://fancy/./node_modules/blueimp-file-upload/js/jquery.fileupload.js","webpack://fancy/./node_modules/invariant/browser.js","webpack://fancy/./node_modules/jquery-sortable/source/js/jquery-sortable.js","webpack://fancy/./node_modules/medium-editor/dist/js/medium-editor.js","webpack://fancy/./node_modules/object-assign/index.js","webpack://fancy/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://fancy/./node_modules/prop-types/index.js","webpack://fancy/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://fancy/./node_modules/react-contenteditable/lib/react-contenteditable.js","webpack://fancy/./node_modules/react-contenteditable/node_modules/fast-deep-equal/index.js","webpack://fancy/./node_modules/react-dom/cjs/react-dom.production.min.js","webpack://fancy/./node_modules/react-dom/index.js","webpack://fancy/./node_modules/react-sortable/lib/SortableComposition.js","webpack://fancy/./node_modules/react-sortable/lib/helpers.js","webpack://fancy/./node_modules/react-sortable/lib/index.js","webpack://fancy/./node_modules/react/cjs/react.production.min.js","webpack://fancy/./node_modules/react/index.js","webpack://fancy/./node_modules/resolve-pathname/index.js","webpack://fancy/./node_modules/scheduler/cjs/scheduler.production.min.js","webpack://fancy/./node_modules/scheduler/index.js","webpack://fancy/./node_modules/toggle-selection/index.js","webpack://fancy/./node_modules/value-equal/index.js","webpack://fancy/./node_modules/warning/browser.js","webpack://fancy/external \"jQuery\"","webpack://fancy/webpack/bootstrap","webpack://fancy/webpack/runtime/compat get default export","webpack://fancy/webpack/runtime/define property getters","webpack://fancy/webpack/runtime/global","webpack://fancy/webpack/runtime/harmony module decorator","webpack://fancy/webpack/runtime/hasOwnProperty shorthand","webpack://fancy/webpack/runtime/make namespace object","webpack://fancy/./_static/modules/libf/PopupHelper.js","webpack://fancy/./_static/modules/libf/FancyUtils.ts","webpack://fancy/./_static/modules/libf/CDNUtils.js","webpack://fancy/./_static/modules/libf/FancyMixin.js","webpack://fancy/./_static/modules/ui/article-admin/MediumEditorExt-Anchor.js","webpack://fancy/./_static/modules/ui/article-admin/ReactMediumEditor.js","webpack://fancy/./_static/modules/libf/common-components/Video.js","webpack://fancy/./_static/modules/libf/common-components/MoreShareUtils.js","webpack://fancy/./_static/modules/libf/common-components/SharePopover.js","webpack://fancy/./_static/modules/libf/common-components/Popup.js","webpack://fancy/./_static/modules/libf/common-components/MoreShare.js","webpack://fancy/./_static/modules/libf/common-components/MoreShareFacade.js","webpack://fancy/./_static/modules/libf/common-components/History.ts","webpack://fancy/./_static/modules/libf/common-components/ProductSlide.js","webpack://fancy/./_static/modules/ui/article-admin/LocalUtils.js","webpack://fancy/./_static/modules/ui/article-admin/CoverImage.js","webpack://fancy/./_static/modules/ui/article-admin/Info.js","webpack://fancy/./_static/modules/ui/article-admin/Gallery.js","webpack://fancy/./_static/modules/ui/article-admin/ReactBridge.js","webpack://fancy/./_static/modules/ui/article-admin/ThingCard.js","webpack://fancy/./_static/modules/ui/article-admin/Status.js","webpack://fancy/./_static/modules/ui/article-admin/ExternalEventHandlers.js","webpack://fancy/./_static/modules/libf/DOMHelper.ts","webpack://fancy/./_static/modules/ui/article-admin/Shortcode.js","webpack://fancy/./_static/modules/ui/article-admin/ArticleLifecycle.js","webpack://fancy/./_static/modules/ui/article-admin/Admin.js"],"names":["module","exports","arr","len","length","i","arr2","Array","isArray","self","ReferenceError","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","obj","value","_extends","assign","arguments","source","hasOwnProperty","call","apply","this","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","constructor","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_typeof","assertThisInitialized","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayLikeToArray","minLen","n","toString","slice","name","from","test","keys","values","map","Map","has","indexOf","get","set","delete","index","splice","createEvent","Event","bubbles","e","evt","document","initEvent","ta","nodeName","heightOffset","clientWidth","cachedHeight","pageResize","update","destroy","style","window","removeEventListener","forEach","bind","height","resize","overflowY","overflowX","wordWrap","addEventListener","init","getComputedStyle","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","changeOverflow","width","offsetWidth","getParentOverflows","el","parentNode","Element","scrollTop","node","scrollHeight","overflows","docTop","documentElement","styleHeight","Math","round","computed","actualHeight","offsetHeight","dispatchEvent","methods","autosize","options","x","default","boundFactory","$","Handlebars","MediumEditor","template","container","depth0","helpers","partials","data","helper","escapeExpression","placeholder","helperMissing","nullContext","stack1","each","styles","program","noop","label","alias1","alias2","alias3","actions","html","alias4","img","caption","progress","pluginName","defaults","editor","enabled","addons","images","embeds","ucfirst","str","charAt","toUpperCase","parseVideo","url","match","RegExp","$3","type","id","$6","Core","$el","templates","MediumInsert","Templates","extend","_defaults","_name","_serialize","serialize","_destroy","_setup","setup","_hideInsertButtons","hideButtons","editorSerialize","editorDestroy","editorSetup","getExtensionByName","updatePlaceholder","editorUpdatePlaceholder","getAdjacentCursor","$place","is","recoveryMode","cursor","before","closest","restoreCursor","recoveryObject","elToReplace","prepend","insertAfter","console","warn","addClass","disable","initAddons","clean","events","isWhitelabelV2","productCardTemplate","_","trim","productSlideshowTemplate","$insertProductDialog","dialog","$obj","selectedTemplate","find","searchedTemplate","$searched","$selected","Sortable","handle","ThingCache","searchCache","ref","selectedItemIds","on","debounce","dfd","val","Deferred","resolve","REST_API_ENDPOINT","keyword","then","things","empty","products","show","thing","sid","append","cached","hide","fail","xhr","status","alertify","alert","trigger","tpl","ids","Number","attr","toArray","items","clone","updatingRoot","replaceWith","close","cnt","text","sidToDelete","remove","filter","$root","_selectedItemIds","jQueryPromiseAll","arrayOfPromises","jQuery","when","promise","ctx","image","sales","src","brand_name","seller","title","price","thumbnail","args","end","setTimeout","t","positionButtons","showButtons","activeInsertAdded","resetOptionV2","hideOptionPopupV2","that","adjustCaretBeforeInsertWidget","root","migrateExistingContent","after","moveCaret","checkSelectionActive","$anchorNode","getSelection","anchorNode","insertYoutubeOnEvent","input","vid","$videoElement","EditorControl","refresh","preventDefault","proxy","isVisible","toggleAddons","tb","getEditor","isDisplayed","hideToolbar","GalleryControl","uploadImages","nextImages","renderTo","control","addImages","prompt","focus","which","open","click","isSlide","hasClass","isList","$that","sort","a","b","one","$this","$slide","off","productSlide","itemPerSlide","center","$wrapper","$li","removingId","selectElement","showAndUpdateToolbar","body","$data","removeClass","elements","enable","dontShow","contents","children","not","toLowerCase","hidePlaceholder","showPlaceholder","base","triggerInput","deselect","removeAllRanges","disableSelection","addon","addonName","$buttons","$lastEl","wrap","parent","addButtons","prev","getButtons","templateName","buttons","prop","css","toggleButtons","range","$current","$p","activeAddon","selection","rangeCount","getRangeAt","commonAncestorContainer","removeAttr","$lastCaption","elementsContainer","elementsContainerAbsolute","getPropertyValue","position","left","top","parseInt","$tools","toggle","hideAddons","addonAction","$a","currentTarget","action","meta","sel","textEl","createRange","childNodes","createTextNode","appendChild","setStart","collapse","addRange","addCaption","$newCaption","removeCaptions","$ignore","$captions","removeCaptionPlaceholder","$caption","$cl","insertBefore","fn","textareaId","siblings","oembedProxy","captions","captionPlaceholder","storeMeta","wide","right","clicked","$event","parseOnPaste","Embeds","core","_serializePreEmbeds","$embeds","backwardsCompatibility","add","togglePlaceholder","fixRightClickOnPlaceholder","processLink","stopPropagation","oembed","parseUrl","processPasted","pastedUrl","originalEvent","clipboardData","getData","pasted","support","cors","ajax","crossDomain","cache","dataType","success","JSON","stringify","error","jqXHR","textStatus","errorThrown","responseJSON","parse","responseText","log","message","join","replace","embed","$div","nodeType","textContent","FB","XFBML","convertBadEmbed","content","$empty","$content","emptyTemplate","selectEmbed","$embed","addToolbar","unselectEmbed","removeEmbed","$toolbar","$toolbar2","toolbarContainer","active","first","repositionToolbars","fadeIn","autoRepositionToolbars","elementsContainerBoundary","getBoundingClientRect","containerWidth","offset","toolbarAction","$button","$lis","className","added","removed","toolbar2Action","callback","ImageModes","Full","Normal","Quoted","Grid","ImageModesEditClasses","ImageModesClasses","quotedPlaceHolderMsg","Util","deleteMethod","deleteScript","preview","autoGrid","fileUploadOptions","acceptFileTypes","fileDeleteOptions","grid","sorting","sortable","group","containerSelector","itemSelector","nested","vertical","afterMove","messages","acceptFileTypesError","maxFileSizeError","Images","$currentImage","FileReader","_serializePreImages","getImageMode","$image","changeMode","$fig","prevMode","nextMode","tempCaptionCallback","tempCaption","quote","$img","$images","ReactMediumEditor__changeMode","handleModeChange","event","$target","getAttribute","setAttribute","epochId","String","Date","popup","$grid","image_url","serialziedImages","organizeImageService","organizedImages","original","$cap","$file","XMLHttpRequest","upload","progressall","fileupload","uploadAdd","reader","uploadErrors","file","files","maxFileSize","size","uploadFailed","autoUpload","process","onload","result","readAsDataURL","submit","uploadProgressall","$progressbar","loaded","total","uploadProgress","context","uploadDone","uiid","showImage","additionals","__SECRET__","domImage","isGrid","getDOMImage","uploadCompleted","blankUrl","load","expanded","appendTo","Image","selectImage","blur","unselectImage","removeImage","$parent","current","caretPosition","$sibling","selectedHtml","$selectedImage","getCaretOffsets","getSelectionHtml","deleteFile","$tpl","util","Error","require","orig","widget_uuid","widget_slice","cleanData","elems","elem","_data","triggerHandler","widget","fullName","existingConstructor","basePrototype","proxiedPrototype","namespace","split","Widget","expr","element","_createWidget","version","_proto","_childConstructors","_super","_superApply","isFunction","returnValue","__super","__superApply","widgetEventPrefix","widgetName","widgetFullName","child","childPrototype","bridge","inputIndex","inputLength","isPlainObject","object","isMethodCall","methodValue","jquery","pushStack","concat","option","_init","defaultElement","disabled","uuid","eventNamespace","bindings","hoverable","focusable","_on","ownerDocument","defaultView","parentWindow","_getCreateOptions","_create","_trigger","_getCreateEventData","unbind","removeData","camelCase","parts","curOption","shift","pop","_setOptions","_setOption","toggleClass","suppressDisabledCheck","handlers","delegateElement","handler","handlerProxy","guid","eventName","selector","delegate","_off","undelegate","_delay","delay","_hoverable","mouseenter","mouseleave","_focusable","focusin","focusout","isDefaultPrevented","method","defaultEffect","effect","hasOptions","effectName","duration","isEmptyObject","complete","effects","easing","queue","hasOwn","classNames","classes","arg","argType","startOfDay","dirtyDateLeft","dirtyDateRight","startOfDayLeft","startOfDayRight","timestampLeft","getTime","getTimezoneOffset","timestampRight","getDayOfYear","getISOWeek","getISOYear","isValid","enLocale","formatters","date","getMonth","addLeadingZeros","ceil","getDate","getDay","getFullYear","substr","getHours","hours","getMinutes","getSeconds","floor","getMilliseconds","formatTimezone","removeFormattingTokens","delimeter","sign","absOffset","abs","minutes","number","targetLength","output","dirtyDate","dirtyFormatStr","dirtyOptions","formatStr","locale","localeFormatters","format","formattingTokensRegExp","formatter","array","Function","buildFormatFn","formatFn","startOfYear","differenceInCalendarDays","startOfISOWeek","startOfISOYear","diff","year","fourthOfJanuaryOfNextYear","setFullYear","setHours","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","argument","isDate","commonFormatterKeys","formatterKeys","formattingTokens","reverse","distanceInWordsLocale","lessThanXSeconds","other","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","localize","token","count","addSuffix","comparison","buildFormattingTokensRegExp","months3char","monthsFull","weekdays2char","weekdays3char","weekdaysFull","meridiemUppercase","meridiemLowercase","meridiemFull","formatterToken","rem100","ordinal","buildDistanceInWordsLocale","buildFormatLocale","distanceInWords","MILLISECONDS_IN_HOUR","MILLISECONDS_IN_MINUTE","parseTokenDateTimeDelimeter","parseTokenPlainTime","parseTokenYY","parseTokensYYY","parseTokenYYYY","parseTokensYYYYY","parseTokenMM","parseTokenDDD","parseTokenMMDD","parseTokenWww","parseTokenWwwD","parseTokenHH","parseTokenHHMM","parseTokenHHMMSS","parseTokenTimezone","parseTokenTimezoneZ","parseTokenTimezoneHH","parseTokenTimezoneHHMM","dayOfISOYear","isoYear","week","day","setUTCFullYear","getUTCDay","setUTCDate","getUTCDate","additionalDigits","dateStrings","dateString","timeString","exec","time","timezone","splitDateString","parseYearResult","parseTokenYYY","parseTokenYYYYY","yearString","restDateString","centuryString","parseYear","month","dayOfYear","parseDate","timestamp","seconds","parseTime","timezoneString","absoluteOffset","parseTimezone","startOfWeek","weekStartsOn","fourthOfJanuary","setDate","cleanDate","makeEmptyFunction","emptyFunction","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","thatReturnsArgument","condition","c","d","f","argIndex","framesToPop","_interopRequireDefault","__esModule","_interopRequireWildcard","newObj","_handlebarsSafeString2","_handlebarsException2","Utils","runtime","_handlebarsNoConflict2","hb","HandlebarsEnvironment","SafeString","Exception","VM","spec","inst","_utils","_exception2","_helpers","_decorators","_logger2","_internalProtoAccess","VERSION","COMPILER_REVISION","LAST_COMPATIBLE_COMPILER_REVISION","REVISION_CHANGES","1","2","3","4","5","6","7","8","objectType","decorators","registerDefaultHelpers","registerDefaultDecorators","logger","registerHelper","unregisterHelper","registerPartial","partial","unregisterPartial","registerDecorator","unregisterDecorator","resetLoggedPropertyAccesses","resetLoggedProperties","createFrame","_decoratorsInline2","_decoratorsInline","ret","errorProps","loc","line","endLineNumber","column","endColumn","start","tmp","idx","captureStackTrace","lineNumber","nop","_helpersBlockHelperMissing2","_helpersEach2","_helpersHelperMissing2","_helpersIf2","_helpersLog2","_helpersLookup2","_helpersWith2","moveHelperToHooks","helperName","keepHelper","hooks","inverse","contextPath","appendContextPath","_exception","priorKey","execIteration","field","last","blockParams","j","g","newContext","it","conditional","hash","includeZero","isEmpty","level","lookupProperty","createNewLookupObject","_len","sources","_key","createProtoAccessControl","runtimeOptions","defaultMethodWhiteList","defaultPropertyWhiteList","properties","whitelist","_createNewLookupObject","allowedProtoProperties","defaultValue","allowProtoPropertiesByDefault","allowedProtoMethods","allowProtoMethodsByDefault","resultIsAllowed","protoAccessControl","propertyName","checkWhiteList","loggedProperties","protoAccessControlForType","logUnexpecedPropertyAccessOnce","wrapHelper","transformOptionsFn","methodMap","lookupLevel","levelMap","$Handlebars","noConflict","checkRevision","compilerInfo","compilerRevision","currentRevision","_base","runtimeVersions","compilerVersions","templateSpec","env","main","decorator","main_d","compiler","templateWasPrecompiledWithCompilerV7","strict","lookup","depths","lambda","invokePartial","resolvePartial","extendedOptions","compile","compilerOptions","indent","lines","l","programs","declaredBlockParams","programWrapper","wrapProgram","depth","_parent","mergeIfNeeded","param","common","seal","useData","initData","useBlockParams","useDepths","executeDecorators","isTop","mergedHelpers","_internalWrapHelper","passLookupPropertyOption","wrapHelpersToPassLookupProperty","usePartial","useDecorators","keepHelperInHelpers","allowCallsToHelperMissing","_child","currentPartialBlock","partialBlock","prog","currentDepths","string","toHTML","possible","badChars","escapeChar","frame","params","path","escape","chr","canUseDOM","createElement","listener","attachEvent","detachEvent","getConfirmation","confirm","supportsHistory","ua","navigator","userAgent","history","supportsPopStateOnHashChange","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","state","locationsAreEqual","createLocation","_resolvePathname2","_valueEqual2","_PathUtils","currentLocation","location","parsePath","pathname","search","decodeURI","URIError","addLeadingSlash","stripLeadingSlash","hasBasename","prefix","stripBasename","stripTrailingSlash","hashIndex","searchIndex","createPath","_warning2","_invariant2","_LocationUtils","_createTransitionManager2","_DOMUtils","PopStateEvent","HashChangeEvent","getHistoryState","globalHistory","canUseHistory","needsHashChangeListener","_props$forceRefresh","forceRefresh","_props$getUserConfirm","getUserConfirmation","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_ref","_window$location","createKey","random","transitionManager","setState","nextState","notifyListeners","handlePopState","handlePop","handleHashChange","forceNextPop","confirmTransitionTo","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","initialLocation","createHref","href","pushState","prevIndex","nextKeys","replaceState","goBack","goForward","listenerCount","checkDOMListeners","isBlocked","block","unblock","setPrompt","listen","unlisten","appendListener","_warning","listeners","nextPrompt","isActive","item","factory","getDragHandler","isDragOver","dataTransfer","inArray","types","delegatedEvent","dropEffect","fileInput","xhrFileUpload","ProgressEvent","xhrFormDataFileUpload","FormData","blobSlice","Blob","webkitSlice","mozSlice","dropZone","pasteZone","replaceFileInput","paramName","singleFileUploads","limitMultiFileUploads","limitMultiFileUploadSize","limitMultiFileUploadSizeOverhead","sequentialUploads","limitConcurrentUploads","forceIframeTransport","redirect","redirectParamName","postMessage","multipart","maxChunkSize","uploadedBytes","recalculateProgress","progressInterval","bitrateInterval","i18n","formData","form","serializeArray","processData","contentType","timeout","_specialOptions","_blobSlice","_BitrateTimer","now","bitrate","getBitrate","interval","timeDiff","_isXHRUpload","_getFormData","_getTotal","_initProgressObject","_progress","_initResponseObject","_response","_onProgress","lengthComputable","_time","chunkSize","_bitrateTimer","_initProgressListener","ajaxSettings","oe","_isInstanceOf","_initXHRData","headers","contentRange","blob","encodeURI","uploadName","_initIframeSettings","targetHost","host","_initDataSettings","_chunkedUpload","_getParamName","_initFormSettings","formAcceptCharset","_getAJAXSettings","_getDeferredState","deferred","isResolved","isRejected","_enhancePromise","always","_getXHRPromise","resolveOrReject","resolveWith","rejectWith","abort","_addConvenienceMethods","getPromise","resolveFunc","rejectFunc","_processQueue","_onSend","processing","response","_getUploadedBytes","getResponseHeader","upperBytesPos","testOnly","fs","ub","mcs","currentLoaded","_beforeSend","_active","_onDone","_onFail","_onAlways","jqXHRorResult","jqXHRorError","aborted","slot","pipe","send","_sending","nextSlot","_slots","_sequence","_onAdd","paramNameSet","paramNameSlice","fileSet","filesLength","limit","limitSize","overhead","batchSize","originalFiles","newData","_replaceFileInput","inputClone","restoreFocus","activeElement","fileInputClone","reset","detach","_handleFileTreeEntry","entry","dirReader","entries","errorHandler","readEntries","results","_handleFileTreeEntries","successHandler","isFile","_file","relativePath","isDirectory","createReader","_getDroppedFiles","webkitGetAsEntry","getAsEntry","getAsFile","makeArray","_getSingleFileInputFiles","fileName","fileSize","_getFileInputFiles","_onChange","_onPaste","_onDrop","_onDragOver","_onDragEnter","_onDragLeave","_initEventHandlers","dragover","drop","dragenter","dragleave","paste","change","_destroyEventHandlers","reinit","_initSpecialOptions","_getRegExp","modifiers","_isRegExpOption","_initDataAttributes","attributes","reject","containerDefaults","drag","exclude","groupDefaults","$placeholder","$closestItemOrContainer","containerPath","distance","itemPath","bodyClass","draggedClass","isValidTarget","$item","onCancel","onDrag","onDragStart","outerHeight","outerWidth","onDrop","onMousedown","placeholderClass","pullPlaceholder","$children","parentIsContainer","subContainers","tolerance","containerGroups","groupCounter","emptyBox","bottom","eventNames","scroll","subContainerKey","max","setDimensions","dimensions","useOffset","offsetMethod","pos","getRelativePosition","pointer","sortByDistanceDesc","lastPointer","dim","distances","ContainerGroup","containers","rootGroup","scrollProxy","dragProxy","dropProxy","Container","dragInit","itemContainer","$document","closestItem","setPointer","toggleListeners","setupDelayTimer","dragInitDone","dragging","distanceMet","delayMet","offsetParent","getPointer","box","sameResultBox","searchValidTarget","lastAppendedItem","getContainer","clearDimensions","clearOffsetParent","relativePointer","lastRelativePointer","getContainerDimensions","$getOffsetParent","getItemOffsetParent","movePlaceholder","containerDimensions","currentPointer","touches","pageX","pageY","clearTimeout","_mouseDelayTimer","traverse","_clearDimensions","isValidDrag","getItemDimensions","validTarget","hasChildGroup","getContainerGroup","itemDimensions","yCenter","xCenter","$getChildren","childGroup","childContainers","isContainer","childType","grep","API","methodOrOptions","$t","view","classListProp","elemCtrProto","objCtr","strTrim","arrIndexOf","DOMEx","code","DOMException","checkTokenAndGetIndex","classList","ClassList","trimmedClasses","_updateClassName","classListProto","classListGetter","contains","tokens","updated","force","classListPropDesc","ex","__defineGetter__","URL","webkitURL","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","get_class","FakeBlobBuilder","FakeBlob","encoding","FBB_proto","FB_proto","FileReaderSync","FileException","file_ex_codes","file_ex_code","real_URL","real_create_object_URL","createObjectURL","real_revoke_object_URL","revokeObjectURL","btoa","atob","ArrayBuffer","Uint8Array","origin","fake","uri","uri_origin","uri_info","createElementNS","protocol","data_URI_header","decodeURIComponent","encodeURIComponent","object_URL","substring","bb","buf","buf_len","fromCharCode","fr","readAsBinaryString","unescape","getBlob","blobParts","builder","buffer","versions","electron","Extension","Button","FormExtension","AnchorForm","AnchorPreview","KeyboardCommands","FontNameForm","FontSizeForm","Placeholder","Toolbar","ImageDragging","extensions","copyInto","overwrite","dest","nodeContainsWorksWithTextNodes","testParent","testText","exc","isIE","appName","isEdge","isFF","isMac","platform","keyCode","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","DELETE","K","M","V","isMetaCtrlKey","metaKey","ctrlKey","isKey","getKeyCode","charCode","blockContainerElementNames","emptyElementNames","createLink","textNodes","anchor","moveTextRangeIntoElement","findOrCreateMatchingTextNodes","treeWalker","createTreeWalker","NodeFilter","SHOW_ALL","matchedNodes","currentTextIndex","startReached","currentNode","newNode","nextNode","nodeValue","splitStartNodeIfNeeded","splitEndNodeIfNeeded","tagName","matchStartIndex","splitText","matchEndIndex","textIndexOfEndOfFarthestNode","endSplitPoint","splitByBlockElements","toRet","blockElementQuery","querySelectorAll","findAdjacentTextNodeWithContent","rootNode","targetNode","pastTarget","nodeIterator","createNodeIterator","SHOW_TEXT","findPreviousSibling","isMediumEditorElement","previousSibling","isDescendant","checkEquality","isElement","throttle","func","wait","previous","later","remaining","traverseUp","testElementFunction","htmlEntities","insertHTMLCommand","doc","fragment","lastNode","toReplace","res","ecArgs","queryCommandSupported","execCommand","ignore","firstChild","selectNode","startOffset","endOffset","innerHTML","deleteContents","createDocumentFragment","insertNode","cloneRange","setStartAfter","selectRange","callListeners","execFormatBlock","blockContainer","getTopBlockContainer","getSelectionStart","some","childNode","isBlockContainer","setTargetBlank","anchorUrl","rel","getElementsByTagName","removeTargetBlank","removeAttribute","addClassToAnchors","buttonClass","aChildren","parentAnchor","getClosestTag","isListItem","cleanListDOM","list","parentElement","unwrap","moveCursor","splitOffDOMTree","leafNode","splitLeft","splitOnNode","createdNode","splitRight","appendLast","currParent","newParent","cloneNode","sibling","nextSibling","hasChildNodes","removeChild","startNode","endNode","newElement","findCommonRoot","temp","lastChild","rootChildren","afterLast","depthOfNode","inNode","theDepth","inNode1","inNode2","depth1","depth2","node1","node2","isElementAtBeginningOfBlock","getContainerEditorElement","getClosestBlockContainer","topBlock","getFirstSelectableLeafNode","firstCell","querySelector","getFirstTextNode","_getFirstTextNode","textNode","ensureUrlHasProtocol","deprecated","oldName","newName","m","deprecatedMethod","cleanupAttrs","attrs","cleanupTags","tags","unwrapTags","tag","nodes","replaceChild","_s4","Surrogate","checkState","queryCommandState","isAlreadyApplied","setActive","setInactive","getInteractionElements","getEditorElements","getEditorId","getEditorOption","filterOnlyParentElements","FILTER_ACCEPT","FILTER_SKIP","Selection","findMatchingSelectionParent","contentWindow","getSelectionElement","exportSelection","selectionState","preSelectionRange","selectNodeContents","setEnd","startContainer","doesRangeStartWithImages","startsWithImage","trailingImageCount","getTrailingImageCount","endContainer","emptyBlocksIndex","getIndexRelativeToAdjacentEmptyBlocks","importSelection","favorLaterSelectionAnchor","nextCharIndex","nodeStack","charIndex","foundStart","foundEnd","stop","allowRangeToStartAtEndOfNode","lastTextNode","endIndex","importSelectionMoveCursorPastBlocks","importSelectionMoveCursorPastAnchor","prevNode","currentNodeIndex","startBlock","SHOW_ELEMENT","currIndex","cursorContainer","cursorOffset","closestBlock","emptyBlocksCount","blockIsEmpty","trailingImages","selectionContainsContent","isCollapsed","selectionNode","getSelectedParentElement","selectionInContentEditableFalse","sawtrue","sawfalse","ce","cloneContents","preCaretRange","postCaretRange","rangeSelectsSingleNode","getSelectedElements","currNode","containsNode","select","clearSelection","moveCursorToStart","collapseToStart","collapseToEnd","getSelectionRange","isElementDescendantOfExtension","extension","extensionElements","Events","disabledEvents","customEvents","InputEventOnContenteditableSupported","attachDOMEvent","targets","useCapture","win","detachDOMEvent","indexOfListener","detachAllDOMEvents","detachAllEventsFromElement","filtered","attachAllEventsToElement","contentCache","eventsCache","enableCustomEvent","disableCustomEvent","attachCustomEvent","setupListener","detachCustomEvent","indexOfCustomListener","detachAllCustomEvents","triggerCustomEvent","editable","detachExecCommand","attachToExecCommand","execCommandListener","execInfo","handleDocumentExecCommand","wrapExecCommand","unwrapExecCommand","command","wrapper","handleBodyMousedown","handleBodyClick","handleBodyFocus","attachToEachElement","handleInput","keypressUpdateInput","handleDocumentSelectionChange","handleClick","handleBlur","handleKeypress","handleKeyup","handleKeydown","handleMouseover","handleDragging","handleDrop","handlePaste","cleanupElement","focusElement","updateFocus","eventObj","toFocus","hadFocus","getFocusedElement","lastMousedownTarget","externalEvent","updateInput","aria","tagNames","useQueryState","contentDefault","contentFA","isBuiltInButton","button","createButton","getButton","getAction","getAria","getTagNames","ariaLabel","buttonLabels","execAction","knownState","queryState","styleVals","computedStyle","isMatch","formSaveLabel","formCloseLabel","activeClass","hasForm","getForm","showForm","hideForm","showToolbarDefaultActions","toolbar","hideToolbarDefaultActions","setToolbarPosition","customClassOption","customClassOptionText","linkValidation","placeholderText","targetCheckbox","targetCheckboxText","subscribe","shiftKey","createForm","getTemplate","getInput","opts","getAnchorTargetCheckbox","buttonCheckbox","getAnchorButtonCheckbox","saveSelection","checked","getFormOpts","checkLinkFormat","doFormSave","completeFormSave","restoreSelection","checkSelection","ensureEncodedUri","ensureEncodedUriComponent","ensureEncodedParam","ensureEncodedQuery","queryString","hasScheme","scheme","urlParts","query","doFormCancel","attachFormEvents","save","handleFormClick","handleTextboxKeyup","handleCloseClick","handleSaveClick","hideDelay","previewValueSelector","showWhenToolbarIsVisible","showOnEmptyLinks","anchorPreview","createPreview","attachToEditables","getPreviewElement","hidePreview","activeAnchor","showPreview","anchorEl","positionPreview","attachPreviewHandlers","halfOffsetWidth","defaultLeft","middleBoundary","innerWidth","buttonHeight","boundary","diffLeft","diffTop","relativeBoundary","toolbarExtension","pageYOffset","handleEditableMouseover","handlePositionedToolbar","anchorExtension","handleAnchorMouseout","anchorToPreview","instanceHandleAnchorMouseout","outerHTML","detachPreviewHandlers","handlePreviewMouseover","lastOver","hovering","handlePreviewMouseout","relatedTarget","updatePreview","clearInterval","intervalTimer","instanceHandlePreviewMouseover","instanceHandlePreviewMouseout","setInterval","WHITESPACE_CHARS","KNOWN_TLDS_FRAGMENT","KNOWN_TLDS_REGEXP","LINK_REGEXP","AutoLink","disableEventHandling","onKeypress","onBlur","isLastInstance","activeInstances","_mediumEditors","blurEvent","performLinking","keyPressEvent","performLinkingTimeout","contenteditable","blockElements","documentModified","removeObsoleteAutoLinkSpans","performLinkingWithinElement","spans","trimmedTextContent","charactersTrimmed","subtree","splitTextBeforeEnd","characterCount","currentNodeValue","previousNode","lastChildNotExhausted","matches","findLinkableText","matchIndex","matchingTextNodes","shouldNotLink","createAutoLink","matchEnd","span","autoLink","CLASS_DRAG_OVER","clearClassNames","FileDragging","allowedTypes","handleDrag","isAllowedFile","insertImageFile","fileType","fileReader","addImageElement","fileDragging","commands","alt","charCodeAt","isMeta","isShift","isAlt","altKey","keyboardCommands","fonts","fontName","queryCommandValue","display","getSelect","clearFontName","handleFontChange","hasAttribute","font","fontSize","clearFontSize","handleSliderChange","pasteBinDefaultContent","lastRange","keyboardPasteEditable","stopProp","getClipboardContent","legacyText","PasteHandler","forcePlainText","cleanPastedHTML","preCleanReplacements","cleanReplacements","cleanAttrs","cleanTags","handleAddElement","removePasteBin","defaultPrevented","clipboardContent","pastedHTML","pastedPlain","doPaste","paragraphs","cleanPaste","handlePasteBinPaste","getPasteBinHtml","stopImmediatePropagation","createPasteBin","rects","getClientRects","pasteBinElm","pasteBinId","boundHandlePaste","getPasteBin","getElementById","pasteBinHtml","elList","workEl","multiline","replacements","pasteHTML","filterCommonBlocks","filterLineBreak","fragmentBody","pasteBlock","cleanupSpans","isCommonBlock","previousElementSibling","removeWithParent","childElementCount","containerEl","newEl","isCEF","hideOnClick","initPlaceholders","attachEventHandlers","initElement","handleRemoveElement","handleFocus","align","allowMultiParagraphSelection","firstButtonClass","lastButtonClass","standardizeSelectionStart","static","sticky","stickyTopOffset","updateOnEmptySelection","relativeContainer","initThrottledMethods","getToolbarElement","forEachExtension","createToolbar","createToolbarButtons","li","btn","buttonName","buttonOpts","ul","addBuiltInExtension","getToolbarActionsElement","throttledPositionToolbar","positionToolbarIfShown","handleEditableClick","handleEditableKeyup","handleDocumentMouseup","handleWindowScroll","handleWindowResize","hideTimeout","delayShowTimeout","showToolbar","isToolbarDefaultActionsDisplayed","hideExtensionForms","multipleBlockElementsSelected","regexBlockElements","hasMultiParagraphs","modifySelection","selectionRange","adjacentNode","preventSelectionUpdates","selectionElement","setToolbarButtonStates","checkActiveButtons","manualStateChecks","updateExtensionState","positionStaticToolbar","positionToolbar","targetLeft","windowWidth","toolbarElement","containerRect","containerTop","containerCenter","toolbarHeight","toolbarWidth","positions","imageDragging","handleDisableExtraSpaces","caretPositions","handleDisabledEnterKeydown","disableReturn","disableDoubleReturn","handleTabKeydown","handleBlockDeleteKeydowns","isHeader","nextElementSibling","handleEditableInput","textarea","addToEditors","removeFromEditors","createElementsArray","filterEditorElements","cleanupTextareaElement","initExtension","setExtensionDefaults","isToolbarEnabled","every","isAnchorPreviewEnabled","isPlaceholderEnabled","isAutoLinkEnabled","isImageDraggingEnabled","isKeyboardCommandsEnabled","shouldUseFileDraggingExtension","createContentEditable","div","uniqueId","atts","resetContent","editorId","instanceHandleEditableInput","disableEditing","spellcheck","instanceHandleEditableKeydownEnter","elementId","initialContent","attachHandlers","disableExtraSpaces","initExtensions","builtIns","toolbarOptions","mergeOptions","pair","execActionInternal","cmdValueArgument","cleanupJustifyDivFragments","textAlign","childDivs","isDiv","br","origElements","addElements","unsubscribe","ext","merged","stopSelectionUpdates","startSelectionUpdates","selectAllContents","selElement","focused","editableElementIndex","editableElement","targetUrl","currentEditor","customEvent","currentSelection","exportedSelection","startContainerParentElement","endContainerParentElement","currRange","modifiedExportedSelection","leadingWhitespacesCount","targetBlank","setContent","checkContentChanged","getContent","removeElements","toRemove","getEditorFromElement","activeButtonClass","parseVersionString","release","preRelease","major","minor","revision","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","test1","getOwnPropertyNames","test2","test3","letter","shouldUseNative","symbols","to","s","invariant","ReactPropTypesSecret","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","bool","symbol","any","arrayOf","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","extendStatics","__extends","__","__assign","__rest","__importStar","mod","k","__importDefault","React","fast_deep_equal_1","normalizeHtml","findLastTextNode","Node","TEXT_NODE","replaceCaret","htmlEl","HTMLElement","ContentEditable","_this","emitChange","lastHtml","render","_a","onInput","contentEditable","dangerouslySetInnerHTML","__html","shouldComponentUpdate","nextProps","componentDidUpdate","originalEvt","onChange","propTypes","Component","keyList","hasProp","equal","arrA","arrB","dateA","dateB","regexpA","regexpB","aa","r","u","ba","h","onError","da","ea","fa","ha","ia","ja","la","ma","na","oa","ka","pa","qa","ra","sa","extractEvents","eventTypes","phasedRegistrationNames","registrationName","va","wa","dependencies","xa","ya","za","Aa","Ba","Ca","stateNode","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","Pa","Qa","v","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","sanitizeURL","C","Ua","Va","xlinkHref","Wa","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","Xa","Sa","Ta","Ra","setAttributeNS","ReactCurrentDispatcher","ReactCurrentBatchConfig","suspense","Ya","E","for","Za","ab","cb","db","eb","fb","gb","ib","jb","kb","lb","mb","nb","pb","displayName","$$typeof","_status","_result","qb","_debugOwner","_debugSource","return","rb","sb","xb","_valueTracker","getOwnPropertyDescriptor","getValue","setValue","stopTracking","yb","zb","defaultChecked","_wrapperState","initialChecked","Ab","initialValue","controlled","Bb","Cb","Db","Eb","Gb","Children","Fb","Hb","selected","defaultSelected","Ib","Jb","Kb","Lb","Mb","Nb","Ob","Pb","Qb","namespaceURI","valueOf","MSApp","execUnsafeLocalFunction","Rb","Sb","Tb","animationend","animationiteration","animationstart","transitionend","Ub","Vb","Wb","animation","transition","Xb","Yb","Zb","$b","ac","bc","WeakMap","cc","dc","alternate","effectTag","ec","memoizedState","dehydrated","fc","hc","gc","ic","jc","kc","lc","_dispatchListeners","_dispatchInstances","isPropagationStopped","isPersistent","mc","nc","srcElement","correspondingUseElement","oc","pc","qc","topLevelType","nativeEvent","targetInst","ancestors","rc","eventSystemFlags","sc","containerInfo","tc","uc","vc","F","wc","xc","yc","zc","Ac","Bc","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Kc","blockedOn","Lc","pointerId","Mc","Nc","Pc","unstable_runWithPriority","priority","hydrate","Qc","Rc","Sc","Tc","Uc","unstable_scheduleCallback","unstable_NormalPriority","Vc","Wc","Yc","Zc","$c","ad","bubbled","captured","eventPriority","bd","cd","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","Oc","jd","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","kd","ld","md","setProperty","nd","menuitem","area","col","hr","keygen","link","track","wbr","od","pd","qd","rd","sd","td","ud","vd","wd","compareDocumentPosition","xd","HTMLIFrameElement","yd","Bd","Cd","Dd","Ed","Fd","autoFocus","Gd","Hd","Id","Jd","Kd","Ld","Md","Nd","Od","Pd","Qd","Rd","Sd","Td","dispatchConfig","Ud","_targetInst","Vd","Wd","Xd","Yd","Zd","$d","ae","be","G","Interface","ee","eventPool","fe","destructor","de","getPooled","cancelBubble","persist","eventPhase","cancelable","timeStamp","isTrusted","ge","he","ie","je","ke","documentMode","le","me","ne","beforeInput","compositionEnd","compositionStart","compositionUpdate","pe","qe","re","detail","se","ve","te","char","ue","we","color","datetime","email","password","tel","xe","ye","ze","Ae","Be","Ce","De","Ee","Fe","Ge","He","Ie","Je","Ke","Le","Me","_isInputEventSupported","Ne","Oe","Alt","Control","Meta","Shift","Pe","getModifierState","Qe","Re","Se","Te","Ue","Ve","screenX","screenY","clientX","clientY","fromElement","toElement","movementX","movementY","We","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Xe","mouseEnter","mouseLeave","pointerEnter","pointerLeave","Ye","$e","af","bf","cf","df","ef","ff","gf","hf","jf","selectionStart","selectionEnd","anchorOffset","focusNode","focusOffset","kf","onSelect","lf","animationName","elapsedTime","pseudoElement","mf","nf","of","pf","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","qf","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","rf","repeat","sf","tf","targetTouches","changedTouches","uf","vf","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","wf","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin","yf","zf","H","I","Af","J","Bf","Cf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","L","childContextTypes","Df","Ef","Ff","getChildContext","Gf","__reactInternalMemoizedMergedChildContext","Hf","If","Jf","Kf","unstable_cancelCallback","Lf","unstable_requestPaint","Mf","unstable_now","Nf","unstable_getCurrentPriorityLevel","Of","unstable_ImmediatePriority","Pf","Qf","Rf","unstable_LowPriority","Sf","unstable_IdlePriority","Tf","Uf","unstable_shouldYield","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","defaultProps","jg","kg","lg","mg","ng","og","_context","_currentValue","pg","childExpirationTime","qg","firstContext","expirationTime","rg","sg","observedBits","responders","tg","ug","updateQueue","baseState","baseQueue","shared","pending","vg","wg","suspenseConfig","payload","xg","yg","zg","z","ca","Ag","D","Bg","Cg","Dg","Eg","refs","Fg","Jg","isMounted","_reactInternalFiber","enqueueSetState","Gg","Hg","Ig","enqueueReplaceState","enqueueForceUpdate","Kg","isPureReactComponent","Lg","contextType","updater","Mg","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ng","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Og","Pg","_owner","_stringRef","Qg","Rg","lastEffect","nextEffect","firstEffect","Sg","Tg","mode","elementType","Ug","implementation","Vg","Wg","y","A","q","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","memoizedProps","revealOrder","ih","responder","jh","kh","lh","N","O","P","mh","Q","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","dispatch","xh","yh","zh","Ah","deps","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","readContext","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useResponder","useDeferredValue","useTransition","Oh","Ph","Qh","Rh","Sh","Th","pendingProps","Uh","Vh","Wh","Xh","Yh","ReactCurrentOwner","R","Zh","$h","ai","bi","compare","ci","di","ei","fi","UNSAFE_componentWillUpdate","componentWillUpdate","gi","getDerivedStateFromError","hi","pendingContext","ni","pi","qi","ii","retryTime","ji","fallback","unstable_avoidThisFallback","ki","isBackwards","rendering","renderingStartTime","tail","tailExpiration","tailMode","mi","ri","si","wasMultiple","multiple","onClick","onclick","S","ti","ui","vi","wi","T","xi","U","yi","zi","Ai","stack","Bi","WeakSet","Set","Ci","Fi","Ei","Gi","__reactInternalSnapshotBeforeUpdate","Hi","Ii","Ji","Ki","Li","componentWillUnmount","Di","Mi","Ni","Oi","Pi","Qi","Ri","_reactRootContainer","Si","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","componentDidCatch","aj","componentStack","Rj","bj","cj","dj","fj","gj","W","X","kj","lj","mj","nj","oj","Y","qj","rj","sj","tj","uj","vj","wj","timeoutMs","xj","yj","Z","zj","lastExpiredTime","Aj","firstPendingTime","lastPingedTime","nextKnownPendingLevel","callbackExpirationTime","callbackPriority","callbackNode","Bj","Cj","Dj","Ej","Fj","Gj","Hj","finishedWork","finishedExpirationTime","lastSuspendedTime","Ij","timeoutHandle","Jj","busyMinDurationMs","busyDelayMs","Kj","Mj","Nj","pingCache","Oj","w","Pj","Xc","Qj","Sj","firstSuspendedTime","wb","activeElementDetached","focusedElem","Tj","B","min","scrollLeft","vb","Uj","Vj","Wj","hidden","_ctor","ob","Xj","_calculateChangedBits","unstable_observedBits","Zj","isReactComponent","pendingChildren","ak","bk","ck","dk","ek","fk","Jc","_internalRoot","gk","ik","hk","jk","kk","unmount","Lj","lk","findFiberByHostInstance","__REACT_DEVTOOLS_GLOBAL_HOOK__","isDisabled","supportsFiber","inject","onCommitFiberRoot","onCommitFiberUnmount","Yj","overrideHookState","overrideProps","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","bundleType","rendererPackageName","findDOMNode","checkDCE","HORIZONTAL","VERTICAL","_createClass","defineProperties","SortableComposition","flowDirection","_React$Component","_temp","_classCallCheck","_possibleConstructorReturn","sortEnd","draggingIndex","sortStart","dataset","dt","setData","setDragImage","dragOver","_this$props","moveInMiddle","overEl","sortId","indexDragged","indexFrom","positionX","positionY","topOffset","leftOffset","mouseBeyond","isMouseBeyond","swapArrayElements","onSortItems","_inherits","newProps","_objectWithoutProperties","_react2","draggable","onDragOver","onDragEnd","onTouchStart","onTouchMove","onTouchEnd","indexTo","mousePos","elementPos","elementSize","breakPoint","_SortableComposition","forceUpdate","__self","__source","keyPrefix","IsSomeRendererActing","only","Fragment","Profiler","PureComponent","StrictMode","Suspense","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","createFactory","createRef","forwardRef","isValidElement","lazy","memo","isAbsolute","spliceOne","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","hasTrailingSlash","up","part","unshift","MessageChannel","unstable_forceFrameRate","performance","cancelAnimationFrame","requestAnimationFrame","port2","port1","onmessage","sortIndex","startTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","ranges","valueEqual","aType","aValue","bValue","aKeys","bKeys","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","definition","globalThis","hmd","toStringTag","selectPopup","popupName","popupContainer","renderPopup","PopupComponent","openOnMount","bindOverlayData","openPopup","ReactDOM","attrValue","selectOrCreate","makeServer","HOSTS","isSchemeless","cdn","resizeUrl","parseURL","fixedName","getCDNURL","hostname","schemeless","candidates","THEFANCY_MEDIA","THINGD_MEDIA","FANCY_WEB","RESIZE_IMAGE","STATICFILES","sum","sumChars","getResizeURL","zfill","mask","cur","masked","filler","padStart","requestIdleCallback","isInteger","isFinite","KEYS","triggerEvent","DOMRef","CustomEvent","MP","track_event","formatDuration","remainder","ClickOutside","component","popupElementRefKey","closePopupFunction","attached","eventKey","handleDetach","isTrigger","startingElement","targetElement","closestUntil","_FancyUser","loggedIn","merchant","__FancyUser","FancyUser","cssClass","msg","labels","cancel","Display","None","Block","Inline","InlineBlock","NoneIf","cond","BlockIf","InlineIf","InlineBlockIf","handleHideToolbar","normalize","initiatedFormDisplay","edit","$editing","createTempOpt","getActiveAnchor","activeAnchorClassName","valueOverride","mediumEditor","setInstance","mediumEditorOptions","anchor2","MediumEditorExtensionAnchor","MediumEditorExtensionQuote","toggleSelection","getWrappingBlock","baseNode","isActivated","$stuff","$sel","quote2","mediumInsertAddonOptions","ReactMediumEditor","_editorText","dom","handleContent","selectedNode","$bq","$span","handleBlockquoteInput","mediumInsert","_updated","$selectedNode","onelineStatus","onelineEmpty","submenuOpened","Tag","getVideo","h264_1000k_url","saleVideo","video","thingOrArticleVideo","video_cover","cover_video","outputs","h264_1000k","metadata","video_url","thumbnail_url","original_url","Video","loop","lastFullyRenderedObjectID","playing","domCls","getSrc","getLoop","currentTime","getThumbnail","videoEl","prevProps","np","pause","play","prepare","thingHasVideo","article","ShareObjectTypes","getShareURL","loading","referrerURL","originalUrl","viewerUsername","objectId","objectMeta","slug","connector","createReferredUrl","post","short_url","SNSDict","followingUsers","followingUsersRequested","ViewClasses","SNSShareBox","copied","textboxDisplay","updateEmbedOption","$ep","faintClick","snsShareWindow","getRefURL","directClick","$thumb","$options","snippet","showShareBox","handleShare","gettext","handleEmbed","FancydPerson","user","following","user_id","xml","nextFollowing","$status","require_login","isPlainLeftClick","isAddedUser","viewerId","username","handleTransition","backgroundImage","user_square_image_small","fullname","full_name","classnames","handleFollow","FancydByPopup","getFollowList","_getInitialState","nextPage","ended","added_user","users","owner","immediateNextStateUpdate","thing_id","page","has_next","max_page","current_page","saved_users","__last_tid","handleMore","onLoad","readyState","createHistory","applyProductSlide","initSlide","$list","itemWidth","$prev","$next","slideWidth","getPrevLeft","prepareCount","preparePrev","getNextLeft","listWidth","spare","prepareNext","clearOld","prevCnt","animate","toggleUpload","uploadInput","getExtension","filename","spl","allowedVideoExtensions","VideoUploadStatus","VideoReadyCheckPoll","videoId","requesting","timerId","pending_job","clear","htmlFor","CoverImage","loaderPx","videoPlaying","imageUploadInput","videoUploadInput","targ","toggleLoading","uploadImage","baseLoaderPx","resetLoader","handleProgress","file_form","filelist","$1","createXhr","onreadystatechange","json","handleUploadImageComplete","setRequestHeader","videoReadyPoll","setArticleProp","autoplay","h264_400k","tempImage","videoStatus","inputEl","createVideoReadyPoll","getImageType","cover","getCoverObject","FullWidth","cover_image","widthNumber","proportion","heightNumber","imageType","getImage","coverImageStyle","imageDimension","getImageDimension","backgroundSize","objectForVideo","heightMaker","coverImageThumbnailStyle","handleCoverImageRemove","handleAutoplayChange","handleLoopChange","allow","showInfoAlways","onPause","onPlay","backgroundPosition","handleInsertCoverImage","handleInsertCoverVideo","handleImageUpload","accept","handleVideoUpload","handleRemove","Info","ta1","ta2","actionButtonText","actionButtonLink","authors","tagline","dateCreated","saveCount","handleTitleChange","handleTaglineChange","handleAuthorChange","dateFormat","ActionButton","clickOutside","handleAttach","closePopup","actionButton","handleEdit","ActionButtonEl","handleButtonTextChange","onKeyDown","handleActionButtonKeyDown","handleButtonURLChange","onerror","messageOrEvent","lineno","colno","Galleries","$conatinerEl","$container","ctl","Gallery","$galleryWrapper","$targ","$ct","processGallery","an","Promise","all","rej","jqxhr","paging","toggleAdding","adding","nextIdx","$gallery","imageIndex","newImages","cls","galleryEl","eq","photoList","revert","changedImages","nextAddingState","nextLoadingState","onMouseOver","handleMouseOverGallery","onMouseOut","handleMouseOutGallery","GalleryImage","updateState","outline","childProps","onCaptionChange","handleCaptionChange","onImageRemoval","handleImageRemoval","onImagePagingChange","handleImagePagingChange","onImageLinkChange","handleImageLinkChange","handleAddImage","handleAddImageClick","onFocus","handleAddImageFocus","visibility","handlePagingPrevNextClick","getPaging","data-idx","handlePagingClick","handleAddImageClick2","handleOrganizeImages","handleRemoveSlideshow","_GalleryImage","data-uiid","OrganizeImageService","ready","diag","onFilter","ctrl","utils","articleAdmin","ThingCard","tid","onRemove","isWhitelabel","getURL","ThingCardPlaceholder","Status","showFeatured","featured","is_active","codeview","over","debug","showFeaturedTimer","published_datetime","appRootUrl","handleSlugChange","handleToggleCodeview","handleFeaturedMouseOver","handleFeaturedMouseOut","handlePublishedDatetimeChange","handlePublishedDatetimeChangeEnd","handleSetFeatured","handleSetLive","reactBridge","requestFeaturedItems","clientHeight","stream","$featuredList","id_str","sale_id","thumb_image_url","next_cursor","getShortcodeString","FancyArticleProductSlideshow","FancyArticleProductCard","getJumper","$element","_id","getProductContext","image_fit_to_bounds","fit_to_bounds","emojified_name","retail_price","ShortCodeTransformers","$shortcode","fig","getIsolatedShortcodeElement","reverseTransformerWrapper","procedure","wrapped","getWrappedSingleNode","$disposable","unmountedDOM","mountToDisposable","escStr","ShortCodeReverseTransformers","transformFancyArticleImage","imageDOMContainer","_$fig","transformFancyArticleGallery","$gals","gal","$gal","galObjs","serialized","transformFancyArticleProduct","$card","transformFancyArticleProductSlideshow","$slideshow","cleanupContent","fp","handleContentModificationOnInit","articleDOM","shortcode","$sc","convertShortcode","creating","Base64","_keyStr","encode","_utf8_encode","decode","_utf8_decode","c1","c2","c3","ArticleAdmin","medium","_text","_content","nextValue","objectName","copy","submitArticle","publishing","convertToSerialized","saving","aid","onComplete","targetLocation","reload","isDeveloperMode","thingId","thing_ids","item_header","gallery","action_button","remove_video","article_id","preSerializedContent","transformed","handleContentModificationOnSubmission","action_button_text","action_button_link","cover_image_url","video_id","video_loop","video_autoplay","addingTids","nextThingIds","placeholdersLength","placeholders","info","coverImage","live","handleCodeviewChange","handleChange","handleItemHeaderChange","handleThingCardRemove","handleAddThing","handleDraftAction","handlePreview","handleSubmission","handlePublish","itemIDList","$selectedFeatured","without","idsStr","updateThingIds","keyup"],"mappings":"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","file":"ArticleAdmin.1d009a34f363fe975f34.js","sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","/*! \n * medium-editor-insert-plugin v2.4.0 - jQuery insert plugin for MediumEditor\n *\n * http://linkesch.com/medium-editor-insert-plugin\n * \n * Copyright (c) 2014 Pavel Linkesch (http://linkesch.com)\n * Released under the MIT license\n */\n\nvar define = false;\n(function (factory) {\n    var boundFactory = factory.bind(window);  // Due to strict mode, manually bind `thisContext` to window.\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery', 'handlebars/runtime', 'medium-editor', 'blueimp-file-upload', 'jquery-sortable'], boundFactory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = function (jQuery) {\n            if (typeof window === 'undefined') {\n                throw new Error(\"medium-editor-insert-plugin runs only in a browser.\")\n            }\n            window.Handlebars = require('handlebars/runtime');\n            window.MediumEditor = require('medium-editor');\n            require('jquery-sortable');\n            require('blueimp-file-upload');\n\n            boundFactory(jQuery, Handlebars, MediumEditor);\n            return jQuery;\n        };\n    } else {\n        boundFactory(jQuery, Handlebars, MediumEditor);\n    }\n}(function ($, Handlebars, MediumEditor) {\n\nthis[\"MediumInsert\"] = this[\"MediumInsert\"] || {};\nthis[\"MediumInsert\"][\"Templates\"] = this[\"MediumInsert\"][\"Templates\"] || {};\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/core-buttons-gear.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"add_option medium-insert-buttons whitelabel-gear\\\" contenteditable=\\\"false\\\">\\n  <small class=\\\"add_option_tools\\\" style=\\\"display: none;\\\">\\n    <span class=\\\"insert-option\\\" style=\\\"display: block;\\\">\\n      <label class=\\\"label\\\">INSERT</label>\\n      <a class=\\\"insert-action-text\\\">\\n        <i></i> Text</a>\\n      <a class=\\\"insert-action-media\\\">\\n        <i></i> Media</a>\\n      <a class=\\\"insert-action-product\\\">\\n        <i></i> Products</a>\\n    </span>\\n    <span class=\\\"insert-text\\\" style=\\\"display: none;\\\">\\n      <a href=\\\"#\\\" class=\\\"label\\\">TEXT</a>\\n      <a class=\\\"insert-action-text-body\\\">\\n        <i></i> Body</a>\\n      <a class=\\\"insert-action-text-quote\\\">\\n        <i></i> Quote</a>\\n    </span>\\n    <span class=\\\"insert-media\\\" style=\\\"display: none;\\\">\\n      <a href=\\\"#\\\" class=\\\"label\\\">MEDIA</a>\\n      <a class=\\\"insert-action-image\\\">\\n        <i></i> Images</a>\\n      <a class=\\\"insert-action-youtube\\\">\\n        <i></i> Youtube</a>\\n    </span>\\n    <span class=\\\"insert-image\\\" style=\\\"display: none;\\\">\\n      <a href=\\\"#\\\" class=\\\"label\\\">IMAGE</a>\\n      <a class=\\\"insert-action-image-single medium-insert-action\\\" data-addon=\\\"images\\\" data-action=\\\"add\\\" data-image-insert-type=\\\"single\\\">\\n        <i></i> Single</a>\\n      <a class=\\\"insert-action-image-slideshow gallery-insert-action\\\">\\n        <i></i> Slideshow</a>\\n      <a class=\\\"insert-action-image-grid medium-insert-action\\\" data-addon=\\\"images\\\" data-action=\\\"add\\\" data-meta='{ \\\"type\\\": \\\"grid\\\" }'>\\n        <i></i> Grid</a>\\n    </span>\\n    <span class=\\\"insert-product\\\" style=\\\"display: none;\\\">\\n      <a href=\\\"#\\\" class=\\\"label\\\">PRODUCT</a>\\n      <a class=\\\"insert-action-product-card\\\">\\n        <i></i> Cards</a>\\n      <a class=\\\"insert-action-product-slideshow\\\">\\n        <i></i> Slideshow</a>\\n    </span>\\n    <span class=\\\"insert-youtube\\\" style=\\\"display: none;\\\">\\n      <a href=\\\"#\\\" class=\\\"label\\\">YOUTUBE</a>\\n      <input class=\\\"extempt-dis-select\\\" type=\\\"text\\\" placeholder=\\\"Paste video link\\\">\\n      <button class=\\\"btns-green-embo\\\">Insert</button>\\n    </span>\\n    <span class=\\\"editable_tools\\\" style=\\\"display:none;\\\">\\n      <label class=\\\"label\\\">IMAGE STYLE</label>\\n      <a class=\\\"edit_full\\\">\\n        <i></i>\\n      </a>\\n      <a class=\\\"edit_normal\\\">\\n        <i></i>\\n      </a>\\n      <a class=\\\"edit_with_quote\\\">\\n        <i></i>\\n      </a>\\n    </span>\\n  </small>\\n  <button class=\\\"medium-insert-buttons-show show_option\\\" type=\\\"button\\\"></button>\\n</div>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/core-buttons.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"add_option medium-insert-buttons\\\" contenteditable=\\\"false\\\" style=\\\"display: none\\\">\\n    <small class=\\\"add_option_tools\\\" style=\\\"display: none;\\\">\\n        <div class=\\\"trick\\\"></div>\\n        <a class=\\\"medium-insert-action\\\" data-addon=\\\"images\\\" data-action=\\\"add\\\">Insert Image</a>\\n        <a class=\\\"video-insert-action\\\">Insert Video</a>\\n        <a class=\\\"gallery-insert-action\\\">Insert Gallery</a>\\n    </small>\\n    <button class=\\\"medium-insert-buttons-show show_option\\\" type=\\\"button\\\"></button>\\n</div>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/core-caption.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<figcaption contenteditable=\\\"true\\\" class=\\\"medium-insert-caption-placeholder\\\" data-placeholder=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.placeholder || (depth0 != null ? depth0.placeholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"placeholder\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"></figcaption>\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/core-empty-line.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<p><br></p>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/embeds-toolbar.hbs\"] = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"    <div class=\\\"medium-insert-embeds-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active\\\">\\n        <ul class=\\\"medium-editor-toolbar-actions clearfix\\\">\\n\"\n    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.styles : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"        </ul>\\n    </div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.label : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\";\n\n  return \"                    <li>\\n                        <button class=\\\"medium-editor-action\\\" data-action=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.key || (data && data.key)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"key\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + ((stack1 = ((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</button>\\n                    </li>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"    <div class=\\\"medium-insert-embeds-toolbar2 medium-editor-toolbar medium-editor-toolbar-active\\\">\\n        <ul class=\\\"medium-editor-toolbar-actions clearfix\\\">\\n\"\n    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.actions : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"        </ul>\\n    </div>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.styles : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.actions : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/embeds-wrapper.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"medium-insert-embeds\\\" contenteditable=\\\"false\\\">\\n\t<figure>\\n\t\t<div class=\\\"medium-insert-embed\\\">\\n\t\t\t\"\n    + ((stack1 = ((helper = (helper = helpers.html || (depth0 != null ? depth0.html : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"html\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\t\t</div>\\n\t</figure>\\n\t<div class=\\\"medium-insert-embeds-overlay\\\"></div>\\n</div>\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-fileupload.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<input type=\\\"file\\\" multiple>\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-grid-each.hbs\"] = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"        <div class=\\\"medium-insert-images-progress\\\"></div>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"grid\\\" contenteditable=\\\"false\\\">\\n    <img src=\\\"/_ui/images/common/blank.gif\\\" data-src=\\\"\"\n    + alias4(((helper = (helper = helpers.img || (depth0 != null ? depth0.img : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"img\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\\\" class=\\\"\\\" style=\\\"background-image:url('\"\n    + alias4(((helper = (helper = helpers.img || (depth0 != null ? depth0.img : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"img\",\"hash\":{},\"data\":data}) : helper)))\n    + \"');\\\">\\n    <a href=\\\"#\\\" class=\\\"remove\\\">Remove</a>\\n    <a href=\\\"#\\\" class=\\\"btn-caption\\\">Add Caption</a>\\n    <figcaption contenteditable=\\\"true\\\" class=\\\"text-placeholder\\\" data-placeholder=\\\"Type an image caption\\\">\"\n    + alias4(((helper = (helper = helpers.caption || (depth0 != null ? depth0.caption : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"caption\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</figcaption>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.progress : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</div>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-grid-popup.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<small contenteditable=\\\"false\\\" class=\\\"add_option_tools _grid\\\" style=\\\"display:none;\\\">\\n    <a data-action=\\\"add\\\">Add images</a>\\n    <a data-action=\\\"organize\\\">Organize images</a>\\n    <a data-action=\\\"delete\\\">Delete Grid</a>\\n</small>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-image.hbs\"] = Handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"        <div class=\\\"medium-insert-images-progress\\\"></div>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {});\n\n  return \"<figure contenteditable=\\\"false\\\">\\n    <img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.img || (depth0 != null ? depth0.img : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"img\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\\\" />\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.progress : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</figure>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-progressbar.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<progress min=\\\"0\\\" max=\\\"100\\\" value=\\\"0\\\">0</progress>\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-toolbar-gear.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"medium-insert-images-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active\\\">\\n    <label class=\\\"label\\\">IMAGE STYLE</label>\\n    <div class=\\\"editable_tools\\\">\\n        <a class=\\\"edit_full\\\">Full</a>\\n        <a class=\\\"edit_normal\\\">Normal</a>\\n    </div>\\n</div>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-toolbar.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"medium-insert-images-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active\\\">\\n    <div class=\\\"editable_tools\\\">\\n        <a class=\\\"edit_full\\\">Full</a>\\n        <a class=\\\"edit_normal\\\">Normal</a>\\n        <a class=\\\"edit_with_quote\\\">With Quote</a>\\n    </div>\\n</div>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/product-card.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<ul class=\\\"itemList product\\\" contenteditable=\\\"false\\\">\\n  <% items.forEach(function(item, idx) { %>\\n  <li class=\\\"itemListElement\\\" data-id=\\\"<%= item.id %>\\\" data-idx=\\\"<%= idx %>\\\">\\n    <span class=\\\"figure <% if (item.image_fit_to_bounds) { %>fit<% } %>\\\">\\n      <img src=\\\"/_ui/images/common/blank.gif\\\" style=\\\"background-image:url(<%= item.image %>)\\\">\\n    </span>\\n    <span class=\\\"figcaption\\\">\\n      <span class=\\\"title\\\"><%= item.title %></span>\\n      <% if (item.retail_price != null) { %>\\n      <b class=\\\"price sales\\\">$<%= item.price %> <small class=\\\"before\\\">$<%= item.retail_price %></small></b>\\n      <% } else { %>\\n      <b class=\\\"price\\\">$<%= item.price %></b>\\n      <% } %>\\n    </span>\\n    <a class=\\\"remove\\\">Remove</a>\\n  </li>\\n  <% }); %>\\n  <small class=\\\"add_option_tools\\\" style=\\\"display:none;\\\">\\n    <a class=\\\"add-product\\\">Organize Products</a>\\n    <a class=\\\"delete-slideshow\\\">Delete Grid</a>\\n  </small>\\n</ul>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/product-slideshow.hbs\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"itemSlide product\\\" contenteditable=\\\"false\\\">\\n  <div class=\\\"itemSlideWrap\\\">\\n    <ul class=\\\"stream after\\\">\\n      <% items.forEach(function(item, idx) { %>\\n      <li class=\\\"itemSlideElement\\\" data-id=\\\"<%= item.id %>\\\" data-idx=\\\"<%= idx %>\\\">\\n        <div class=\\\"figure-item\\\">\\n          <figure <% if (item.image_fit_to_bounds) { %>class=\\\"fit\\\"<% } %>>\\n            <a href=\\\"<% if (item.html_url) { %><%= item.html_url %><% } else { %>/sales/<%= item.id %>?utm=article<% } %>?utm=article\\\"><span\\n                class=\\\"back\\\"></span><img class=\\\"figure\\\" src=\\\"/_ui/images/common/blank.gif\\\" style=\\\"background-image: url(<%= item.image %>);\\\"></a>\\n          </figure>\\n          <figcaption>\\n            <span class=\\\"show_cart\\\">\\n              <button class=\\\"btn-cart nopopup soldout\\\">\\n                <% if (item.retail_price != null) { %><b class=\\\"price sales\\\">$<%= item.price %> <small class=\\\"before\\\">$<%= item.retail_price %></small></b><% } else { %><b class=\\\"price\\\">$<%= item.price %></b><% } %>\\n              </button>\\n            </span>\\n            <a href=\\\"<%= item.html_url %>?utm=article\\\" class=\\\"title\\\"><%= item.title %></a>\\n          </figcaption>\\n          <a class=\\\"delete\\\"></a>\\n        </div>\\n      </li>\\n      <% }); %>\\n    </ul>\\n  </div>\\n  <a href=\\\"#\\\" class=\\\"prev\\\">Prev</a>\\n  <a href=\\\"#\\\" class=\\\"next\\\">Next</a>\\n  <small class=\\\"add_option_tools\\\" style=\\\"display:none;\\\">\\n    <a class=\\\"add-product\\\">Organize Products</a>\\n    <a class=\\\"delete-slideshow\\\">Delete Slideshow</a>\\n  </small>\\n</div>\\n\";\n},\"useData\":true});\n;(function ($, window, document, undefined) {\n\n    'use strict';\n\n    /** Default values */\n    var pluginName = 'mediumInsert',\n        defaults = {\n            editor: null,\n            enabled: true,\n            addons: {\n                images: true, // boolean or object containing configuration\n                embeds: true\n            }\n        };\n\n    /**\n     * Capitalize first character\n     *\n     * @param {string} str\n     * @return {string}\n     */\n\n    function ucfirst(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    // https://gist.github.com/yangshun/9892961#file-youtube-vimeo-url-parser-js-L24\n    function parseVideo (url) {\n        // - Supported YouTube URL formats:\n        //   - http://www.youtube.com/watch?v=My2FRPA3Gf8\n        //   - http://youtu.be/My2FRPA3Gf8\n        //   - https://youtube.googleapis.com/v/My2FRPA3Gf8\n        // - Supported Vimeo URL formats:\n        //   - http://vimeo.com/25451551\n        //   - http://player.vimeo.com/video/25451551\n        // - Also supports relative URLs:\n        //   - //player.vimeo.com/video/25451551\n\n        url.match(/(http:|https:|)\\/\\/(player.|www.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com))\\/(video\\/|embed\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/);\n\n        if (RegExp.$3.indexOf('youtu') > -1) {\n            var type = 'youtube';\n        } else if (RegExp.$3.indexOf('vimeo') > -1) {\n            var type = 'vimeo';\n        }\n\n        return {\n            type: type,\n            id: RegExp.$6\n        };\n    }\n\n    /**\n     * Core plugin's object\n     *\n     * Sets options, variables and calls init() function\n     *\n     * @constructor\n     * @param {DOM} el - DOM element to init the plugin on\n     * @param {object} options - Options to override defaults\n     * @return {void}\n     */\n\n    function Core(el, options) {\n        var editor;\n\n        this.el = el;\n        this.$el = $(el);\n        this.templates = window.MediumInsert.Templates;\n\n        if (options) {\n            // Fix #142\n            // Avoid deep copying editor object, because since v2.3.0 it contains circular references which causes jQuery.extend to break\n            // Instead copy editor object to this.options manually\n            editor = options.editor;\n            options.editor = null;\n        }\n        this.options = $.extend(true, {}, defaults, options);\n        this.options.editor = editor;\n\n        this._defaults = defaults;\n        this._name = pluginName;\n\n        // Extend editor's functions\n        if (this.options && this.options.editor) {\n            if (this.options.editor._serialize === undefined) {\n                this.options.editor._serialize = this.options.editor.serialize;\n            }\n            if (this.options.editor._destroy === undefined) {\n                this.options.editor._destroy = this.options.editor.destroy;\n            }\n            if (this.options.editor._setup === undefined) {\n                this.options.editor._setup = this.options.editor.setup;\n            }\n            this.options.editor._hideInsertButtons = this.hideButtons;\n\n            this.options.editor.serialize = this.editorSerialize;\n            this.options.editor.destroy = this.editorDestroy;\n            this.options.editor.setup = this.editorSetup;\n\n            if (this.options.editor.getExtensionByName('placeholder') !== undefined) {\n                this.options.editor.getExtensionByName('placeholder').updatePlaceholder = this.editorUpdatePlaceholder;\n            }\n        }\n    }\n\n    /**\n     * Initialization\n     *\n     * @return {void}\n     */\n\n    function getAdjacentCursor($place) {\n        var $container = $('.description.more');\n        var isFirstChild = $place.is(':first-child');\n        var cursor;\n        if (isFirstChild) {\n            return { recoveryMode: 'insert-first' };\n        } else {\n            if ($place.is('.description.more > *')) {\n                cursor = $place.before();\n            } else {\n                cursor = $place.closest('.description.more > *').before();\n            }\n            return { recoveryMode: 'insert-next', cursor: cursor };\n        }\n    }\n\n    function restoreCursor(recoveryObject) {\n        var elToReplace = $('<p />')\n        if (recoveryObject.recoveryMode === 'insert-first') {\n            $('.description.more').prepend(elToReplace);\n        } else if (recoveryObject.recoveryMode === 'insert-next') {\n            elToReplace.insertAfter(recoveryObject.cursor);\n        } else {\n            console.warn(\"restoreCursor(): ?\")\n        }\n        return elToReplace;\n    }\n\n    Core.prototype.init = function () {\n        this.$el.addClass('medium-editor-insert-plugin');\n\n        if (typeof this.options.addons !== 'object' || Object.keys(this.options.addons).length === 0) {\n            this.disable();\n        }\n\n        this.initAddons();\n        this.clean();\n        this.events();\n\n        if (window.isWhitelabelV2) {\n            var productCardTemplate = _.template(this.templates['src/js/templates/product-card.hbs']().trim());\n            var productSlideshowTemplate = _.template(this.templates['src/js/templates/product-slideshow.hbs']().trim());\n            var $insertProductDialog = $.dialog('insert_product').$obj;\n            var selectedTemplate = _.template($insertProductDialog.find('#popup-tpl-selected').html())\n            var searchedTemplate = _.template($insertProductDialog.find('#popup-tpl-searched').html())\n            var $searched = $insertProductDialog.find('.suggest');\n            var $selected = $insertProductDialog.find('.featured');\n            Sortable.create($selected.find('ul').get(0), {\n                handle: '.btn-move',\n            });\n            \n            $insertProductDialog\n                .data('productCardTemplate', productCardTemplate)\n                .data('productSlideshowTemplate', productSlideshowTemplate);\n\n            var ThingCache = {};\n            window.ThingCache = ThingCache;\n            var searchCache = {};\n            var ref = { selectedItemIds: [] };\n\n            $insertProductDialog.find('input.text')\n                .on('keyup', _.debounce(function(e) {\n                    var val = e.target.value.trim();\n                    if (val === '') {\n                        $searched.hide();\n                        return;\n                    }\n                    var dfd;\n                    if (searchCache[val]) {\n                        dfd = $.Deferred();\n                        dfd.resolve(searchCache[val]);\n                    } else {\n                        dfd = $.get(window.REST_API_ENDPOINT, { keyword: val });\n                    }\n                    dfd.then(function(things) {\n                        if (!searchCache[val]) {\n                            searchCache[val] = things;\n                        }\n                        $searched.empty();\n                        if (things.products.length > 0) {\n                            $searched.show();\n                            things.products.forEach(function(thing) {\n                                var selected = _.find(ref.selectedItemIds, function(sid){ return thing.id === sid }) !== undefined;\n                                if (!selected) {\n                                    $searched.append($(searchedTemplate(thing)).data('thing', thing));\n                                    if (ThingCache[thing.id] == null) {\n                                        thing.cached = true;\n                                        ThingCache[thing.id] = thing;\n                                    }\n                                }\n                            });\n                        } else {\n                            $searched.hide();\n                        }\n                    })\n                    .fail(function(xhr) {\n                        if (xhr.status === 404) {\n                            alertify.alert('Product not found.');\n                        }\n                    })\n                }, 500))\n                .on('focus', function() {\n                    $(this).trigger('keyup');\n                });\n            $('.popup.insert_product .btn-save').on('click', function () {\n                var ids = $selected.find('li').map(function(i, e){ return Number($(e).attr('data-sid') || 0); }).toArray();\n                var items = ids.map(function(sid){ return ThingCache[sid]; });\n                // select template and feed context\n                var type = $insertProductDialog.data('type');\n                var tpl; \n                if (type === 'card') {\n                    tpl = productCardTemplate;\n                } else if (type === 'slideshow') {\n                    tpl = productSlideshowTemplate;\n                }\n                var $el = $(tpl({ items: items }));\n                $el.data('selectedItemIds', _.clone(ids));\n\n                var updatingRoot = $(this).data('updatingRoot');\n                // slideshow update mode\n                if (updatingRoot) {\n                    updatingRoot.replaceWith($el);\n                    $(this).data('updatingRoot', null);\n                } else {\n                    var $place = restoreCursor($insertProductDialog.data('cursor'));\n                    $place.replaceWith($el);\n                }\n\n                $.dialog('insert_product').close();\n            });\n\n            $searched.on('click', 'li', function(){\n                $searched.hide();\n                var thing = $(this).data('thing');\n                $selected.show();\n                // find dupe\n                var $dupe = $selected.find('ul li[data-sid=\"' + thing.id + '\"]')\n                if ($dupe.length > 0) {\n                    return;\n                }\n                ref.selectedItemIds.push(thing.id);\n                $selected.find('ul')\n                    .prepend(selectedTemplate(thing));\n                var cnt = ref.selectedItemIds.length;\n                $insertProductDialog.find('.btn-save')\n                    .attr('disabled', false)\n                    .text('Insert ' + cnt + (cnt === 1 ? ' Item' : ' Items'));\n            });\n\n            $selected.on('click', 'li .btn-del', function(){\n                var sidToDelete = Number($(this).closest('li').data('sid'));\n                $(this).closest('li').remove();\n                ref.selectedItemIds = ref.selectedItemIds.filter(function(sid) { return sid !== sidToDelete });\n                if (ref.selectedItemIds.length === 0) {\n                    $insertProductDialog.find('.btn-save').attr('disabled', true).text('Insert Items');\n                    $selected.hide();\n                }\n                var cnt = ref.selectedItemIds.length;\n                $insertProductDialog.find('.btn-save')\n                    .attr('disabled', false)\n                    .text('Insert ' + cnt + (cnt === 1 ? ' Item' : ' Items'));\n                return false;\n            });\n\n            $insertProductDialog.data('setSaved', function setSaved($root, _selectedItemIds) {\n                if (_selectedItemIds.length > 0) {\n                    // copy contents\n                    ref.selectedItemIds = _selectedItemIds;\n\n                    function jQueryPromiseAll(arrayOfPromises) {\n                        return jQuery.when.apply(jQuery, arrayOfPromises).then(function() {\n                            return Array.prototype.slice.call(arguments, 0);\n                        });\n                    }\n\n                    jQueryPromiseAll(_selectedItemIds.map(function(sid) {\n                        var promise = $.Deferred();\n                        if (ThingCache[sid]) {\n                            promise.resolve(ThingCache[sid]);\n                        } else {\n                            $.get('/rest-api/v1/things/' + sid + '?sales=true')\n                                .then(function(thing) {\n                                    var ctx;\n                                    try {\n                                        var image = (thing.sales.images[0] && thing.sales.images[0].src) || thing.image.src;\n                                        ctx = {\n                                            id: thing.sales.id,\n                                            brand_name: thing.sales.seller.brand_name,\n                                            title: thing.sales.title,\n                                            price: thing.sales.price,\n                                            thumbnail: image,\n                                            image: image,\n                                        }\n                                        ThingCache[thing.sales.id] = ctx;\n                                    } catch(e) {\n                                        ctx = {\n                                            id: '0',\n                                            brand_name: 'UNABLE_TO_LOAD',\n                                            title: 'UNABLE_TO_LOAD',\n                                            price: 0,\n                                            thumbnail: '/_ui/images/common/blank.gif',\n                                        };\n                                    }\n                                    promise.resolve(ctx);\n                                })\n                                .fail(function(xhr) {\n                                    console.warn('failed to load', sid, xhr);\n                                    promise.resolve({\n                                        id: '0',\n                                        brand_name: 'UNABLE_TO_LOAD',\n                                        title: 'UNABLE_TO_LOAD',\n                                        price: 0,\n                                        thumbnail: '/_ui/images/common/blank.gif',\n                                    });\n                                });\n                        }\n                        return promise\n                    })).then(function(args) {\n                        args.forEach(function(thing) {\n                            $selected.find('ul').append(selectedTemplate(thing));\n                        });\n                    })\n                    $selected.show();\n                    var cnt = _selectedItemIds.length;\n                    $insertProductDialog.find('.btn-save')\n                        .attr('disabled', false)    \n                        .text('Insert ' + cnt + (cnt === 1 ? ' Item' : ' Items'));\n                    $insertProductDialog.find('.btn-save').data('updatingRoot', $root);\n                }\n            })\n\n            // reset\n            $insertProductDialog.on('open', function() {\n                ref.selectedItemIds = [];\n                $insertProductDialog.find('input.text').val('');\n                $selected\n                    .find('ul').empty().end()\n                    .hide();\n                $searched.empty().hide();\n                $(this).find('.btn-save').attr('disabled', true).text('Insert Items');\n            });\n\n            // toggle button\n            setTimeout(function(t) {\n                t.clean();\n                t.positionButtons();\n                t.showButtons();\n                if (t.$el.find('.medium-insert-active').length === 0) {\n                    var activeInsertAdded = false;\n                    t.$el.find('> p').each(function(i, e) {\n                        if (activeInsertAdded) {\n                            return\n                        }\n                        if ($(e).text().trim() === '') {\n                            $(e).addClass('medium-insert-active')\n                            activeInsertAdded = true\n                        }\n                    });\n                }\n            }, 50, this);\n        } // if whitelabel v2 end\n    };\n\n    /**\n     * Event listeners\n     *\n     * @return {void}\n     */\n    Core.prototype.resetOptionV2 = function resetOptionV2() {\n        $('.add_option').hide();\n        $('.add_option_tools .insert-product, .add_option_tools .insert-text, .add_option_tools .insert-image, .add_option_tools .insert-media, .add_option_tools .insert-youtube').hide();\n        $('.add_option .insert-option').show();\n    }\n\n    Core.prototype.hideOptionPopupV2 = function hideOptionPopupV2() {\n        $('.medium-insert-buttons .add_option_tools').hide();\n        $('.medium-insert-buttons .add_option_tools .insert-product, .medium-insert-buttons .add_option_tools .insert-text, .medium-insert-buttons .add_option_tools .insert-image, .add_option_tools .insert-media, .add_option_tools .insert-youtube').hide();\n        $('.add_option .insert-option').show();\n    }\n\n    Core.prototype.events = function () {\n        var that = this;\n\n        function adjustCaretBeforeInsertWidget(root) {\n            var $place = root.$el.find('.medium-insert-active');\n            // From images.js \n            if ($place.is('p')) {\n                root.migrateExistingContent($place);\n                $place.replaceWith('<div class=\"medium-insert-active\">' + $place.html() + '</div>');\n                $place = root.$el.find('.medium-insert-active');\n                if ($place.next().is('p')) {\n                    root.moveCaret($place.next());\n                } else {\n                    $place.after('<p><br></p>'); // add empty paragraph so we can move the caret to the next line.\n                    root.moveCaret($place.next());\n                }\n            }\n            return $place;\n        }\n\n        function checkSelectionActive() {\n            if (that.$el.find('> .medium-insert-active').length === 0) {\n                var $anchorNode = $(document.getSelection().anchorNode)\n                if ($anchorNode.is('.description.more > *')) {\n                    $anchorNode.addClass('medium-insert-active');\n                }\n            }\n        }\n\n        function insertYoutubeOnEvent(that) {\n            var input = $('.insert-youtube input').val();\n            if (!input) {\n                return;\n            }\n            var vid = parseVideo(input.trim());\n            if (vid.type === 'youtube') { // youtube.com\n                var $place = that.$el.find('.medium-insert-active');\n                var $videoElement = $(`<p class=\"article-media media-youtube media-youtube-with-wrap\" data-service=\"youtube\" data-service-id=\"${vid.id}\" style=\"text-align: center;\"><span class=\"article-media-youtube-wrap\"><iframe src=\"https://www.youtube.com/embed/${vid.id}?\" width=\"100%\" height=\"100%\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\"></iframe></span></p>`);\n                var $place = that.$el.find('.medium-insert-active');\n                if ($place.is('p')) {\n                    that.migrateExistingContent($place);\n                    $place.replaceWith('<div class=\"medium-insert-active\">' + $place.html() + '</div>');\n                    $place = that.$el.find('.medium-insert-active');\n                    if ($place.next().is('p')) {\n                        that.moveCaret($place.next());\n                    } else {\n                        $place.after('<p><br></p>'); // add empty paragraph so we can move the caret to the next line.\n                        that.moveCaret($place.next());\n                    }\n                    $place.replaceWith($videoElement);\n                    window.EditorControl.refresh();\n                }\n                return;\n            } else {\n                window.alert('Video service other than youtube is not supported.');\n                return;\n            }\n        }\n\n        this.$el\n            .on('dragover drop', function (e) {\n                e.preventDefault();\n            })\n            .on('keyup click focusout', $.proxy(this, 'toggleButtons'))\n            .on('selectstart mousedown', '.medium-insert, .medium-insert-buttons', $.proxy(this, 'disableSelection'))\n            .on('click', '> p', function() {\n                checkSelectionActive();\n            })\n            .on('click', '.medium-insert-buttons-show', function(e) {\n                var isVisible = $('.medium-insert-buttons .add_option_tools').is(':visible')\n                that.toggleAddons.call(that, e);\n                if (!isVisible) {\n                    setTimeout(function() {\n                        var mediumEditor = that.getEditor();\n                        var tb = mediumEditor.getExtensionByName('toolbar');\n                        if (tb && tb.isDisplayed()) {\n                            tb.hideToolbar();\n                        }\n                    }, 50)\n                }\n            })\n            .on('click', '.medium-insert-action', $.proxy(this, 'addonAction'))\n            .on('click', '.gallery-insert-action', (function(){ // #ARTICLE_MOD\n                checkSelectionActive();\n                var $place = adjustCaretBeforeInsertWidget(this);\n                if (!$place.get(0)) {\n                    return;\n                }\n                window.GalleryControl.uploadImages(function(nextImages) {\n                    if (nextImages === false) {\n                        alert('Failed to upload images, please try again'); return;\n                    } \n                    window.GalleryControl.renderTo($place, null, function(control) {\n                        control.instance.addImages(nextImages.filter(e => e));\n                        that.hideOptionPopupV2();\n                    });\n                });\n            }).bind(this))\n            .on('click', '.video-insert-action', (function(){ // #ARTICLE_MOD\n                var input = window.prompt('Please put youtube address');\n                if (input == null) {\n                    return;\n                }\n                var vid = parseVideo(input.trim());\n                if (vid.type === 'youtube') { // youtube.com\n                    var $videoElement = $(`<p class=\"article-media media-youtube\" data-service=\"youtube\" data-service-id=\"${vid.id}\" style=\"text-align: center;\"><iframe src=\"https://www.youtube.com/embed/${vid.id}?\" width=\"560\" height=\"315\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\"></iframe></p>`);\n                    var $place = this.$el.find('.medium-insert-active');\n                    if ($place.is('p')) {\n                        this.migrateExistingContent($place);\n                        $place.replaceWith('<div class=\"medium-insert-active\">' + $place.html() + '</div>');\n                        $place = this.$el.find('.medium-insert-active');\n                        if ($place.next().is('p')) {\n                            this.moveCaret($place.next());\n                        } else {\n                            $place.after('<p><br></p>'); // add empty paragraph so we can move the caret to the next line.\n                            this.moveCaret($place.next());\n                        }\n                        $place.replaceWith($videoElement);\n                        window.EditorControl.refresh();\n                    }\n                    return;\n                } else {\n                    window.alert('Video service other than youtube is not supported.');\n                    return;\n                }\n            }).bind(this))\n            .on('click', '.medium-insert-buttons .trick', (function(e) { // #ARTICLE_MOD\n                if (!window.isWhitelabelV2) {\n                    this.$el.find('.add_option_tools').hide();\n                }\n            }).bind(this))\n            .on('paste', '.medium-insert-caption-placeholder', function (e) {\n                $.proxy(that, 'removeCaptionPlaceholder')($(e.target));\n            });\n        /*\n            Whitelabel V2 Stuff\n        */\n        if (isWhitelabelV2) {\n           this.$el\n           .on('click', '.insert-option .insert-action-text', function(){ // #ARTICLE_MOD\n                $('.add_option .insert-option').hide();\n                $('.add_option_tools .insert-text').show();\n                return false;\n            })\n            .on('click', '.insert-option .insert-action-media', function(){ // #ARTICLE_MOD\n                $('.add_option .insert-option').hide()\n                $('.add_option_tools .insert-media').show();\n                return false;\n            })\n            .on('click', '.insert-media .insert-action-image', function(){ // #ARTICLE_MOD\n                $('.add_option .insert-media').hide()\n                $('.add_option_tools .insert-image').show();\n                return false;\n            })\n            .on('click', '.insert-media .insert-action-youtube', function(){ // #ARTICLE_MOD\n                $('.add_option .insert-media').hide()\n                $('.add_option_tools .insert-youtube').show();\n                setTimeout(function() {\n                    $('.add_option_tools .insert-youtube input').focus();\n                }, 350)\n                return false;\n            })\n            .on('click', '.insert-youtube input', function() {\n                $(this).focus();\n                return true;\n            })\n            .on('focus', '.insert-youtube input', function() {\n                return true;\n            })\n            .on('mouseover', '.media-youtube', function(){\n                if ($(this).find('a.remove').length > 0) {\n                    $(this).find('a.remove').show();\n                } else {\n                    $(this).append('<a class=\"remove\" />');\n                }\n            })\n            .on('mouseout', '.media-youtube', function(){\n                if ($(this).find('a.remove').length > 0) {\n                    $(this).find('a.remove').hide();\n                }\n            })\n            .on('click', '.media-youtube .remove', function() {\n                $(this).closest('.media-youtube').remove();\n                return false;\n            })\n            .on('keydown', '.insert-youtube input', (function(e){ // #ARTICLE_MOD\n                if (e.which === 13) {\n                    insertYoutubeOnEvent(this);\n                    return false;\n                }\n                return true;\n            }).bind(this))\n            .on('click', '.insert-youtube button', (function(e){ // #ARTICLE_MOD\n                insertYoutubeOnEvent(this);\n                return true;\n            }).bind(this))\n            .on('click', '.insert-option .insert-action-product', function(){ // #ARTICLE_MOD\n                $('.add_option .insert-option').hide()\n                $('.add_option_tools .insert-product').show();\n                return false;\n            })\n            .on('click', '.insert-text .label', function(){ // #ARTICLE_MOD\n                $('.add_option_tools .insert-text').hide();\n                $('.add_option .insert-option').show();\n                return false;\n            })\n            .on('click', '.insert-media .label', function(){ // #ARTICLE_MOD\n                $('.add_option_tools .insert-media').hide();\n                $('.add_option .insert-option').show();\n                return false;\n            })\n            .on('click', '.insert-image .label', function(){ // #ARTICLE_MOD\n                $('.add_option_tools .insert-image').hide();\n                $('.add_option .insert-media').show();\n                return false;\n            })\n            .on('click', '.insert-youtube .label', function(){ // #ARTICLE_MOD\n                $('.add_option_tools .insert-youtube').hide();\n                $('.add_option .insert-media').show();\n                return false;\n            })\n            .on('click', '.insert-product .label', function(){ // #ARTICLE_MOD\n                $('.add_option_tools .insert-product').hide();\n                $('.add_option .insert-option').show();\n                return false;\n            })\n            // add text options\n            .on('click', '.insert-action-text-body', (function(){ // #ARTICLE_MOD\n                var $place = adjustCaretBeforeInsertWidget(this);\n                var $el = $('<p class=\"medium-insert-active\">Enter Body Text</p>')\n                $place.replaceWith($el);\n                this.moveCaret($el, $el.text().length);\n                that.hideOptionPopupV2();\n                return false;\n            }).bind(this))\n            .on('click', '.insert-action-text-quote', (function(){ // #ARTICLE_MOD\n                var $place = adjustCaretBeforeInsertWidget(this);\n                var $el = $('<blockquote class=\"medium-insert-active\"><span>Enter Quote Text</span></blockquote>')\n                $place.replaceWith($el);\n                this.moveCaret($el.find('span'), $el.find('span').text().length);\n                that.hideOptionPopupV2();\n                return false;\n            }).bind(this))\n            // add image options\n            .on('click', '.insert-action-image-single', function(){ // #ARTICLE_MOD\n                that.hideOptionPopupV2();\n                return false;\n            })\n            .on('click', '.insert-action-image-grid', function(){ // #ARTICLE_MOD\n                that.hideOptionPopupV2();\n                return false;\n            })\n            .on('click', '.insert-action-image-slideshow', function(){ // #ARTICLE_MOD\n                that.hideOptionPopupV2();\n                return false;\n            })\n            // add product card/slideshow\n            .on('click', '.insert-action-product-card', (function(){ // #ARTICLE_MOD\n                var $place = adjustCaretBeforeInsertWidget(this);\n                $.dialog('insert_product').$obj.data('cursor', getAdjacentCursor($place));\n                $.dialog('insert_product').$obj.data('type', 'card');\n                $.dialog('insert_product').open();\n                that.hideOptionPopupV2();\n                return false;\n            }).bind(this))\n            .on('click', '.insert-action-product-slideshow', (function(){ // #ARTICLE_MOD\n                var $place = adjustCaretBeforeInsertWidget(this);\n                $.dialog('insert_product').$obj.data('cursor', getAdjacentCursor($place));\n                $.dialog('insert_product').$obj.data('type', 'slideshow');\n                $.dialog('insert_product').open();\n                that.hideOptionPopupV2();\n                return false;\n            }).bind(this))\n            .on('mouseover', '.product, .medium-insert-images', function() {\n                $(this).find('.add_option_tools').show();\n            })\n            .on('mouseout', '.product, .medium-insert-images', function () {\n                $(this).find('.add_option_tools').hide();\n            })\n            .on('click', '.product .figure-item.add', function(){ // #ARTICLE_MOD\n                $(this).find('input').click();\n            })\n            .on('click', '.product .figure-item.add input, .product .add-product', function(){ // #ARTICLE_MOD\n                $.dialog('insert_product').open();\n                var isSlide = $(this).closest('.product').hasClass('itemSlide');\n                var isList = $(this).closest('.product').hasClass('itemList');\n                if (isSlide) {\n                    $.dialog('insert_product').$obj.data('type', 'slideshow')\n                } else if (isList) {\n                    $.dialog('insert_product').$obj.data('type', 'card')\n                }\n                // give time for reset\n                var $that = $(this);\n                setTimeout(function(){\n                    var selectedItemIds = $that.closest('.product').find('li').toArray()\n                    .sort(function(a, b) {\n                        return $(a).data('idx') - $(b).data('idx');\n                    }).map(function(e) {\n                        return $(e).data('id');\n                    });\n                    // rearrange the id that might shuffled by slide algo\n                    $that.closest('.product').data('selectedItemIds', selectedItemIds);\n                    $.dialog('insert_product').$obj.data('setSaved')($that.closest('.product'), selectedItemIds);\n                }, 50);\n                return false;\n            })\n            .one('click.initializeSlide', '.itemSlide .prev, .itemSlide .next', function(){\n                var $this = $(this);\n                var $slide = $this.closest('.product');\n                $slide.find('.itemSlide .prev, .itemSlide .next').off('click.initializeSlide');\n                $slide.productSlide({ itemPerSlide: 4, center: true })\n                setTimeout(function() {\n                    $this.click();\n                }, 500);\n                return false;\n            })\n            // .on('click', '.itemSlide .prev', function(){ // #ARTICLE_MOD\n            //     var $wrapper = $(this).closest('.product');\n            //     var len = $wrapper.find('li').length;\n            //     if (len <= 4) {\n            //         return false;\n            //     }\n            //     var si = $wrapper.data('slide-index');\n            //     if (si == null) {\n            //         si = 0;\n            //         $wrapper.data('slide-index', 0);\n            //     }\n            //     if (si === 0) {\n            //         return false;\n            //     }\n            //     $wrapper.find('.itemSlideWrap').css('transform', 'translateX(' + String((si - 1) * -95.5) + '%)');\n            //     $wrapper.data('slide-index', si - 1);\n            //     return false;\n            // })\n            // .on('click', '.itemSlide .next', function(){ // #ARTICLE_MOD\n            //     var $wrapper = $(this).closest('.product');\n            //     var len = $wrapper.find('li').length;\n            //     if (len <= 4) {\n            //         return false;\n            //     }\n            //     var si = $wrapper.data('slide-index');\n            //     if (si == null) {\n            //         si = 0;\n            //         $wrapper.data('slide-index', 0);\n            //     }\n            //     var max = Math.floor(len / 4);\n            //     if (si === max) {\n            //         return false;\n            //     }\n            //     $wrapper.find('.itemSlideWrap').css('transform', 'translateX(' + String((si + 1) * -95.5) + '%)');\n            //     $wrapper.data('slide-index', si + 1);\n            //     return false;\n            // })\n            // product card\n            .on('click', 'ul.itemList .itemListElement .remove', function(){\n                var $wrapper = $(this).closest('.product');\n                var selectedItemIds = $wrapper.data('selectedItemIds');\n                if (selectedItemIds == null) {\n                    selectedItemIds = $(this).closest('.product').find('li').map(function(i, e) {\n                        return $(e).data('id')\n                    }).toArray();\n                }\n                if (selectedItemIds.length <= 1) {\n                    $(this).closest('.itemList').remove();\n                    $wrapper.data('selectedItemIds', []);\n                } else {\n                    var $li = $(this).closest('.itemListElement');\n                    var removingId = $li.data('id');\n                    var next = selectedItemIds.filter(function(sid) { return sid !== removingId });\n                    $wrapper.data('selectedItemIds', next);\n                    $li.remove();\n                }\n            })\n            // product slideshow\n            .on('click', '.itemSlide li.itemSlideElement .delete', function(){\n                var $wrapper = $(this).closest('.product');\n                var selectedItemIds = $wrapper.data('selectedItemIds');\n                if (selectedItemIds == null) {\n                    selectedItemIds = $(this).closest('.product').find('li').map(function(i, e) {\n                        return $(e).data('id')\n                    }).toArray()\n                }\n                if (selectedItemIds.length <= 1) {\n                    $(this).closest('.itemSlide').remove();\n                } else {\n                    var $li = $(this).closest('.itemSlideElement');\n                    var removingId = $li.data('id');\n                    var next = selectedItemIds.filter(function(sid) { return sid !== removingId });\n                    $wrapper.data('selectedItemIds', next);\n                    $li.remove();\n                }\n            })\n            .on('click', '.itemList li.itemListElement .figure, .itemList li.itemListElement .figcaption', function(){\n                window.open('/sales/' + $(this).closest('.itemListElement').data('id'));\n            })\n            .on('click', '> p > a:not(.remove)', function(){\n                that.getEditor().selectElement(this);\n                that.getEditor().getExtensionByName('toolbar').showAndUpdateToolbar();\n                setTimeout(function() {\n                    $('.medium-editor-action-anchor2').click();\n                }, 50)\n            })\n            .on('click', '.product .delete-slideshow', function(){\n                $(this).closest('.product').remove();\n            });\n            $(document.body).on('click', function(e) {\n                if ($('.medium-insert-buttons .add_option_tools:visible').length !== 0 && \n                    $(e.target).closest('.add_option_tools, .show_option').length === 0) {\n                    that.hideOptionPopupV2();\n                }\n            })\n            /*\n            Whitelabel V2 Stuff END\n            */\n        } else {\n        }\n\n        $(window).on('resize', $.proxy(this, 'positionButtons', null));\n\n        // editor custom events\n        // var editor = this.getEditor();\n        // editor.subscribe('editableClick', function(a,b,c){\n        //     console.log('asdf')\n        // })\n    };\n\n    /**\n     * Return editor instance\n     *\n     * @return {object} MediumEditor\n     */\n\n    Core.prototype.getEditor = function () {\n        return this.options.editor;\n    };\n\n    /**\n     * Extend editor's serialize function\n     *\n     * @return {object} Serialized data\n     */\n\n    Core.prototype.editorSerialize = function () {\n        var data = this._serialize();\n\n        $.each(data, function (key) {\n            var $data = $('<div />').html(data[key].value);\n\n            $data.find('.medium-insert-buttons').remove();\n            $data.find('.medium-insert-active').removeClass('medium-insert-active');\n\n            // Restore original embed code from embed wrapper attribute value.\n            $data.find('[data-embed-code]').each(function () {\n                var $this = $(this),\n                    html = $('<div />').html($this.attr('data-embed-code')).text();\n                $this.html(html);\n            });\n\n            data[key].value = $data.html();\n        });\n\n        return data;\n    };\n\n    /**\n     * Extend editor's destroy function to deactivate this plugin too\n     *\n     * @return {void}\n     */\n\n    Core.prototype.editorDestroy = function () {\n        $.each(this.elements, function (key, el) {\n            if ($(el).data('plugin_' + pluginName) instanceof Core) {\n                $(el).data('plugin_' + pluginName).disable();\n            }\n        });\n\n        this._destroy();\n    };\n\n    /**\n     * Extend editor's setup function to activate this plugin too\n     *\n     * @return {void}\n     */\n\n    Core.prototype.editorSetup = function () {\n        this._setup();\n\n        $.each(this.elements, function (key, el) {\n            if ($(el).data('plugin_' + pluginName) instanceof Core) {\n                $(el).data('plugin_' + pluginName).enable();\n            }\n        });\n    };\n\n    /**\n     * Extend editor's placeholder.updatePlaceholder function to show placeholder dispite of the plugin buttons\n     *\n     * @return {void}\n     */\n\n    Core.prototype.editorUpdatePlaceholder = function (el, dontShow) {\n        var contents = $(el).children()\n            .not('.medium-insert-buttons, iframe').contents();\n\n        if (!dontShow && contents.length === 1 && contents[0].nodeName.toLowerCase() === 'br') {\n            this.showPlaceholder(el);\n            this.base._hideInsertButtons($(el));\n        } else {\n            this.hidePlaceholder(el);\n        }\n    };\n\n    /**\n     * Trigger editableInput on editor\n     *\n     * @return {void}\n     */\n\n    Core.prototype.triggerInput = function () {\n        if (this.getEditor()) {\n            this.getEditor().trigger('editableInput', null, this.el);\n        }\n    };\n\n    /**\n     * Deselects selected text\n     *\n     * @return {void}\n     */\n\n    Core.prototype.deselect = function () {\n        document.getSelection().removeAllRanges();\n    };\n\n    /**\n     * Disables the plugin\n     *\n     * @return {void}\n     */\n\n    Core.prototype.disable = function () {\n        this.options.enabled = false;\n\n        this.$el.find('.medium-insert-buttons').addClass('hide');\n    };\n\n    /**\n     * Enables the plugin\n     *\n     * @return {void}\n     */\n\n    Core.prototype.enable = function () {\n        this.options.enabled = true;\n\n        this.$el.find('.medium-insert-buttons').removeClass('hide');\n    };\n\n    /**\n     * Disables selectstart mousedown events on plugin elements except images\n     *\n     * @return {void}\n     */\n\n    Core.prototype.disableSelection = function (e) {\n        var $el = $(e.target);\n\n        if (($el.is('img') === false || $el.hasClass('medium-insert-buttons-show')) && !$el.hasClass('extempt-dis-select')) {\n            e.preventDefault();\n        }\n    };\n\n    /**\n     * Initialize addons\n     *\n     * @return {void}\n     */\n\n    Core.prototype.initAddons = function () {\n        var that = this;\n\n        if (!this.options.addons || this.options.addons.length === 0) {\n            return;\n        }\n\n        $.each(this.options.addons, function (addon, options) {\n            var addonName = pluginName + ucfirst(addon);\n\n            if (options === false) {\n                delete that.options.addons[addon];\n                return;\n            }\n\n            that.$el[addonName](options);\n            that.options.addons[addon] = that.$el.data('plugin_' + addonName).options;\n        });\n    };\n\n    /**\n     * Cleans a content of the editor\n     *\n     * @return {void}\n     */\n\n    Core.prototype.clean = function () {\n        var that = this,\n            $buttons, $lastEl, $text;\n\n        if (this.options.enabled === false) {\n            return;\n        }\n\n        if (this.$el.children().length === 0) {\n            this.$el.html(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n        }\n\n        // Fix #29\n        // Wrap content text in <p></p> to avoid Firefox problems\n        $text = this.$el\n            .contents()\n            .filter(function () {\n                return (this.nodeName === '#text' && $.trim($(this).text()) !== '') || this.nodeName.toLowerCase() === 'br';\n            });\n\n        $text.each(function () {\n            $(this).wrap('<p />');\n\n            // Fix #145\n            // Move caret at the end of the element that's being wrapped\n            that.moveCaret($(this).parent(), $(this).text().length);\n        });\n\n        this.addButtons();\n\n        $buttons = this.$el.find('.medium-insert-buttons');\n        $lastEl = $buttons.prev();\n        if ($lastEl.attr('class') && $lastEl.attr('class').match(/medium\\-insert(?!\\-active)/)) {\n            $buttons.before(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n        }\n    };\n\n    /**\n     * Returns HTML template of buttons\n     *\n     * @return {string} HTML template of buttons\n     */\n\n    Core.prototype.getButtons = function () {\n        if (this.options.enabled === false) {\n            return;\n        }\n        var templateName;\n        if (window.isWhitelabelV2) {\n            templateName = 'src/js/templates/core-buttons-gear.hbs'\n        } else {\n            templateName = 'src/js/templates/core-buttons.hbs'\n        }\n\n        return this.templates[templateName]({\n            addons: this.options.addons\n        }).trim();\n    };\n\n    /**\n     * Appends buttons at the end of the $el\n     *\n     * @return {void}\n     */\n\n    Core.prototype.addButtons = function () {\n        if (this.$el.find('.medium-insert-buttons').length === 0) {\n            var buttons = this.getButtons();\n            if (this.$el.find('.gallery-container').length > 0) {\n                buttons = $(buttons);\n                if (!window.isWhitelabelV2) {\n                    buttons.find('.gallery-insert-action').hide().end()\n                }\n                buttons = buttons.prop('outerHTML');\n            } else {\n                buttons = $(buttons).find('.gallery-insert-action').css('display', 'block').end().prop('outerHTML');\n            }\n            this.$el.append(buttons);\n        }\n    };\n\n    /**\n     * Move buttons to current active, empty paragraph and show them\n     *\n     * @return {void}\n     */\n\n    Core.prototype.toggleButtons = function (e) {\n        var $el = $(e.target),\n            selection = window.getSelection(),\n            that = this,\n            range, $current, $p, activeAddon;\n\n        if (this.options.enabled === false) {\n            return;\n        }\n\n        if (!selection || selection.rangeCount === 0) {\n            $current = $el;\n        } else {\n            range = selection.getRangeAt(0);\n            $current = $(range.commonAncestorContainer);\n        }\n\n        // When user clicks on  editor's placeholder in FF, $current el is editor itself, not the first paragraph as it should\n        if ($current.hasClass('medium-editor-insert-plugin')) {\n            $current = $current.find('p:first');\n        }\n\n        $p = $current.is('p') ? $current : $current.closest('p');\n\n        this.clean();\n\n        // console.log($el.hasClass('medium-editor-placeholder') === false)\n        // console.log($el.closest('.medium-insert-buttons').length === 0)\n        // console.log($current.closest('.medium-insert-buttons').length === 0)\n        \n        if (\n            $el.hasClass('medium-editor-placeholder') === false &&\n            $el.closest('.medium-insert-buttons').length === 0 && $current.closest('.medium-insert-buttons').length === 0) {\n\n            this.$el.find('.medium-insert-active').removeClass('medium-insert-active');\n\n            $.each(this.options.addons, function (addon) {\n                if ($el.closest('.medium-insert-' + addon).length) {\n                    $current = $el;\n                }\n\n                if ($current.closest('.medium-insert-' + addon).length) {\n                    $p = $current.closest('.medium-insert-' + addon);\n                    activeAddon = addon;\n                    return;\n                }\n            });\n\n            if ($p.length && ((/*$p.text().trim() === '' &&*/!activeAddon) || activeAddon === 'images')) {\n                $p.addClass('medium-insert-active');\n\n                if (activeAddon === 'images') {\n                    this.$el.find('.medium-insert-buttons').attr('data-active-addon', activeAddon);\n                } else {\n                    this.$el.find('.medium-insert-buttons').removeAttr('data-active-addon');\n                }\n\n                // If buttons are displayed on addon paragraph, wait 100ms for possible captions to display\n                setTimeout(function () {\n                    that.positionButtons(activeAddon);\n                    that.showButtons(activeAddon);\n                }, activeAddon ? 100 : 0);\n            } else {\n                this.hideButtons();\n            }\n        }\n    };\n\n    /**\n     * Show buttons\n     *\n     * @param {string} activeAddon - Name of active addon\n     * @returns {void}\n     */\n\n    Core.prototype.showButtons = function (activeAddon) {\n        var $buttons = this.$el.find('.medium-insert-buttons');\n\n        $buttons.show();\n        $buttons.find('li').show();\n\n        if (activeAddon) {\n            $buttons.find('li').hide();\n            $buttons.find('button[data-addon=\"' + activeAddon + '\"]').parent().show();\n        }\n    };\n\n    /**\n     * Hides buttons\n     *\n     * @param {jQuery} $el - Editor element\n     * @returns {void}\n     */\n\n    Core.prototype.hideButtons = function ($el) {\n        return; // #ARTICLE_MOD\n        $el = $el || this.$el;\n\n        $el.find('.medium-insert-buttons').hide();\n        $el.find('.medium-insert-buttons-addons').hide();\n        $el.find('.medium-insert-buttons-show').removeClass('medium-insert-buttons-rotate');\n    };\n\n    /**\n     * Position buttons\n     *\n     * @param {string} activeAddon - Name of active addon\n     * @return {void}\n     */\n\n    Core.prototype.positionButtons = function (activeAddon) {\n        var $buttons = this.$el.find('.medium-insert-buttons'),\n            $p = this.$el.find('.medium-insert-active'),\n            $lastCaption = $p.hasClass('medium-insert-images-grid') ? [] : $p.find('figure:last figcaption'),\n            elementsContainer = this.getEditor() ? this.getEditor().options.elementsContainer : $('body').get(0),\n            elementsContainerAbsolute = ['absolute', 'fixed'].indexOf(window.getComputedStyle(elementsContainer).getPropertyValue('position')) > -1,\n            position = { left: 75 }; // fixed 75px\n\n        if ($p.length) {\n            //position.left = $p.position().left;\n            position.top = $p.position().top;\n\n            if (activeAddon) {\n                //position.left += $p.width() - $buttons.find('.medium-insert-buttons-show').width() - 10;\n                position.top += $p.height() - 20 + ($lastCaption.length ? -$lastCaption.height() - parseInt($lastCaption.css('margin-top'), 10) : 10);\n            } else {\n                //position.left += -parseInt($buttons.find('.medium-insert-buttons-addons').css('left'), 10) - parseInt($buttons.find('.medium-insert-buttons-addons button:first').css('margin-left'), 10);\n                position.top += parseInt($p.css('margin-top'), 10);\n                position.top += parseInt($p.css('padding-top'), 10);\n            }\n\n            if (elementsContainerAbsolute) {\n                position.top += elementsContainer.scrollTop;\n            }\n\n            //if (this.$el.hasClass('medium-editor-placeholder') === false && position.left < 0) {\n            //    position.left = $p.position().left;\n            //}\n\n            $buttons.css(position);\n        }\n    };\n\n    /**\n     * Toggles addons buttons\n     *\n     * @return {void}\n     */\n\n    Core.prototype.toggleAddons = function () {\n        var $tools = this.$el.find('.add_option_tools');\n        $tools.toggle(); // #ARTICLE_MOD\n        var isVisible = $tools.is(':visible')\n        if (this.$el.find('.medium-insert-buttons').attr('data-active-addon') === 'images') {\n            this.$el.find('.medium-insert-buttons').find('button[data-addon=\"images\"]').click();\n            return;\n        }\n        //this.$el.find('.medium-insert-buttons-addons').fadeToggle(); // #ARTICLE_MOD\n        //this.$el.find('.medium-insert-buttons-show').toggleClass('medium-insert-buttons-rotate'); // #ARTICLE_MOD\n    };\n\n    /**\n     * Hide addons buttons\n     *\n     * @return {void}\n     */\n\n    Core.prototype.hideAddons = function () {\n        this.$el.find('.medium-insert-buttons-addons').hide();\n        this.$el.find('.medium-insert-buttons-show').removeClass('medium-insert-buttons-rotate');\n    };\n\n    /**\n     * Call addon's action\n     *\n     * @param {Event} e\n     * @return {void}\n     */\n\n    Core.prototype.addonAction = function (e) {\n        var $a = $(e.currentTarget),\n            addon = $a.data('addon'),\n            action = $a.data('action'),\n            meta = $a.data('meta');\n        this.$el.data('plugin_' + pluginName + ucfirst(addon))[action](meta);\n    };\n\n    /**\n     * Move caret at the beginning of the empty paragraph\n     *\n     * @param {jQuery} $el Element where to place the caret\n     * @param {integer} position Position where to move caret. Default: 0\n     *\n     * @return {void}\n     */\n\n    Core.prototype.moveCaret = function ($el, position) {\n        var range, sel, el, textEl;\n\n        position = position || 0;\n        range = document.createRange();\n        sel = window.getSelection();\n        el = $el.get(0);\n\n        if (!el.childNodes.length) {\n            textEl = document.createTextNode(' ');\n            el.appendChild(textEl);\n        }\n\n        range.setStart(el.childNodes[0], position);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n    };\n\n    /**\n     * Add caption\n     *\n     * @param {jQuery Element} $el\n     * @param {string} placeholder\n     * @return {void}\n     */\n\n    Core.prototype.addCaption = function ($el, placeholder, text) {\n        var $caption = $el.find('figcaption');\n\n        if ($caption.length === 0) {\n            var $newCaption = $(this.templates['src/js/templates/core-caption.hbs']({\n                placeholder: placeholder\n            }));\n            if (text) {\n                $newCaption.removeAttr('data-placeholder');\n                $newCaption.attr('class', '');\n                $newCaption.text(text);\n            }\n            $el.append($newCaption);\n        }\n    };\n\n    /**\n     * Remove captions\n     *\n     * @param {jQuery Element} $ignore\n     * @return {void}\n     */\n\n    Core.prototype.removeCaptions = function ($ignore) {\n        var $captions = this.$el.find('figcaption');\n\n        if ($ignore) {\n            $captions = $captions.not($ignore);\n        }\n\n        $captions.each(function () {\n            if ($(this).hasClass('medium-insert-caption-placeholder') || $(this).text().trim() === '') {\n                $(this).remove();\n            }\n        });\n    };\n\n    /**\n     * Remove caption placeholder\n     *\n     * @param {jQuery Element} $el\n     * @return {void}\n     */\n\n    Core.prototype.removeCaptionPlaceholder = function ($el) {\n        var $caption = $el.is('figcaption') ? $el : $el.find('figcaption');\n\n        if ($caption.length) {\n            $caption\n                .removeClass('medium-insert-caption-placeholder')\n                .removeAttr('data-placeholder');\n        }\n    };\n\n    Core.prototype.migrateExistingContent = function migrateExistingContent($place) {\n        if ($place.text().length > 0) { // ARTICLE_MOD: move text before $place\n            var $cl = $place.clone();\n            $cl.insertBefore($place);\n            $cl.removeClass('medium-insert-active');\n            $place.html('');\n        }\n    };\n\n    /** Plugin initialization */\n\n    $.fn[pluginName] = function (options) {\n        return this.each(function () {\n            var that = this,\n                textareaId;\n\n            if ($(that).is('textarea')) {\n                textareaId = $(that).attr('medium-editor-textarea-id');\n                that = $(that).siblings('[medium-editor-textarea-id=\"' + textareaId + '\"]').get(0);\n            }\n\n            if (!$.data(that, 'plugin_' + pluginName)) {\n                // Plugin initialization\n                $.data(that, 'plugin_' + pluginName, new Core(that, options));\n                $.data(that, 'plugin_' + pluginName).init();\n            } else if (typeof options === 'string' && $.data(that, 'plugin_' + pluginName)[options]) {\n                // Method call\n                $.data(that, 'plugin_' + pluginName)[options]();\n            }\n        });\n    };\n\n})(jQuery, window, document);\n\n; (function ($, window, document, undefined) {\n\n    'use strict';\n\n    /** Default values */\n    var pluginName = 'mediumInsert',\n        addonName = 'Embeds', // first char is uppercase\n        defaults = {\n            label: '<span class=\"fa fa-youtube-play\"></span>',\n            placeholder: 'Paste a YouTube, Vimeo, Facebook, Twitter or Instagram link and press Enter',\n            oembedProxy: 'https://medium.iframe.ly/api/oembed?iframe=1',\n            captions: true,\n            captionPlaceholder: 'Type caption (optional)',\n            storeMeta: false,\n            styles: {\n                wide: {\n                    label: '<span class=\"fa fa-align-justify\"></span>'\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                left: {\n                    label: '<span class=\"fa fa-align-left\"></span>'\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                right: {\n                    label: '<span class=\"fa fa-align-right\"></span>'\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                }\n            },\n            actions: {\n                remove: {\n                    label: '<span class=\"fa fa-times\"></span>',\n                    clicked: function () {\n                        var $event = $.Event('keydown');\n\n                        $event.which = 8;\n                        $(document).trigger($event);\n                    }\n                }\n            },\n            parseOnPaste: false\n        };\n\n    /**\n     * Embeds object\n     *\n     * Sets options, variables and calls init() function\n     *\n     * @constructor\n     * @param {DOM} el - DOM element to init the plugin on\n     * @param {object} options - Options to override defaults\n     * @return {void}\n     */\n\n    function Embeds(el, options) {\n        this.el = el;\n        this.$el = $(el);\n        this.templates = window.MediumInsert.Templates;\n        this.core = this.$el.data('plugin_' + pluginName);\n\n        this.options = $.extend(true, {}, defaults, options);\n\n        this._defaults = defaults;\n        this._name = pluginName;\n\n        // Extend editor's functions\n        if (this.core.getEditor()) {\n            this.core.getEditor()._serializePreEmbeds = this.core.getEditor().serialize;\n            this.core.getEditor().serialize = this.editorSerialize;\n        }\n\n        this.init();\n    }\n\n    /**\n     * Initialization\n     *\n     * @return {void}\n     */\n\n    Embeds.prototype.init = function () {\n        var $embeds = this.$el.find('.medium-insert-embeds');\n\n        $embeds.attr('contenteditable', false);\n        $embeds.each(function () {\n            if ($(this).find('.medium-insert-embeds-overlay').length === 0) {\n                $(this).append($('<div />').addClass('medium-insert-embeds-overlay'));\n            }\n        });\n\n        this.events();\n        this.backwardsCompatibility();\n    };\n\n    /**\n     * Event listeners\n     *\n     * @return {void}\n     */\n\n    Embeds.prototype.events = function () {\n        $(document)\n            .on('click', $.proxy(this, 'unselectEmbed'))\n            .on('keydown', $.proxy(this, 'removeEmbed'))\n            .on('click', '.medium-insert-embeds-toolbar .medium-editor-action', $.proxy(this, 'toolbarAction'))\n            .on('click', '.medium-insert-embeds-toolbar2 .medium-editor-action', $.proxy(this, 'toolbar2Action'));\n\n        this.$el\n            .on('keyup click paste', $.proxy(this, 'togglePlaceholder'))\n            .on('keydown', $.proxy(this, 'processLink'))\n            .on('click', '.medium-insert-embeds-overlay', $.proxy(this, 'selectEmbed'))\n            .on('contextmenu', '.medium-insert-embeds-placeholder', $.proxy(this, 'fixRightClickOnPlaceholder'));\n\n        if (this.options.parseOnPaste) {\n            this.$el\n                .on('paste', $.proxy(this, 'processPasted'));\n        }\n\n        $(window)\n            .on('resize', $.proxy(this, 'autoRepositionToolbars'));\n    };\n\n    /**\n     * Replace v0.* class names with new ones, wrap embedded content to new structure\n     *\n     * @return {void}\n     */\n\n    Embeds.prototype.backwardsCompatibility = function () {\n        var that = this;\n\n        this.$el.find('.mediumInsert-embeds')\n            .removeClass('mediumInsert-embeds')\n            .addClass('medium-insert-embeds');\n\n        this.$el.find('.medium-insert-embeds').each(function () {\n            if ($(this).find('.medium-insert-embed').length === 0) {\n                $(this).after(that.templates['src/js/templates/embeds-wrapper.hbs']({\n                    html: $(this).html()\n                }));\n                $(this).remove();\n            }\n        });\n    };\n\n    /**\n     * Extend editor's serialize function\n     *\n     * @return {object} Serialized data\n     */\n\n    Embeds.prototype.editorSerialize = function () {\n        var data = this._serializePreEmbeds();\n\n        $.each(data, function (key) {\n            var $data = $('<div />').html(data[key].value);\n\n            $data.find('.medium-insert-embeds').removeAttr('contenteditable');\n            $data.find('.medium-insert-embeds-overlay').remove();\n\n            data[key].value = $data.html();\n        });\n\n        return data;\n    };\n\n    /**\n     * Add embedded element\n     *\n     * @return {void}\n     */\n\n    Embeds.prototype.add = function () {\n        var $place = this.$el.find('.medium-insert-active');\n\n        // Fix #132\n        // Make sure that the content of the paragraph is empty and <br> is wrapped in <p></p> to avoid Firefox problems\n        $place.html(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n\n        // Replace paragraph with div to prevent #124 issue with pasting in Chrome,\n        // because medium editor wraps inserted content into paragraph and paragraphs can't be nested\n        if ($place.is('p')) {\n            $place.replaceWith('<div class=\"medium-insert-active\">' + $place.html() + '</div>');\n            $place = this.$el.find('.medium-insert-active');\n            this.core.moveCaret($place);\n        }\n\n        $place.addClass('medium-insert-embeds medium-insert-embeds-input medium-insert-embeds-active');\n\n        this.togglePlaceholder({ target: $place.get(0) });\n\n        $place.click();\n        this.core.hideButtons();\n    };\n\n    /**\n     * Toggles placeholder\n     *\n     * @param {Event} e\n     * @return {void}\n     */\n\n    Embeds.prototype.togglePlaceholder = function (e) {\n        var $place = $(e.target),\n            selection = window.getSelection(),\n            range, $current, text;\n\n        if (!selection || selection.rangeCount === 0) {\n            return;\n        }\n\n        range = selection.getRangeAt(0);\n        $current = $(range.commonAncestorContainer);\n\n        if ($current.hasClass('medium-insert-embeds-active')) {\n            $place = $current;\n        } else if ($current.closest('.medium-insert-embeds-active').length) {\n            $place = $current.closest('.medium-insert-embeds-active');\n        }\n\n        if ($place.hasClass('medium-insert-embeds-active')) {\n\n            text = $place.text().trim();\n\n            if (text === '' && $place.hasClass('medium-insert-embeds-placeholder') === false) {\n                $place\n                    .addClass('medium-insert-embeds-placeholder')\n                    .attr('data-placeholder', this.options.placeholder);\n            } else if (text !== '' && $place.hasClass('medium-insert-embeds-placeholder')) {\n                $place\n                    .removeClass('medium-insert-embeds-placeholder')\n                    .removeAttr('data-placeholder');\n            }\n\n        } else {\n            this.$el.find('.medium-insert-embeds-active').remove();\n        }\n    };\n\n    /**\n     * Right click on placeholder in Chrome selects whole line. Fix this by placing caret at the end of line\n     *\n     * @param {Event} e\n     * @return {void}\n     */\n\n    Embeds.prototype.fixRightClickOnPlaceholder = function (e) {\n        this.core.moveCaret($(e.target));\n    };\n\n    /**\n     * Process link\n     *\n     * @param {Event} e\n     * @return {void}\n     */\n\n    Embeds.prototype.processLink = function (e) {\n        var $place = this.$el.find('.medium-insert-embeds-active'),\n            url;\n\n        if (!$place.length) {\n            return;\n        }\n\n        url = $place.text().trim();\n\n        // Return empty placeholder on backspace, delete or enter\n        if (url === '' && [8, 46, 13].indexOf(e.which) !== -1) {\n            $place.remove();\n            return;\n        }\n\n        if (e.which === 13) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (this.options.oembedProxy) {\n                this.oembed(url);\n            } else {\n                this.parseUrl(url);\n            }\n        }\n    };\n\n    /**\n     * Process Pasted\n     *\n     * @param {Event} e\n     * @return {void}\n     */\n\n    Embeds.prototype.processPasted = function (e) {\n        var pastedUrl, linkRegEx;\n        if ($(\".medium-insert-embeds-active\").length) {\n            return;\n        }\n\n        pastedUrl = e.originalEvent.clipboardData.getData('text');\n        linkRegEx = new RegExp('^(http(s?):)?\\/\\/','i');\n        if (linkRegEx.test(pastedUrl)) {\n            if (this.options.oembedProxy) {\n                this.oembed(pastedUrl, true);\n            } else {\n                this.parseUrl(pastedUrl, true);\n            }\n        }\n    };\n\n    /**\n     * Get HTML via oEmbed proxy\n     *\n     * @param {string} url\n     * @return {void}\n     */\n\n    Embeds.prototype.oembed = function (url, pasted) {\n        var that = this;\n\n        $.support.cors = true;\n\n        $.ajax({\n            crossDomain: true,\n            cache: false,\n            url: this.options.oembedProxy,\n            dataType: 'json',\n            data: {\n                url: url\n            },\n            success: function (data) {\n                var html = data && data.html;\n\n                if (that.options.storeMeta) {\n                    html += '<div class=\"medium-insert-embeds-meta\"><script type=\"text/json\">' + JSON.stringify(data) + '</script></div>';\n                }\n\n                if (data && !html && data.type === 'photo' && data.url) {\n                    html = '<img src=\"' + data.url + '\" alt=\"\">';\n                }\n\n                if (!html) {\n                    // Prevent render empty embed.\n                    $.proxy(that, 'convertBadEmbed', url)();\n                    return;\n                }\n\n                if (pasted) {\n                    $.proxy(that, 'embed', html, url)();\n                } else {\n                    $.proxy(that, 'embed', html)();\n                }\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                var responseJSON = (function () {\n                    try {\n                        return JSON.parse(jqXHR.responseText);\n                    } catch (e) { }\n                })();\n\n                if (typeof window.console !== 'undefined') {\n                    window.console.log((responseJSON && responseJSON.error) || jqXHR.status || errorThrown.message);\n                } else {\n                    window.alert('Error requesting media from ' + that.options.oembedProxy + ' to insert: ' + errorThrown + ' (response status: ' + jqXHR.status + ')');\n                }\n\n                $.proxy(that, 'convertBadEmbed', url)();\n            }\n        });\n    };\n\n    /**\n     * Get HTML using regexp\n     *\n     * @param {string} url\n     * @param {bool} pasted\n     * @return {void}\n     */\n\n    Embeds.prototype.parseUrl = function (url, pasted) {\n        var html;\n\n        if (!(new RegExp(['youtube', 'youtu.be', 'vimeo', 'instagram', 'twitter', 'facebook'].join('|')).test(url))) {\n            $.proxy(this, 'convertBadEmbed', url)();\n            return false;\n        }\n\n        html = url.replace(/\\n?/g, '')\n            .replace(/^((http(s)?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.be)\\/(watch\\?v=|v\\/)?)([a-zA-Z0-9\\-_]+)(.*)?$/, '<div class=\"video video-youtube\"><iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/$7\" frameborder=\"0\" allowfullscreen></iframe></div>')\n            .replace(/^https?:\\/\\/vimeo\\.com(\\/.+)?\\/([0-9]+)$/, '<div class=\"video video-vimeo\"><iframe src=\"//player.vimeo.com/video/$2\" width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')\n            .replace(/^https:\\/\\/twitter\\.com\\/(\\w+)\\/status\\/(\\d+)\\/?$/, '<blockquote class=\"twitter-tweet\" align=\"center\" lang=\"en\"><a href=\"https://twitter.com/$1/statuses/$2\"></a></blockquote><script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>')\n            .replace(/^(https:\\/\\/www\\.facebook\\.com\\/(.*))$/, '<script src=\"//connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v2.2\" async></script><div class=\"fb-post\" data-href=\"$1\"><div class=\"fb-xfbml-parse-ignore\"><a href=\"$1\">Loading Facebook post...</a></div></div>')\n            .replace(/^https?:\\/\\/instagram\\.com\\/p\\/(.+)\\/?$/, '<span class=\"instagram\"><iframe src=\"//instagram.com/p/$1/embed/\" width=\"612\" height=\"710\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe></span>');\n\n        if (this.options.storeMeta) {\n            html += '<div class=\"medium-insert-embeds-meta\"><script type=\"text/json\">' + JSON.stringify({}) + '</script></div>';\n        }\n\n        if ((/<(\"[^\"]*\"|'[^']*'|[^'\">])*>/).test(html) === false) {\n            $.proxy(this, 'convertBadEmbed', url)();\n            return false;\n        }\n\n        if (pasted) {\n            this.embed(html, url);\n        } else {\n            this.embed(html);\n        }\n    };\n\n    /**\n     * Add html to page\n     *\n     * @param {string} html\n     * @param {string} pastedUrl\n     * @return {void}\n     */\n\n    Embeds.prototype.embed = function (html, pastedUrl) {\n        var $place = this.$el.find('.medium-insert-embeds-active'),\n            $div;\n\n        if (!html) {\n            alert('Incorrect URL format specified');\n            return false;\n        } else {\n            if (html.indexOf('</script>') > -1) {\n                // Store embed code with <script> tag inside wrapper attribute value.\n                // Make nice attribute value escaping using jQuery.\n                $div = $('<div>')\n                    .attr('data-embed-code', $('<div />').text(html).html())\n                    .html(html);\n                html = $('<div>').append($div).html();\n            }\n\n            if (pastedUrl) {\n                // Get the element with the pasted url\n                // place the embed template and remove the pasted text\n                $place = this.$el.find(\":not(iframe, script, style)\")\n                    .contents().filter(\n                        function () {\n                            return this.nodeType === 3 && this.textContent.indexOf(pastedUrl) > -1;\n                        }).parent();\n\n                $place.after(this.templates['src/js/templates/embeds-wrapper.hbs']({\n                    html: html\n                }));\n                $place.text($place.text().replace(pastedUrl, ''));\n            } else {\n                $place.after(this.templates['src/js/templates/embeds-wrapper.hbs']({\n                    html: html\n                }));\n                $place.remove();\n            }\n\n\n            this.core.triggerInput();\n\n            if (html.indexOf('facebook') !== -1) {\n                if (typeof (FB) !== 'undefined') {\n                    setTimeout(function () {\n                        FB.XFBML.parse();\n                    }, 2000);\n                }\n            }\n        }\n    };\n\n    /**\n     * Convert bad oEmbed content to an actual line.\n     * Instead of displaying the error message we convert the bad embed\n     *\n     * @param {string} content Bad content\n     *\n     * @return {void}\n     */\n    Embeds.prototype.convertBadEmbed = function (content) {\n        var $place, $empty, $content,\n            emptyTemplate = this.templates['src/js/templates/core-empty-line.hbs']().trim();\n\n        $place = this.$el.find('.medium-insert-embeds-active');\n\n        // convert embed node to an empty node and insert the bad embed inside\n        $content = $(emptyTemplate);\n        $place.before($content);\n        $place.remove();\n        $content.html(content);\n\n        // add an new empty node right after to simulate Enter press\n        $empty = $(emptyTemplate);\n        $content.after($empty);\n\n        this.core.triggerInput();\n\n        this.core.moveCaret($empty);\n    };\n\n    /**\n     * Select clicked embed\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.selectEmbed = function (e) {\n        var that = this,\n            $embed;\n        if (this.core.options.enabled) {\n            $embed = $(e.target).hasClass('medium-insert-embeds') ? $(e.target) : $(e.target).closest('.medium-insert-embeds');\n\n            $embed.addClass('medium-insert-embeds-selected');\n\n            setTimeout(function () {\n                that.addToolbar();\n\n                if (that.options.captions) {\n                    that.core.addCaption($embed.find('figure'), that.options.captionPlaceholder);\n                }\n            }, 50);\n        }\n    };\n\n    /**\n     * Unselect selected embed\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.unselectEmbed = function (e) {\n        var $el = $(e.target).hasClass('medium-insert-embeds') ? $(e.target) : $(e.target).closest('.medium-insert-embeds'),\n            $embed = this.$el.find('.medium-insert-embeds-selected');\n\n        if ($el.hasClass('medium-insert-embeds-selected')) {\n            $embed.not($el).removeClass('medium-insert-embeds-selected');\n            $('.medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2').remove();\n            this.core.removeCaptions($el.find('figcaption'));\n\n            if ($(e.target).is('.medium-insert-caption-placeholder') || $(e.target).is('figcaption')) {\n                $el.removeClass('medium-insert-embeds-selected');\n                this.core.removeCaptionPlaceholder($el.find('figure'));\n            }\n            return;\n        }\n\n        $embed.removeClass('medium-insert-embeds-selected');\n        $('.medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2').remove();\n\n        if ($(e.target).is('.medium-insert-caption-placeholder')) {\n            this.core.removeCaptionPlaceholder($el.find('figure'));\n        } else if ($(e.target).is('figcaption') === false) {\n            this.core.removeCaptions();\n        }\n    };\n\n    /**\n     * Remove embed\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.removeEmbed = function (e) {\n        var $embed, $empty;\n\n        if (e.which === 8 || e.which === 46) {\n            $embed = this.$el.find('.medium-insert-embeds-selected');\n\n            if ($embed.length) {\n                e.preventDefault();\n\n                $('.medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2').remove();\n\n                $empty = $(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n                $embed.before($empty);\n                $embed.remove();\n\n                // Hide addons\n                this.core.hideAddons();\n\n                this.core.moveCaret($empty);\n                this.core.triggerInput();\n            }\n        }\n    };\n\n    /**\n     * Adds embed toolbar to editor\n     *\n     * @returns {void}\n     */\n\n    Embeds.prototype.addToolbar = function () {\n        var $embed = this.$el.find('.medium-insert-embeds-selected'),\n            active = false,\n            $toolbar, $toolbar2, mediumEditor, toolbarContainer;\n\n        if ($embed.length === 0) {\n            return;\n        }\n\n        mediumEditor = this.core.getEditor();\n        toolbarContainer = mediumEditor.options.elementsContainer || 'body';\n\n        $(toolbarContainer).append(this.templates['src/js/templates/embeds-toolbar.hbs']({\n            styles: this.options.styles,\n            actions: this.options.actions\n        }).trim());\n\n        $toolbar = $('.medium-insert-embeds-toolbar');\n        $toolbar2 = $('.medium-insert-embeds-toolbar2');\n\n        $toolbar.find('button').each(function () {\n            if ($embed.hasClass('medium-insert-embeds-' + $(this).data('action'))) {\n                $(this).addClass('medium-editor-button-active');\n                active = true;\n            }\n        });\n\n        if (active === false) {\n            $toolbar.find('button').first().addClass('medium-editor-button-active');\n        }\n\n        this.repositionToolbars();\n        $toolbar.fadeIn();\n        $toolbar2.fadeIn();\n    };\n\n    Embeds.prototype.autoRepositionToolbars = function () {\n        setTimeout(function () {\n            this.repositionToolbars();\n            this.repositionToolbars();\n        }.bind(this), 0);\n    };\n\n    Embeds.prototype.repositionToolbars = function () {\n        var $toolbar = $('.medium-insert-embeds-toolbar'),\n            $toolbar2 = $('.medium-insert-embeds-toolbar2'),\n            $embed = this.$el.find('.medium-insert-embeds-selected'),\n            elementsContainer = this.core.getEditor().options.elementsContainer,\n            elementsContainerAbsolute = ['absolute', 'fixed'].indexOf(window.getComputedStyle(elementsContainer).getPropertyValue('position')) > -1,\n            elementsContainerBoundary = elementsContainerAbsolute ? elementsContainer.getBoundingClientRect() : null,\n            containerWidth = $(window).width(),\n            position = {};\n\n        if ($toolbar2.length) {\n            position.top = $embed.offset().top + 2; // 2px - distance from a border\n            position.left = $embed.offset().left + $embed.width() - $toolbar2.width() - 4; // 4px - distance from a border\n\n            if (elementsContainerAbsolute) {\n                position.top += elementsContainer.scrollTop - elementsContainerBoundary.top;\n                position.left -= elementsContainerBoundary.left;\n                containerWidth = $(elementsContainer).width();\n            }\n\n            if (position.left + $toolbar2.width() > containerWidth) {\n                position.left = containerWidth - $toolbar2.width();\n            }\n\n            $toolbar2.css(position);\n        }\n\n        if ($toolbar.length) {\n            position.left = $embed.offset().left + $embed.width() / 2 - $toolbar.width() / 2;\n            position.top = $embed.offset().top - $toolbar.height() - 8 - 2 - 5; // 8px - hight of an arrow under toolbar, 2px - height of an embed outset, 5px - distance from an embed\n\n            if (elementsContainerAbsolute) {\n                position.top += elementsContainer.scrollTop - elementsContainerBoundary.top;\n                position.left -= elementsContainerBoundary.left;\n            }\n\n            if (position.top < 0) {\n                position.top = 0;\n            }\n\n            $toolbar.css(position);\n        }\n    };\n\n    /**\n     * Fires toolbar action\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.toolbarAction = function (e) {\n        var $button = $(e.target).is('button') ? $(e.target) : $(e.target).closest('button'),\n            $li = $button.closest('li'),\n            $ul = $li.closest('ul'),\n            $lis = $ul.find('li'),\n            $embed = this.$el.find('.medium-insert-embeds-selected'),\n            that = this;\n\n        $button.addClass('medium-editor-button-active');\n        $li.siblings().find('.medium-editor-button-active').removeClass('medium-editor-button-active');\n\n        $lis.find('button').each(function () {\n            var className = 'medium-insert-embeds-' + $(this).data('action');\n\n            if ($(this).hasClass('medium-editor-button-active')) {\n                $embed.addClass(className);\n\n                if (that.options.styles[$(this).data('action')].added) {\n                    that.options.styles[$(this).data('action')].added($embed);\n                }\n            } else {\n                $embed.removeClass(className);\n\n                if (that.options.styles[$(this).data('action')].removed) {\n                    that.options.styles[$(this).data('action')].removed($embed);\n                }\n            }\n        });\n\n        this.core.triggerInput();\n    };\n\n    /**\n     * Fires toolbar2 action\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.toolbar2Action = function (e) {\n        var $button = $(e.target).is('button') ? $(e.target) : $(e.target).closest('button'),\n            callback = this.options.actions[$button.data('action')].clicked;\n\n        if (callback) {\n            callback(this.$el.find('.medium-insert-embeds-selected'));\n        }\n\n        this.core.triggerInput();\n    };\n\n    /** Plugin initialization */\n\n    $.fn[pluginName + addonName] = function (options) {\n        return this.each(function () {\n            if (!$.data(this, 'plugin_' + pluginName + addonName)) {\n                $.data(this, 'plugin_' + pluginName + addonName, new Embeds(this, options));\n            }\n        });\n    };\n\n})(jQuery, window, document);\n\n/*global MediumEditor*/\n\n// #ARTICLE_MOD\nvar ImageModes = {\n    Full: 'Full',\n    Normal: 'Normal',\n    Quoted: 'Quoted',\n    Grid: 'Grid',\n};\nvar ImageModesEditClasses = {\n    Full: 'edit_full',\n    Normal: 'edit_normal',\n    Quoted: 'edit_with_quote'\n};\nvar ImageModesClasses = {\n    Full: 'mode-full',\n    Normal: 'mode-normal',\n    Quoted: 'mode-quoted',\n    Grid: 'mode-grid',\n};\nvar quotedPlaceHolderMsg = 'Start typing or paste article text...';\n\n\n; (function ($, window, document, Util, undefined) {\n\n    'use strict';\n\n    /** Default values */\n    var pluginName = 'mediumInsert',\n        addonName = 'Images', // first char is uppercase\n        defaults = {\n            label: '<span class=\"fa fa-camera\"></span>',\n            deleteMethod: 'POST',\n            deleteScript: 'delete.php',\n            preview: true,\n            captions: true,\n            captionPlaceholder: 'Type caption for image (optional)',\n            autoGrid: 3,\n            fileUploadOptions: { // See https://github.com/blueimp/jQuery-File-Upload/wiki/Options\n                url: null,\n                acceptFileTypes: /(\\.|\\/)(gif|jpe?g|png)$/i\n            },\n            fileDeleteOptions: {},\n            styles: {\n                wide: {\n                    label: '<span class=\"fa fa-align-justify\"></span>'\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                left: {\n                    label: '<span class=\"fa fa-align-left\"></span>'\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                right: {\n                    label: '<span class=\"fa fa-align-right\"></span>'\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                grid: {\n                    label: '<span class=\"fa fa-th\"></span>'\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                }\n            },\n            actions: {\n                remove: {\n                    label: '<span class=\"fa fa-times\"></span>',\n                    clicked: function () {\n                        var $event = $.Event('keydown');\n\n                        $event.which = 8;\n                        $(document).trigger($event);\n                    }\n                }\n            },\n            sorting: function () {\n                var that = this;\n\n                $('.medium-insert-images').sortable({\n                    group: 'medium-insert-images',\n                    containerSelector: '.medium-insert-images',\n                    itemSelector: 'figure',\n                    placeholder: '<figure class=\"placeholder\">',\n                    handle: 'img',\n                    nested: false,\n                    vertical: false,\n                    afterMove: function () {\n                        that.core.triggerInput();\n                    }\n                });\n            },\n            messages: {\n                acceptFileTypesError: 'This file is not in a supported format: ',\n                maxFileSizeError: 'This file is too big: '\n            }\n            // uploadError: function($el, data) {}\n            // uploadCompleted: function ($el, data) {}\n        };\n\n    /**\n     * Images object\n     *\n     * Sets options, variables and calls init() function\n     *\n     * @constructor\n     * @param {DOM} el - DOM element to init the plugin on\n     * @param {object} options - Options to override defaults\n     * @return {void}\n     */\n\n    function Images(el, options) {\n        this.el = el;\n        this.$el = $(el);\n\n        // this.mode = this.$el.attr('data-mode') || ImageModes.Normal; // #ARTICLE_MOD\n\n        this.$currentImage = null;\n        this.templates = window.MediumInsert.Templates;\n        this.core = this.$el.data('plugin_' + pluginName);\n\n        this.options = $.extend(true, {}, defaults, options);\n\n        this._defaults = defaults;\n        this._name = pluginName;\n        this.meta = null; // should be set as null after use\n\n        // Allow image preview only in browsers, that support's that\n        if (this.options.preview && !window.FileReader) {\n            this.options.preview = false;\n        }\n\n        // Extend editor's functions\n        if (this.core.getEditor()) {\n            this.core.getEditor()._serializePreImages = this.core.getEditor().serialize;\n            this.core.getEditor().serialize = this.editorSerialize;\n        }\n\n        this.init();\n    }\n\n    /**\n     * Initialization\n     *\n     * @return {void}\n     */\n\n    function getImageMode($image) {\n        return $image.closest('figure').attr('data-mode');\n    }\n\n    Images.prototype.init = function () {\n        var $images = this.$el.find('.medium-insert-images');\n\n        $images.find('figcaption').attr('contenteditable', true);\n        $images.find('figure').attr('contenteditable', false);\n\n        this.events();\n        this.backwardsCompatibility();\n        this.sorting();\n    };\n\n    function changeMode($fig, prevMode, nextMode, tempCaptionCallback) {\n        $fig.attr('class', '');\n        $fig.addClass(ImageModesClasses[nextMode]);\n        $fig.attr('data-mode', nextMode);\n        $fig.attr('contenteditable', 'false');\n        var $caption = $fig.find('figcaption');\n        var tempCaption = '';\n        if ($caption.text().trim() !== '') {\n            tempCaption = $caption.text();\n        } else if (prevMode === ImageModes.Quoted) {\n            var quote = $fig.find('.textarea').text().trim();\n            if (quote) {\n                tempCaption = quote;\n            }\n        }\n\n        //this.core.removeCaptions(); // DIDNT WORK\n        if (tempCaption === '') {\n            $fig.find('figcaption').remove();\n        }\n\n        // Process figure when quote mode is related\n        if (nextMode === ImageModes.Quoted) {\n            $fig.find('figcaption').remove();\n            $fig.find('img')\n                .wrap('<p />')\n                .wrap('<span class=\"image\" />');\n            $fig\n                .append('<p contenteditable=\"true\" class=\"textarea\" data-changed=\"false\">' + quotedPlaceHolderMsg + '</p>');\n            if (tempCaption) {\n                $fig.find('.textarea')\n                    .text(tempCaption)\n                    .attr('data-changed', 'true');\n            }\n        } else if (prevMode === ImageModes.Quoted) {\n            var $img = $fig.find('img');\n            $fig.html('');\n            $fig.append($img);\n            if (tempCaption) {\n                tempCaptionCallback && tempCaptionCallback(tempCaption);\n            }\n        }\n    }\n    window.ReactMediumEditor__changeMode = changeMode;\n\n    Images.prototype.handleModeChange = function (nextMode) {\n        var prevMode = getImageMode(this.$currentImage);\n        if (prevMode === nextMode) { // no change in mode\n            return;\n        }\n        var $fig = this.$currentImage.closest('figure');\n        changeMode($fig, prevMode, nextMode, (function(tempCaption) {\n            this.core.addCaption($fig, this.options.captionPlaceholder, tempCaption);\n        }).bind(this));\n    };\n\n    /**\n     * Event listeners\n     *\n     * @return {void}\n     */\n\n    Images.prototype.events = function () {\n        var that = this;\n        $(document)\n            .on('click', $.proxy(this, 'unselectImage'))\n            .on('keydown', $.proxy(this, 'removeImage'))\n            .on('click', '.medium-insert-images.medium-insert-active .remove', (function(event) {\n                event.preventDefault();\n                var $this = $(event.currentTarget);\n                var $fig = $this.closest('.medium-insert-images figure');\n                if ($fig.attr('data-mode') === ImageModes.Grid) {\n                    $this.closest('.grid').remove();\n                } else {\n                    $fig.remove();\n                }\n            }).bind(this))\n            // Toolbar buttons.\n            .on('click', '.medium-insert-images-toolbar .edit_full', (function(event) {\n                this.handleModeChange(ImageModes.Full);\n            }).bind(this))\n            .on('click', '.medium-insert-images-toolbar .edit_normal', (function(event) {\n                this.handleModeChange(ImageModes.Normal);\n            }).bind(this))\n            .on('click', '.medium-insert-images-toolbar .edit_with_quote', (function(event) {\n                this.handleModeChange(ImageModes.Quoted);\n            }).bind(this))\n            // For serialization\n            .on('change', '.medium-insert-images figure textarea', (function(event) {\n                var $target = $(event.target);\n                $target.text($target.val());\n            }).bind(this))\n\n            .on('focusin', '.medium-editor-insert-plugin .medium-insert-images', function(event){\n                var el = event.target;\n                if (event.target.className === 'textarea') {\n                    if (el.getAttribute('data-changed') === 'false') {\n                        el.textContent = '';\n                    }\n                    $('.description.more').attr('data-disable-toolbar', 'true');\n                }\n            })\n            .on('keydown', '.medium-editor-insert-plugin .medium-insert-images', function(event){\n                var el = event.target;\n                if (event.target.className === 'textarea') {\n                    if (el.getAttribute('data-changed') !== 'true') {\n                        el.setAttribute('data-changed', 'true');\n                    }\n                }\n            })\n            .on('focusout', '.medium-editor-insert-plugin .medium-insert-images', function(event){\n                var el = event.target;\n                if (el.className === 'textarea') {\n                    $('.description.more').attr('data-disable-toolbar', null);\n                    if (el.textContent.trim() === '') {\n                        el.textContent = quotedPlaceHolderMsg;\n                        el.setAttribute('data-changed', 'false');\n                    }\n                }\n            })\n            .on('load', '.popup.insert_caption .figure img', function() {\n                $.dialog('insert_caption').center();\n            })\n            .on('click', '.medium-insert-images .grid .btn-caption', function(e) {\n                var epochId = 'gridimage-' + String(+new Date);\n                var popup = $.dialog('insert_caption');\n                var $grid = $(this).closest('.grid');\n                $grid.attr('id', epochId);\n                var src = $grid.find('img').attr('data-src');\n                popup.$obj.find('.figure img').attr('src', src);\n                popup.$obj.data('workingImage', epochId);\n                var caption = $grid.find('figcaption').text();\n                popup.$obj.find('textarea').val(caption);\n                popup.$obj.data('original', caption);\n                if (caption) {\n                    popup.$obj.find('.btn-remove').show()\n                } else {\n                    popup.$obj.find('.btn-remove').hide()\n                }\n                popup.open();\n                return false;\n            })\n            .on('click', '.medium-insert-images .add_option_tools._grid a', function() {\n                var action = $(this).data('action');\n                var $wrapper = $(this).closest('.medium-insert-images');\n                if (action === 'add') {\n                    window.GalleryControl.uploadImages(function(nextImages) {\n                        if (nextImages === false) {\n                            alert('Failed to upload images, please try again'); return;\n                        }\n                        // TODO\n                        nextImages.forEach(function (img) {\n                            var $img = $(that.templates['src/js/templates/images-grid-each.hbs']({\n                                img: img.image_url,\n                                progress: false,\n                                caption: '',\n                            }));\n                            $wrapper.find('figure').append($img);\n                        });\n                    })\n                } else if (action === 'organize') {\n                    var serialziedImages = $wrapper.find('.grid')\n                        .map(function(i, e) {\n                            return { id: i, url: $(e).find('img').data('src'), caption: $(e).find('figcaption').text() }\n                        }).toArray();\n                    organizeImageService.open(serialziedImages, function(organizedImages) {\n                        $wrapper.find('div.grid').remove()\n                        organizedImages.forEach(function(img) {\n                            var $img = $(that.templates['src/js/templates/images-grid-each.hbs']({\n                                img: img.url,\n                                progress: false,\n                                caption: img.caption,\n                            }));\n                            $wrapper.find('figure').append($img);\n                        });\n                    });\n                } else if (action === 'delete') {\n                    $wrapper.remove();\n                }\n            })\n            .on('click', '.popup.insert_caption .btn-save', function() {\n                var popup = $.dialog('insert_caption');\n                var epochId = popup.$obj.data('workingImage');\n                var original = popup.$obj.data('original');\n                var next = popup.$obj.find('textarea').val();\n                var $wrapper = $('#' + epochId);\n                var $cap = $wrapper.find('figcaption');\n                if (next !== original) {\n                    if ($cap.length === 0) {\n                        $cap = $('<figcaption contenteditable=\"true\" class=\"text-placeholder\" data-placeholder=\"Type caption for image (optional)\" />');\n                        $wrapper.append($cap);\n                    }\n                    $cap.text(next);\n                }\n                if ($cap.text() !== '') {\n                    $wrapper.find('.btn-caption').text('Edit Caption');\n                } else {\n                    $wrapper.find('.btn-caption').text('Add Caption');\n                }\n                popup.close();\n                return false;\n            })\n            .on('click', '.popup.insert_caption .btn-remove', function() {\n                var popup = $.dialog('insert_caption');\n                var epochId = popup.$obj.data('workingImage');\n                var $wrapper = $('#' + epochId);\n                $wrapper.find('figcaption').text('')\n                $wrapper.find('.btn-caption').text('Add Caption');\n                popup.close();\n                return false;\n            });\n\n        this.$el\n            .on('click', '.medium-insert-images img', $.proxy(this, 'selectImage'));\n\n        $(window)\n            .on('resize', $.proxy(this, 'autoRepositionToolbars'));\n    };\n\n    /**\n     * Replace v0.* class names with new ones\n     *\n     * @return {void}\n     */\n\n    Images.prototype.backwardsCompatibility = function () {\n        this.$el.find('.mediumInsert')\n            .removeClass('mediumInsert')\n            .addClass('medium-insert-images');\n\n        this.$el.find('.medium-insert-images.small')\n            .removeClass('small')\n            .addClass('medium-insert-images-left');\n    };\n\n    /**\n     * Extend editor's serialize function\n     *\n     * @return {object} Serialized data\n     */\n\n    Images.prototype.editorSerialize = function () {\n        var data = this._serializePreImages();\n\n        $.each(data, function (key) {\n            var $data = $('<div />').html(data[key].value);\n\n            $data.find('.medium-insert-images').find('figcaption, figure').removeAttr('contenteditable');\n            $data.find('.medium-insert-images-progress').remove();\n\n            data[key].value = $data.html();\n        });\n\n        return data;\n    };\n\n    /**\n     * Add image\n     *\n     * @return {void}\n     */\n\n    Images.prototype.add = function (meta) {\n        var that = this,\n            $file = $(this.templates['src/js/templates/images-fileupload.hbs']()),\n            fileUploadOptions = {\n                dataType: 'json',\n                add: function (e, data) {\n                    $.proxy(that, 'uploadAdd', e, data)();\n                },\n                done: function (e, data) {\n                    $.proxy(that, 'uploadDone', e, data)();\n                }\n            };\n        if (meta) {\n            this.meta = meta;\n        }\n\n        // Only add progress callbacks for browsers that support XHR2,\n        // and test for XHR2 per:\n        // http://stackoverflow.com/questions/6767887/\n        // what-is-the-best-way-to-check-for-xhr2-file-upload-support\n        if (new XMLHttpRequest().upload) {\n            fileUploadOptions.progress = function (e, data) {\n                $.proxy(that, 'uploadProgress', e, data)();\n            };\n\n            fileUploadOptions.progressall = function (e, data) {\n                $.proxy(that, 'uploadProgressall', e, data)();\n            };\n        }\n\n        $file.fileupload($.extend(true, {}, this.options.fileUploadOptions, fileUploadOptions));\n\n        $file.click();\n    };\n\n    /**\n     * Callback invoked as soon as files are added to the fileupload widget - via file input selection, drag & drop or add API call.\n     * https://github.com/blueimp/jQuery-File-Upload/wiki/Options#add\n     *\n     * @param {Event} e\n     * @param {object} data\n     * @return {void}\n     */\n\n    Images.prototype.uploadAdd = function (e, data) {\n        var $place = this.$el.find('.medium-insert-active'),\n            that = this,\n            uploadErrors = [],\n            file = data.files[0],\n            acceptFileTypes = this.options.fileUploadOptions.acceptFileTypes,\n            maxFileSize = this.options.fileUploadOptions.maxFileSize,\n            reader;\n\n        if (acceptFileTypes && !acceptFileTypes.test(file.type)) {\n            uploadErrors.push(this.options.messages.acceptFileTypesError + file.name);\n        } else if (maxFileSize && file.size > maxFileSize) {\n            uploadErrors.push(this.options.messages.maxFileSizeError + file.name);\n        }\n        if (uploadErrors.length > 0) {\n            if (this.options.uploadFailed && typeof this.options.uploadFailed === \"function\") {\n                this.options.uploadFailed(uploadErrors, data);\n\n                return;\n            }\n\n            alert(uploadErrors.join(\"\\n\"));\n\n            return;\n        }\n\n        this.core.hideButtons();\n\n        // Replace paragraph with div, because figure elements can't be inside paragraph\n        if ($place.is('p')) {\n            this.core.migrateExistingContent($place);\n            $place.replaceWith('<div class=\"medium-insert-active\">' + $place.html() + '</div>');\n            $place = this.$el.find('.medium-insert-active');\n            if ($place.next().is('p')) {\n                this.core.moveCaret($place.next());\n            } else {\n                $place.after('<p><br></p>'); // add empty paragraph so we can move the caret to the next line.\n                this.core.moveCaret($place.next());\n            }\n        }\n\n        $place.addClass('medium-insert-images');\n\n        if (this.options.preview === false && $place.find('progress').length === 0 && (new XMLHttpRequest().upload)) {\n            $place.append(this.templates['src/js/templates/images-progressbar.hbs']());\n        }\n\n        if (data.autoUpload || (data.autoUpload !== false && $(e.target).fileupload('option', 'autoUpload'))) {\n            data.process().done(function () {\n                // If preview is set to true, let the showImage handle the upload start\n                if (that.options.preview) {\n                    reader = new FileReader();\n\n                    reader.onload = function (e) {\n                        $.proxy(that, 'showImage', e.target.result, data)();\n                    };\n\n                    reader.readAsDataURL(data.files[0]);\n                } else {\n                    data.submit();\n                }\n            });\n        }\n    };\n\n    /**\n     * Callback for global upload progress events\n     * https://github.com/blueimp/jQuery-File-Upload/wiki/Options#progressall\n     *\n     * @param {Event} e\n     * @param {object} data\n     * @return {void}\n     */\n\n    Images.prototype.uploadProgressall = function (e, data) {\n        var progress, $progressbar;\n\n        if (this.options.preview === false) {\n            progress = parseInt(data.loaded / data.total * 100, 10);\n            $progressbar = this.$el.find('.medium-insert-active').find('progress');\n\n            $progressbar\n                .attr('value', progress)\n                .text(progress);\n\n            if (progress === 100) {\n                $progressbar.remove();\n            }\n        }\n    };\n\n    /**\n     * Callback for upload progress events.\n     * https://github.com/blueimp/jQuery-File-Upload/wiki/Options#progress\n     *\n     * @param {Event} e\n     * @param {object} data\n     * @return {void}\n     */\n\n    Images.prototype.uploadProgress = function (e, data) {\n        var progress, $progressbar;\n\n        if (this.options.preview) {\n            progress = 100 - parseInt(data.loaded / data.total * 100, 10);\n            $progressbar = data.context.find('.medium-insert-images-progress');\n\n            $progressbar.css('width', progress + '%');\n\n            if (progress === 0) {\n                $progressbar.remove();\n            }\n        }\n    };\n\n    /**\n     * Callback for successful upload requests.\n     * https://github.com/blueimp/jQuery-File-Upload/wiki/Options#done\n     *\n     * @param {Event} e\n     * @param {object} data\n     * @return {void}\n     */\n\n    Images.prototype.uploadDone = function (e, data) {\n        $.proxy(this, 'showImage', data.result.image_url, data, { uiid: data.result.id })(); // #ARTICLE_MOD\n\n        this.core.clean();\n        this.sorting();\n    };\n\n    /**\n     * Add uploaded / preview image to DOM\n     *\n     * @param {string} img\n     * @returns {void}\n     */\n\n    Images.prototype.showImage = function (img, data, additionals) { // #ARTICLE_MOD\n        window.__SECRET__ = window.__SECRET__ || {}; // #ARTICLE_MOD\n        window.__SECRET__.data = data; // #ARTICLE_MOD // TODO: fix data sharing somehow\n        var $place = this.$el.find('.medium-insert-active'),\n            domImage,\n            that;\n\n        // Hide editor's placeholder\n        $place.click();\n\n        // If preview is allowed and preview image already exists,\n        // replace it with uploaded image\n        that = this;\n        var isGrid = (this.options.autoGrid && $place.find('figure').length >= this.options.autoGrid) || this.meta && this.meta.type === 'grid';\n\n        if (this.options.preview && data.context) {\n            domImage = this.getDOMImage();\n            $(domImage).one('load', (function () {\n                var attr;\n                if (isGrid) {\n                    attr = 'data-src'\n                } else {\n                    attr = 'src'\n                }\n                data.context.find('img').attr(attr, img);\n\n                if (this.options.uploadCompleted) {\n                    this.options.uploadCompleted(data.context, data);\n                }\n\n                that.core.triggerInput();\n            }).bind(this));\n            if (isGrid) {\n                domImage.src = window.blankUrl;\n                $(domImage).css('background-image', 'url(' + img + ')');\n                if (img.indexOf('data:') === -1) {\n                    $(domImage).attr('data-src', img);\n                }\n                $(domImage).load();\n            } else {\n                domImage.src = img;\n            }\n        } else {\n            var expanded;\n            if (isGrid) {\n                expanded = $(this.templates['src/js/templates/images-grid-each.hbs']({\n                    img: img,\n                    progress: this.options.preview,\n                    caption: '',\n                }));\n                if ($place.find('figure').length === 0) {\n                    $place.append('<figure />')\n                }\n                data.context = expanded.appendTo($place.find('figure'));\n                $place.find('figure').attr('data-mode', ImageModes.Grid);\n            } else {\n                expanded = $(this.templates['src/js/templates/images-image.hbs']({\n                    img: img,\n                    progress: this.options.preview\n                }));\n                data.context = expanded.appendTo($place);\n                data.context.attr('data-mode', ImageModes.Normal);\n            }\n\n            var $img = data.context.find('img');\n            if (additionals && additionals.uiid) {\n                $img.attr('data-uiid', additionals.uiid); // #ARTICLE_MOD - Add ui.id for future use\n            }\n\n            $place.find('br').remove();\n\n            if (isGrid) {\n                $.each(this.options.styles, function (style, options) {\n                    var className = 'medium-insert-images-' + style;\n\n                    $place.removeClass(className);\n\n                    if (options.removed) {\n                        options.removed($place);\n                    }\n                });\n\n                if (!window.isWhitelabelV2) {\n                    $place.addClass('medium-insert-images-grid');\n                }\n\n                if (this.options.styles.grid.added) {\n                    this.options.styles.grid.added($place);\n                }\n                if ($place.find('.add_option_tools').length === 0) {\n                    var popup = this.templates['src/js/templates/images-grid-popup.hbs'];\n                    $place.find('figure').prepend(popup);\n                }\n            }\n\n            if (this.options.preview) {\n                data.submit();\n            } else if (this.options.uploadCompleted) {\n                this.options.uploadCompleted(data.context, data);\n            }\n        }\n\n        this.core.triggerInput();\n\n        return data.context;\n    };\n\n    Images.prototype.getDOMImage = function () {\n        return new window.Image();\n    };\n\n    /**\n     * Select clicked image\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.selectImage = function (e) {\n        var that = this,\n            $image;\n        \n        if (this.core.options.enabled) {\n            $image = $(e.target);\n            var isGrid = $image.closest('.grid').length > 0;\n            this.$currentImage = $image;\n\n            // Hide keyboard on mobile devices\n            this.$el.blur();\n\n            $image.addClass('medium-insert-image-active');\n            $image.closest('.medium-insert-images').addClass('medium-insert-active');\n\n            if (!isGrid) {\n                $(`<a href=\"#\" class=\"remove\">Remove</a>`).insertAfter($image)\n            }   \n\n            setTimeout(function () {\n                if (isGrid) {\n                    if (that.options.captions) {\n                        var $gridEach = $image.closest('div.grid');\n                        // if ($gridEach.find('figcaption').length === 0) {\n                        //     $gridEach.append('<figcaption contenteditable=\"true\" class=\"medium-insert-caption-placeholder text-placeholder\" data-placeholder=\"Type caption for image (optional)\" />')\n                        // }\n                    }\n                } else {\n                    that.addToolbar();\n\n                    if (that.options.captions && getImageMode(that.$currentImage) !== ImageModes.Quoted) {\n                        that.core.addCaption($image.closest('figure'), that.options.captionPlaceholder);\n                    }\n                }\n            }, 50);\n        }\n    };\n\n    /**\n     * Unselect selected image\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.unselectImage = function (e) {\n        if (this.$currentImage == null) {\n            return;\n        }\n        var $el;\n        if (e) {\n            $el = $(e.target);\n        } else {\n            $el = this.$currentImage.parent();\n        }\n\n        var $image = this.$el.find('.medium-insert-image-active');\n\n        if ($el.is(this.$currentImage)) {\n            return;\n        }\n\n        if ($el.is('img') && $el.hasClass('medium-insert-image-active')) {\n            $image.not($el).removeClass('medium-insert-image-active');\n            $('.medium-insert-images-toolbar, .medium-insert-images-toolbar2').remove();\n            this.core.removeCaptions($el);\n            return;\n        }\n\n        $image.removeClass('medium-insert-image-active');\n        $image.parent().find('.remove').remove();\n        $('.medium-insert-images-toolbar, .medium-insert-images-toolbar2').remove();\n\n        if ($el.is('.medium-insert-caption-placeholder')) {\n            this.core.removeCaptionPlaceholder($image.closest('figure'));\n        } else if ($el.is('figcaption') === false) {\n            if (this.$el.closest('figure').find('figcaption').text().trim()) {\n                this.core.removeCaptions();\n            }\n        }\n        this.$currentImage = null;\n    };\n\n    /**\n     * Remove image\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.removeImage = function (e) {\n        var images = [],\n            $selectedImage = this.$el.find('.medium-insert-image-active'),\n            $parent, $empty, selection, range, current, caretPosition, $current, $sibling, selectedHtml, i;\n\n        if (e.which === 8 || e.which === 46) {\n            if ($selectedImage.length) {\n                images.push($selectedImage);\n            }\n\n            // Remove image even if it's not selected, but backspace/del is pressed in text\n            selection = window.getSelection();\n            if (selection && selection.rangeCount) {\n                range = selection.getRangeAt(0);\n                current = range.commonAncestorContainer;\n                $current = current.nodeName === '#text' ? $(current).parent() : $(current);\n                caretPosition = MediumEditor.selection.getCaretOffsets(current).left;\n\n                // Is backspace pressed and caret is at the beginning of a paragraph, get previous element\n                if (e.which === 8 && caretPosition === 0) {\n                    $sibling = $current.prev();\n                // Is del pressed and caret is at the end of a paragraph, get next element\n                } else if (e.which === 46 && caretPosition === $current.text().length) {\n                    $sibling = $current.next();\n                }\n\n                if ($sibling && $sibling.hasClass('medium-insert-images')) {\n                    images.push($sibling.find('img'));\n                }\n\n                // If text is selected, find images in the selection\n                selectedHtml = MediumEditor.selection.getSelectionHtml(document);\n                if (selectedHtml) {\n                    $('<div></div>').html(selectedHtml).find('.medium-insert-images img').each(function () {\n                        images.push($(this));\n                    });\n                }\n            }\n\n            if (images.length) {\n                for (i = 0; i < images.length; i++) {\n                    //this.deleteFile(images[i].attr('src')); // #ARTICLE_MOD\n\n                    $parent = images[i].closest('.medium-insert-images');\n                    images[i].closest('figure').remove();\n\n                    if ($parent.find('figure').length === 0) {\n                        $empty = $parent.next();\n                        if ($empty.is('p') === false || $empty.text() !== '') {\n                            $empty = $(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n                            $parent.before($empty);\n                        }\n                        $parent.remove();\n                    }\n                }\n\n                // Hide addons\n                this.core.hideAddons();\n                if (!selectedHtml && $empty) {\n                    e.preventDefault();\n                    this.core.moveCaret($empty);\n                }\n\n                $('.medium-insert-images-toolbar, .medium-insert-images-toolbar2').remove();\n                this.core.triggerInput();\n            }\n        }\n    };\n\n    /**\n     * Makes ajax call to deleteScript\n     *\n     * @param {String} file File name\n     * @returns {void}\n     */\n\n    Images.prototype.deleteFile = function (file) {\n        if (this.options.deleteScript) {\n            $.ajax($.extend(true, {}, {\n                url: this.options.deleteScript,\n                type: this.options.deleteMethod || 'POST',\n                data: { file: file }\n            }, this.options.fileDeleteOptions));\n        }\n    };\n\n    /**\n     * Adds image toolbar to editor\n     *\n     * @returns {void}\n     */\n\n    Images.prototype.addToolbar = function () {\n        var $image = this.$el.find('.medium-insert-image-active'),\n            $p = $image.closest('.medium-insert-images'),\n            active = false,\n            mediumEditor = this.core.getEditor(),\n            toolbarContainer = mediumEditor.options.elementsContainer || 'body',\n            $toolbar,\n            $toolbar2;\n\n        var $fig = $image.closest('figure');\n\n        var templateName = window.isWhitelabelV2 ? 'src/js/templates/images-toolbar-gear.hbs' :  'src/js/templates/images-toolbar.hbs';\n        var $tpl = this.templates[templateName]({\n            styles: this.options.styles,\n            actions: this.options.actions,\n        }).trim();\n\n        $(toolbarContainer).append(\n            $($tpl)\n                .find('.' + ImageModesEditClasses[getImageMode($fig)]).addClass('selected')\n                .end()\n        );\n\n        $toolbar = $('.medium-insert-images-toolbar');\n        $toolbar2 = $('.medium-insert-images-toolbar2');\n\n        $toolbar.find('button').each(function () {\n            if ($p.hasClass('medium-insert-images-' + $(this).data('action'))) {\n                $(this).addClass('medium-editor-button-active');\n                active = true;\n            }\n        });\n\n        if (active === false) {\n            $toolbar.find('button').first().addClass('medium-editor-button-active');\n        }\n\n        this.repositionToolbars();\n        this.core.getEditor().getExtensionByName('toolbar').hideToolbar();\n\n        $toolbar.fadeIn();\n        $toolbar2.fadeIn();\n    };\n\n    Images.prototype.autoRepositionToolbars = function () {\n        setTimeout(function () {\n            this.repositionToolbars();\n        }.bind(this), 0);\n    };\n\n    Images.prototype.repositionToolbars = function () {\n        var $toolbar = $('.medium-insert-images-toolbar'),\n            $toolbar2 = $('.medium-insert-images-toolbar2'),\n            $image = this.$el.find('.medium-insert-image-active'),\n            elementsContainer = this.core.getEditor().options.elementsContainer,\n            elementsContainerAbsolute = ['absolute', 'fixed'].indexOf(window.getComputedStyle(elementsContainer).getPropertyValue('position')) > -1,\n            elementsContainerBoundary = elementsContainerAbsolute ? elementsContainer.getBoundingClientRect() : null,\n            containerWidth = $(window).width(),\n            position = {};\n\n        if ($toolbar2.length) {\n            position.top = $image.offset().top + 2;\n            position.left = $image.offset().left + $image.width() - $toolbar2.width() - 4; // 4px - distance from a border\n\n            if (elementsContainerAbsolute) {\n                position.top += elementsContainer.scrollTop - elementsContainerBoundary.top;\n                position.left -= elementsContainerBoundary.left;\n                containerWidth = $(elementsContainer).width();\n            }\n\n            if (position.left + $toolbar2.width() > containerWidth) {\n                position.left = containerWidth - $toolbar2.width();\n            }\n\n            $toolbar2.css(position);\n        }\n\n        if ($toolbar.length) {\n            if ($image.closest('.medium-insert-images-grid-active').length) {\n                $image = $image.closest('.medium-insert-images-grid-active');\n            }\n\n            position.top = $image.offset().top - $toolbar.height() - 8 - 2 - 5; // 8px - hight of an arrow under toolbar, 2px - height of an image outset, 5px - distance from an image\n            position.left = $image.offset().left + $image.width() / 2 - $toolbar.width() / 2;\n\n            if (elementsContainerAbsolute) {\n                position.top += elementsContainer.scrollTop - elementsContainerBoundary.top;\n                position.left -= elementsContainerBoundary.left;\n            }\n\n            if (position.top < 0) {\n                position.top = 0;\n            }\n\n            $toolbar.css(position);\n        }\n    };\n\n    /**\n     * Fires toolbar action\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.toolbarAction = function (e) {\n        var that = this,\n            $button, $li, $ul, $lis, $p;\n\n        if (this.$currentImage === null) {\n            return;\n        }\n\n        $button = $(e.target).is('button') ? $(e.target) : $(e.target).closest('button');\n        $li = $button.closest('li');\n        $ul = $li.closest('ul');\n        $lis = $ul.find('li');\n        $p = this.$el.find('.medium-insert-active');\n\n        $button.addClass('medium-editor-button-active');\n        $li.siblings().find('.medium-editor-button-active').removeClass('medium-editor-button-active');\n\n        $lis.find('button').each(function () {\n            var className = 'medium-insert-images-' + $(this).data('action');\n\n            if ($(this).hasClass('medium-editor-button-active')) {\n                $p.addClass(className);\n\n                if (that.options.styles[$(this).data('action')].added) {\n                    that.options.styles[$(this).data('action')].added($p);\n                }\n            } else {\n                $p.removeClass(className);\n\n                if (that.options.styles[$(this).data('action')].removed) {\n                    that.options.styles[$(this).data('action')].removed($p);\n                }\n            }\n        });\n\n        this.core.hideButtons();\n\n        this.core.triggerInput();\n    };\n\n    /**\n     * Fires toolbar2 action\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.toolbar2Action = function (e) {\n        var $button, callback;\n\n        if (this.$currentImage === null) {\n            return;\n        }\n\n        $button = $(e.target).is('button') ? $(e.target) : $(e.target).closest('button');\n        callback = this.options.actions[$button.data('action')].clicked;\n\n        if (callback) {\n            callback(this.$el.find('.medium-insert-image-active'));\n        }\n\n        this.core.hideButtons();\n\n        this.core.triggerInput();\n    };\n\n    /**\n     * Initialize sorting\n     *\n     * @returns {void}\n     */\n\n    Images.prototype.sorting = function () {\n        $.proxy(this.options.sorting, this)();\n    };\n\n    /** Plugin initialization */\n\n    $.fn[pluginName + addonName] = function (options) {\n        return this.each(function () {\n            if (!$.data(this, 'plugin_' + pluginName + addonName)) {\n                $.data(this, 'plugin_' + pluginName + addonName, new Images(this, options));\n            }\n        });\n    };\n\n})(jQuery, window, document, MediumEditor.util);\n\n}));\n","/*! jQuery UI - v1.11.4+CommonJS - 2015-08-28\n* http://jqueryui.com\n* Includes: widget.js\n* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */\n\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([ \"jquery\" ], factory );\n\n\t} else if ( typeof exports === \"object\" ) {\n\n\t\t// Node/CommonJS\n\t\tfactory( require( \"jquery\" ) );\n\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n/*!\n * jQuery UI Widget 1.11.4\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/jQuery.widget/\n */\n\n\nvar widget_uuid = 0,\n\twidget_slice = Array.prototype.slice;\n\n$.cleanData = (function( orig ) {\n\treturn function( elems ) {\n\t\tvar events, elem, i;\n\t\tfor ( i = 0; (elem = elems[i]) != null; i++ ) {\n\t\t\ttry {\n\n\t\t\t\t// Only trigger remove when necessary to save time\n\t\t\t\tevents = $._data( elem, \"events\" );\n\t\t\t\tif ( events && events.remove ) {\n\t\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\t}\n\n\t\t\t// http://bugs.jquery.com/ticket/8235\n\t\t\t} catch ( e ) {}\n\t\t}\n\t\torig( elems );\n\t};\n})( $.cleanData );\n\n$.widget = function( name, base, prototype ) {\n\tvar fullName, existingConstructor, constructor, basePrototype,\n\t\t// proxiedPrototype allows the provided prototype to remain unmodified\n\t\t// so that it can be used as a mixin for multiple widgets (#8876)\n\t\tproxiedPrototype = {},\n\t\tnamespace = name.split( \".\" )[ 0 ];\n\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\t// extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\t\t// copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\t\t// track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t});\n\n\tbasePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = (function() {\n\t\t\tvar _super = function() {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t\t},\n\t\t\t\t_superApply = function( args ) {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t\t};\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super,\n\t\t\t\t\t__superApply = this._superApply,\n\t\t\t\t\treturnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t})();\n\t});\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t});\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor, child._proto );\n\t\t});\n\t\t// remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = widget_slice.call( arguments, 1 ),\n\t\tinputIndex = 0,\n\t\tinputLength = input.length,\n\t\tkey,\n\t\tvalue;\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = widget_slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar methodValue,\n\t\t\t\t\tinstance = $.data( this, fullName );\n\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\treturnValue = instance;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif ( !instance ) {\n\t\t\t\t\treturn $.error( \"cannot call methods on \" + name + \" prior to initialization; \" +\n\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t}\n\t\t\t\tif ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name + \" widget instance\" );\n\t\t\t\t}\n\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\tmethodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\n\t\t\t// Allow multiple hashes to be passed on init\n\t\t\tif ( args.length ) {\n\t\t\t\toptions = $.widget.extend.apply( null, [ options ].concat(args) );\n\t\t\t}\n\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} );\n\t\t\t\t\tif ( instance._init ) {\n\t\t\t\t\t\tinstance._init();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\toptions: {\n\t\tdisabled: false,\n\n\t\t// callbacks\n\t\tcreate: null\n\t},\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = widget_uuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.document = $( element.style ?\n\t\t\t\t// element within the document\n\t\t\t\telement.ownerDocument :\n\t\t\t\t// element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[0].defaultView || this.document[0].parentWindow );\n\t\t}\n\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: $.noop,\n\t_getCreateEventData: $.noop,\n\t_create: $.noop,\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tthis._destroy();\n\t\t// we can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName )\n\t\t\t// support: jquery <1.6.3\n\t\t\t// http://bugs.jquery.com/ticket/9413\n\t\t\t.removeData( $.camelCase( this.widgetFullName ) );\n\t\tthis.widget()\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetFullName + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\n\t\t// clean up events and states\n\t\tthis.bindings.unbind( this.eventNamespace );\n\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t},\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key,\n\t\t\tparts,\n\t\t\tcurOption,\n\t\t\ti;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\t\t\t// handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t.toggleClass( this.widgetFullName + \"-disabled\", !!value );\n\n\t\t\t// If the widget is becoming disabled, then nothing is interactive\n\t\t\tif ( value ) {\n\t\t\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\t\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions({ disabled: false });\n\t},\n\tdisable: function() {\n\t\treturn this._setOptions({ disabled: true });\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement,\n\t\t\tinstance = this;\n\n\t\t// no suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// no element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\t\t\t\t// allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ ),\n\t\t\t\teventName = match[1] + instance.eventNamespace,\n\t\t\t\tselector = match[2];\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.delegate( selector, eventName, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.bind( eventName, handlerProxy );\n\t\t\t}\n\t\t});\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = (eventName || \"\").split( \" \" ).join( this.eventNamespace + \" \" ) +\n\t\t\tthis.eventNamespace;\n\t\telement.unbind( eventName ).undelegate( eventName );\n\n\t\t// Clear the stack to avoid memory leaks (#10056)\n\t\tthis.bindings = $( this.bindings.not( element ).get() );\n\t\tthis.focusable = $( this.focusable.not( element ).get() );\n\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-hover\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[0], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\t\tvar hasOptions,\n\t\t\teffectName = !options ?\n\t\t\t\tmethod :\n\t\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\t\tdefaultEffect :\n\t\t\t\t\toptions.effect || defaultEffect;\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue(function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t});\n\t\t}\n\t};\n});\n\nvar widget = $.widget;\n\n\n\n}));\n","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","var startOfDay = require('../start_of_day/index.js')\n\nvar MILLISECONDS_IN_MINUTE = 60000\nvar MILLISECONDS_IN_DAY = 86400000\n\n/**\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n */\nfunction differenceInCalendarDays (dirtyDateLeft, dirtyDateRight) {\n  var startOfDayLeft = startOfDay(dirtyDateLeft)\n  var startOfDayRight = startOfDay(dirtyDateRight)\n\n  var timestampLeft = startOfDayLeft.getTime() -\n    startOfDayLeft.getTimezoneOffset() * MILLISECONDS_IN_MINUTE\n  var timestampRight = startOfDayRight.getTime() -\n    startOfDayRight.getTimezoneOffset() * MILLISECONDS_IN_MINUTE\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY)\n}\n\nmodule.exports = differenceInCalendarDays\n","var getDayOfYear = require('../get_day_of_year/index.js')\nvar getISOWeek = require('../get_iso_week/index.js')\nvar getISOYear = require('../get_iso_year/index.js')\nvar parse = require('../parse/index.js')\nvar isValid = require('../is_valid/index.js')\nvar enLocale = require('../locale/en/index.js')\n\n/**\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format.\n *\n * Accepted tokens:\n * | Unit                    | Token | Result examples                  |\n * |-------------------------|-------|----------------------------------|\n * | Month                   | M     | 1, 2, ..., 12                    |\n * |                         | Mo    | 1st, 2nd, ..., 12th              |\n * |                         | MM    | 01, 02, ..., 12                  |\n * |                         | MMM   | Jan, Feb, ..., Dec               |\n * |                         | MMMM  | January, February, ..., December |\n * | Quarter                 | Q     | 1, 2, 3, 4                       |\n * |                         | Qo    | 1st, 2nd, 3rd, 4th               |\n * | Day of month            | D     | 1, 2, ..., 31                    |\n * |                         | Do    | 1st, 2nd, ..., 31st              |\n * |                         | DD    | 01, 02, ..., 31                  |\n * | Day of year             | DDD   | 1, 2, ..., 366                   |\n * |                         | DDDo  | 1st, 2nd, ..., 366th             |\n * |                         | DDDD  | 001, 002, ..., 366               |\n * | Day of week             | d     | 0, 1, ..., 6                     |\n * |                         | do    | 0th, 1st, ..., 6th               |\n * |                         | dd    | Su, Mo, ..., Sa                  |\n * |                         | ddd   | Sun, Mon, ..., Sat               |\n * |                         | dddd  | Sunday, Monday, ..., Saturday    |\n * | Day of ISO week         | E     | 1, 2, ..., 7                     |\n * | ISO week                | W     | 1, 2, ..., 53                    |\n * |                         | Wo    | 1st, 2nd, ..., 53rd              |\n * |                         | WW    | 01, 02, ..., 53                  |\n * | Year                    | YY    | 00, 01, ..., 99                  |\n * |                         | YYYY  | 1900, 1901, ..., 2099            |\n * | ISO week-numbering year | GG    | 00, 01, ..., 99                  |\n * |                         | GGGG  | 1900, 1901, ..., 2099            |\n * | AM/PM                   | A     | AM, PM                           |\n * |                         | a     | am, pm                           |\n * |                         | aa    | a.m., p.m.                       |\n * | Hour                    | H     | 0, 1, ... 23                     |\n * |                         | HH    | 00, 01, ... 23                   |\n * |                         | h     | 1, 2, ..., 12                    |\n * |                         | hh    | 01, 02, ..., 12                  |\n * | Minute                  | m     | 0, 1, ..., 59                    |\n * |                         | mm    | 00, 01, ..., 59                  |\n * | Second                  | s     | 0, 1, ..., 59                    |\n * |                         | ss    | 00, 01, ..., 59                  |\n * | 1/10 of second          | S     | 0, 1, ..., 9                     |\n * | 1/100 of second         | SS    | 00, 01, ..., 99                  |\n * | Millisecond             | SSS   | 000, 001, ..., 999               |\n * | Timezone                | Z     | -01:00, +00:00, ... +12:00       |\n * |                         | ZZ    | -0100, +0000, ..., +1200         |\n * | Seconds timestamp       | X     | 512969520                        |\n * | Milliseconds timestamp  | x     | 512969520900                     |\n *\n * The characters wrapped in square brackets are escaped.\n *\n * The result may vary by locale.\n *\n * @param {Date|String|Number} date - the original date\n * @param {String} [format='YYYY-MM-DDTHH:mm:ss.SSSZ'] - the string of tokens\n * @param {Object} [options] - the object with options\n * @param {Object} [options.locale=enLocale] - the locale object\n * @returns {String} the formatted date string\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(\n *   new Date(2014, 1, 11),\n *   'MM/DD/YYYY'\n * )\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * var eoLocale = require('date-fns/locale/eo')\n * var result = format(\n *   new Date(2014, 6, 2),\n *   'Do [de] MMMM YYYY',\n *   {locale: eoLocale}\n * )\n * //=> '2-a de julio 2014'\n */\nfunction format (dirtyDate, dirtyFormatStr, dirtyOptions) {\n  var formatStr = dirtyFormatStr ? String(dirtyFormatStr) : 'YYYY-MM-DDTHH:mm:ss.SSSZ'\n  var options = dirtyOptions || {}\n\n  var locale = options.locale\n  var localeFormatters = enLocale.format.formatters\n  var formattingTokensRegExp = enLocale.format.formattingTokensRegExp\n  if (locale && locale.format && locale.format.formatters) {\n    localeFormatters = locale.format.formatters\n\n    if (locale.format.formattingTokensRegExp) {\n      formattingTokensRegExp = locale.format.formattingTokensRegExp\n    }\n  }\n\n  var date = parse(dirtyDate)\n\n  if (!isValid(date)) {\n    return 'Invalid Date'\n  }\n\n  var formatFn = buildFormatFn(formatStr, localeFormatters, formattingTokensRegExp)\n\n  return formatFn(date)\n}\n\nvar formatters = {\n  // Month: 1, 2, ..., 12\n  'M': function (date) {\n    return date.getMonth() + 1\n  },\n\n  // Month: 01, 02, ..., 12\n  'MM': function (date) {\n    return addLeadingZeros(date.getMonth() + 1, 2)\n  },\n\n  // Quarter: 1, 2, 3, 4\n  'Q': function (date) {\n    return Math.ceil((date.getMonth() + 1) / 3)\n  },\n\n  // Day of month: 1, 2, ..., 31\n  'D': function (date) {\n    return date.getDate()\n  },\n\n  // Day of month: 01, 02, ..., 31\n  'DD': function (date) {\n    return addLeadingZeros(date.getDate(), 2)\n  },\n\n  // Day of year: 1, 2, ..., 366\n  'DDD': function (date) {\n    return getDayOfYear(date)\n  },\n\n  // Day of year: 001, 002, ..., 366\n  'DDDD': function (date) {\n    return addLeadingZeros(getDayOfYear(date), 3)\n  },\n\n  // Day of week: 0, 1, ..., 6\n  'd': function (date) {\n    return date.getDay()\n  },\n\n  // Day of ISO week: 1, 2, ..., 7\n  'E': function (date) {\n    return date.getDay() || 7\n  },\n\n  // ISO week: 1, 2, ..., 53\n  'W': function (date) {\n    return getISOWeek(date)\n  },\n\n  // ISO week: 01, 02, ..., 53\n  'WW': function (date) {\n    return addLeadingZeros(getISOWeek(date), 2)\n  },\n\n  // Year: 00, 01, ..., 99\n  'YY': function (date) {\n    return addLeadingZeros(date.getFullYear(), 4).substr(2)\n  },\n\n  // Year: 1900, 1901, ..., 2099\n  'YYYY': function (date) {\n    return addLeadingZeros(date.getFullYear(), 4)\n  },\n\n  // ISO week-numbering year: 00, 01, ..., 99\n  'GG': function (date) {\n    return String(getISOYear(date)).substr(2)\n  },\n\n  // ISO week-numbering year: 1900, 1901, ..., 2099\n  'GGGG': function (date) {\n    return getISOYear(date)\n  },\n\n  // Hour: 0, 1, ... 23\n  'H': function (date) {\n    return date.getHours()\n  },\n\n  // Hour: 00, 01, ..., 23\n  'HH': function (date) {\n    return addLeadingZeros(date.getHours(), 2)\n  },\n\n  // Hour: 1, 2, ..., 12\n  'h': function (date) {\n    var hours = date.getHours()\n    if (hours === 0) {\n      return 12\n    } else if (hours > 12) {\n      return hours % 12\n    } else {\n      return hours\n    }\n  },\n\n  // Hour: 01, 02, ..., 12\n  'hh': function (date) {\n    return addLeadingZeros(formatters['h'](date), 2)\n  },\n\n  // Minute: 0, 1, ..., 59\n  'm': function (date) {\n    return date.getMinutes()\n  },\n\n  // Minute: 00, 01, ..., 59\n  'mm': function (date) {\n    return addLeadingZeros(date.getMinutes(), 2)\n  },\n\n  // Second: 0, 1, ..., 59\n  's': function (date) {\n    return date.getSeconds()\n  },\n\n  // Second: 00, 01, ..., 59\n  'ss': function (date) {\n    return addLeadingZeros(date.getSeconds(), 2)\n  },\n\n  // 1/10 of second: 0, 1, ..., 9\n  'S': function (date) {\n    return Math.floor(date.getMilliseconds() / 100)\n  },\n\n  // 1/100 of second: 00, 01, ..., 99\n  'SS': function (date) {\n    return addLeadingZeros(Math.floor(date.getMilliseconds() / 10), 2)\n  },\n\n  // Millisecond: 000, 001, ..., 999\n  'SSS': function (date) {\n    return addLeadingZeros(date.getMilliseconds(), 3)\n  },\n\n  // Timezone: -01:00, +00:00, ... +12:00\n  'Z': function (date) {\n    return formatTimezone(date.getTimezoneOffset(), ':')\n  },\n\n  // Timezone: -0100, +0000, ... +1200\n  'ZZ': function (date) {\n    return formatTimezone(date.getTimezoneOffset())\n  },\n\n  // Seconds timestamp: 512969520\n  'X': function (date) {\n    return Math.floor(date.getTime() / 1000)\n  },\n\n  // Milliseconds timestamp: 512969520900\n  'x': function (date) {\n    return date.getTime()\n  }\n}\n\nfunction buildFormatFn (formatStr, localeFormatters, formattingTokensRegExp) {\n  var array = formatStr.match(formattingTokensRegExp)\n  var length = array.length\n\n  var i\n  var formatter\n  for (i = 0; i < length; i++) {\n    formatter = localeFormatters[array[i]] || formatters[array[i]]\n    if (formatter) {\n      array[i] = formatter\n    } else {\n      array[i] = removeFormattingTokens(array[i])\n    }\n  }\n\n  return function (date) {\n    var output = ''\n    for (var i = 0; i < length; i++) {\n      if (array[i] instanceof Function) {\n        output += array[i](date, formatters)\n      } else {\n        output += array[i]\n      }\n    }\n    return output\n  }\n}\n\nfunction removeFormattingTokens (input) {\n  if (input.match(/\\[[\\s\\S]/)) {\n    return input.replace(/^\\[|]$/g, '')\n  }\n  return input.replace(/\\\\/g, '')\n}\n\nfunction formatTimezone (offset, delimeter) {\n  delimeter = delimeter || ''\n  var sign = offset > 0 ? '-' : '+'\n  var absOffset = Math.abs(offset)\n  var hours = Math.floor(absOffset / 60)\n  var minutes = absOffset % 60\n  return sign + addLeadingZeros(hours, 2) + delimeter + addLeadingZeros(minutes, 2)\n}\n\nfunction addLeadingZeros (number, targetLength) {\n  var output = Math.abs(number).toString()\n  while (output.length < targetLength) {\n    output = '0' + output\n  }\n  return output\n}\n\nmodule.exports = format\n","var parse = require('../parse/index.js')\nvar startOfYear = require('../start_of_year/index.js')\nvar differenceInCalendarDays = require('../difference_in_calendar_days/index.js')\n\n/**\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * var result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nfunction getDayOfYear (dirtyDate) {\n  var date = parse(dirtyDate)\n  var diff = differenceInCalendarDays(date, startOfYear(date))\n  var dayOfYear = diff + 1\n  return dayOfYear\n}\n\nmodule.exports = getDayOfYear\n","var parse = require('../parse/index.js')\nvar startOfISOWeek = require('../start_of_iso_week/index.js')\nvar startOfISOYear = require('../start_of_iso_year/index.js')\n\nvar MILLISECONDS_IN_WEEK = 604800000\n\n/**\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * var result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nfunction getISOWeek (dirtyDate) {\n  var date = parse(dirtyDate)\n  var diff = startOfISOWeek(date).getTime() - startOfISOYear(date).getTime()\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1\n}\n\nmodule.exports = getISOWeek\n","var parse = require('../parse/index.js')\nvar startOfISOWeek = require('../start_of_iso_week/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * var result = getISOYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nfunction getISOYear (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n\n  var fourthOfJanuaryOfNextYear = new Date(0)\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4)\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0)\n  var startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear)\n\n  var fourthOfJanuaryOfThisYear = new Date(0)\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4)\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0)\n  var startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear)\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year\n  } else {\n    return year - 1\n  }\n}\n\nmodule.exports = getISOYear\n","/**\n * @category Common Helpers\n * @summary Is the given argument an instance of Date?\n *\n * @description\n * Is the given argument an instance of Date?\n *\n * @param {*} argument - the argument to check\n * @returns {Boolean} the given argument is an instance of Date\n *\n * @example\n * // Is 'mayonnaise' a Date?\n * var result = isDate('mayonnaise')\n * //=> false\n */\nfunction isDate (argument) {\n  return argument instanceof Date\n}\n\nmodule.exports = isDate\n","var isDate = require('../is_date/index.js')\n\n/**\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param {Date} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} argument must be an instance of Date\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\nfunction isValid (dirtyDate) {\n  if (isDate(dirtyDate)) {\n    return !isNaN(dirtyDate)\n  } else {\n    throw new TypeError(toString.call(dirtyDate) + ' is not an instance of Date')\n  }\n}\n\nmodule.exports = isValid\n","var commonFormatterKeys = [\n  'M', 'MM', 'Q', 'D', 'DD', 'DDD', 'DDDD', 'd',\n  'E', 'W', 'WW', 'YY', 'YYYY', 'GG', 'GGGG',\n  'H', 'HH', 'h', 'hh', 'm', 'mm',\n  's', 'ss', 'S', 'SS', 'SSS',\n  'Z', 'ZZ', 'X', 'x'\n]\n\nfunction buildFormattingTokensRegExp (formatters) {\n  var formatterKeys = []\n  for (var key in formatters) {\n    if (formatters.hasOwnProperty(key)) {\n      formatterKeys.push(key)\n    }\n  }\n\n  var formattingTokens = commonFormatterKeys\n    .concat(formatterKeys)\n    .sort()\n    .reverse()\n  var formattingTokensRegExp = new RegExp(\n    '(\\\\[[^\\\\[]*\\\\])|(\\\\\\\\)?' + '(' + formattingTokens.join('|') + '|.)', 'g'\n  )\n\n  return formattingTokensRegExp\n}\n\nmodule.exports = buildFormattingTokensRegExp\n","function buildDistanceInWordsLocale () {\n  var distanceInWordsLocale = {\n    lessThanXSeconds: {\n      one: 'less than a second',\n      other: 'less than {{count}} seconds'\n    },\n\n    xSeconds: {\n      one: '1 second',\n      other: '{{count}} seconds'\n    },\n\n    halfAMinute: 'half a minute',\n\n    lessThanXMinutes: {\n      one: 'less than a minute',\n      other: 'less than {{count}} minutes'\n    },\n\n    xMinutes: {\n      one: '1 minute',\n      other: '{{count}} minutes'\n    },\n\n    aboutXHours: {\n      one: 'about 1 hour',\n      other: 'about {{count}} hours'\n    },\n\n    xHours: {\n      one: '1 hour',\n      other: '{{count}} hours'\n    },\n\n    xDays: {\n      one: '1 day',\n      other: '{{count}} days'\n    },\n\n    aboutXMonths: {\n      one: 'about 1 month',\n      other: 'about {{count}} months'\n    },\n\n    xMonths: {\n      one: '1 month',\n      other: '{{count}} months'\n    },\n\n    aboutXYears: {\n      one: 'about 1 year',\n      other: 'about {{count}} years'\n    },\n\n    xYears: {\n      one: '1 year',\n      other: '{{count}} years'\n    },\n\n    overXYears: {\n      one: 'over 1 year',\n      other: 'over {{count}} years'\n    },\n\n    almostXYears: {\n      one: 'almost 1 year',\n      other: 'almost {{count}} years'\n    }\n  }\n\n  function localize (token, count, options) {\n    options = options || {}\n\n    var result\n    if (typeof distanceInWordsLocale[token] === 'string') {\n      result = distanceInWordsLocale[token]\n    } else if (count === 1) {\n      result = distanceInWordsLocale[token].one\n    } else {\n      result = distanceInWordsLocale[token].other.replace('{{count}}', count)\n    }\n\n    if (options.addSuffix) {\n      if (options.comparison > 0) {\n        return 'in ' + result\n      } else {\n        return result + ' ago'\n      }\n    }\n\n    return result\n  }\n\n  return {\n    localize: localize\n  }\n}\n\nmodule.exports = buildDistanceInWordsLocale\n","var buildFormattingTokensRegExp = require('../../_lib/build_formatting_tokens_reg_exp/index.js')\n\nfunction buildFormatLocale () {\n  // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n  var months3char = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n  var monthsFull = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n  var weekdays2char = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa']\n  var weekdays3char = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n  var weekdaysFull = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n  var meridiemUppercase = ['AM', 'PM']\n  var meridiemLowercase = ['am', 'pm']\n  var meridiemFull = ['a.m.', 'p.m.']\n\n  var formatters = {\n    // Month: Jan, Feb, ..., Dec\n    'MMM': function (date) {\n      return months3char[date.getMonth()]\n    },\n\n    // Month: January, February, ..., December\n    'MMMM': function (date) {\n      return monthsFull[date.getMonth()]\n    },\n\n    // Day of week: Su, Mo, ..., Sa\n    'dd': function (date) {\n      return weekdays2char[date.getDay()]\n    },\n\n    // Day of week: Sun, Mon, ..., Sat\n    'ddd': function (date) {\n      return weekdays3char[date.getDay()]\n    },\n\n    // Day of week: Sunday, Monday, ..., Saturday\n    'dddd': function (date) {\n      return weekdaysFull[date.getDay()]\n    },\n\n    // AM, PM\n    'A': function (date) {\n      return (date.getHours() / 12) >= 1 ? meridiemUppercase[1] : meridiemUppercase[0]\n    },\n\n    // am, pm\n    'a': function (date) {\n      return (date.getHours() / 12) >= 1 ? meridiemLowercase[1] : meridiemLowercase[0]\n    },\n\n    // a.m., p.m.\n    'aa': function (date) {\n      return (date.getHours() / 12) >= 1 ? meridiemFull[1] : meridiemFull[0]\n    }\n  }\n\n  // Generate ordinal version of formatters: M -> Mo, D -> Do, etc.\n  var ordinalFormatters = ['M', 'D', 'DDD', 'd', 'Q', 'W']\n  ordinalFormatters.forEach(function (formatterToken) {\n    formatters[formatterToken + 'o'] = function (date, formatters) {\n      return ordinal(formatters[formatterToken](date))\n    }\n  })\n\n  return {\n    formatters: formatters,\n    formattingTokensRegExp: buildFormattingTokensRegExp(formatters)\n  }\n}\n\nfunction ordinal (number) {\n  var rem100 = number % 100\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st'\n      case 2:\n        return number + 'nd'\n      case 3:\n        return number + 'rd'\n    }\n  }\n  return number + 'th'\n}\n\nmodule.exports = buildFormatLocale\n","var buildDistanceInWordsLocale = require('./build_distance_in_words_locale/index.js')\nvar buildFormatLocale = require('./build_format_locale/index.js')\n\n/**\n * @category Locales\n * @summary English locale.\n */\nmodule.exports = {\n  distanceInWords: buildDistanceInWordsLocale(),\n  format: buildFormatLocale()\n}\n","var isDate = require('../is_date/index.js')\n\nvar MILLISECONDS_IN_HOUR = 3600000\nvar MILLISECONDS_IN_MINUTE = 60000\nvar DEFAULT_ADDITIONAL_DIGITS = 2\n\nvar parseTokenDateTimeDelimeter = /[T ]/\nvar parseTokenPlainTime = /:/\n\n// year tokens\nvar parseTokenYY = /^(\\d{2})$/\nvar parseTokensYYY = [\n  /^([+-]\\d{2})$/, // 0 additional digits\n  /^([+-]\\d{3})$/, // 1 additional digit\n  /^([+-]\\d{4})$/ // 2 additional digits\n]\n\nvar parseTokenYYYY = /^(\\d{4})/\nvar parseTokensYYYYY = [\n  /^([+-]\\d{4})/, // 0 additional digits\n  /^([+-]\\d{5})/, // 1 additional digit\n  /^([+-]\\d{6})/ // 2 additional digits\n]\n\n// date tokens\nvar parseTokenMM = /^-(\\d{2})$/\nvar parseTokenDDD = /^-?(\\d{3})$/\nvar parseTokenMMDD = /^-?(\\d{2})-?(\\d{2})$/\nvar parseTokenWww = /^-?W(\\d{2})$/\nvar parseTokenWwwD = /^-?W(\\d{2})-?(\\d{1})$/\n\n// time tokens\nvar parseTokenHH = /^(\\d{2}([.,]\\d*)?)$/\nvar parseTokenHHMM = /^(\\d{2}):?(\\d{2}([.,]\\d*)?)$/\nvar parseTokenHHMMSS = /^(\\d{2}):?(\\d{2}):?(\\d{2}([.,]\\d*)?)$/\n\n// timezone tokens\nvar parseTokenTimezone = /([Z+-].*)$/\nvar parseTokenTimezoneZ = /^(Z)$/\nvar parseTokenTimezoneHH = /^([+-])(\\d{2})$/\nvar parseTokenTimezoneHHMM = /^([+-])(\\d{2}):?(\\d{2})$/\n\n/**\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If an argument is a string, the function tries to parse it.\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If all above fails, the function passes the given argument to Date constructor.\n *\n * @param {Date|String|Number} argument - the value to convert\n * @param {Object} [options] - the object with options\n * @param {0 | 1 | 2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = parse('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Parse string '+02014101',\n * // if the additional number of digits in the extended year format is 1:\n * var result = parse('+02014101', {additionalDigits: 1})\n * //=> Fri Apr 11 2014 00:00:00\n */\nfunction parse (argument, dirtyOptions) {\n  if (isDate(argument)) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime())\n  } else if (typeof argument !== 'string') {\n    return new Date(argument)\n  }\n\n  var options = dirtyOptions || {}\n  var additionalDigits = options.additionalDigits\n  if (additionalDigits == null) {\n    additionalDigits = DEFAULT_ADDITIONAL_DIGITS\n  } else {\n    additionalDigits = Number(additionalDigits)\n  }\n\n  var dateStrings = splitDateString(argument)\n\n  var parseYearResult = parseYear(dateStrings.date, additionalDigits)\n  var year = parseYearResult.year\n  var restDateString = parseYearResult.restDateString\n\n  var date = parseDate(restDateString, year)\n\n  if (date) {\n    var timestamp = date.getTime()\n    var time = 0\n    var offset\n\n    if (dateStrings.time) {\n      time = parseTime(dateStrings.time)\n    }\n\n    if (dateStrings.timezone) {\n      offset = parseTimezone(dateStrings.timezone)\n    } else {\n      // get offset accurate to hour in timezones that change offset\n      offset = new Date(timestamp + time).getTimezoneOffset()\n      offset = new Date(timestamp + time + offset * MILLISECONDS_IN_MINUTE).getTimezoneOffset()\n    }\n\n    return new Date(timestamp + time + offset * MILLISECONDS_IN_MINUTE)\n  } else {\n    return new Date(argument)\n  }\n}\n\nfunction splitDateString (dateString) {\n  var dateStrings = {}\n  var array = dateString.split(parseTokenDateTimeDelimeter)\n  var timeString\n\n  if (parseTokenPlainTime.test(array[0])) {\n    dateStrings.date = null\n    timeString = array[0]\n  } else {\n    dateStrings.date = array[0]\n    timeString = array[1]\n  }\n\n  if (timeString) {\n    var token = parseTokenTimezone.exec(timeString)\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '')\n      dateStrings.timezone = token[1]\n    } else {\n      dateStrings.time = timeString\n    }\n  }\n\n  return dateStrings\n}\n\nfunction parseYear (dateString, additionalDigits) {\n  var parseTokenYYY = parseTokensYYY[additionalDigits]\n  var parseTokenYYYYY = parseTokensYYYYY[additionalDigits]\n\n  var token\n\n  // YYYY or YYYYY\n  token = parseTokenYYYY.exec(dateString) || parseTokenYYYYY.exec(dateString)\n  if (token) {\n    var yearString = token[1]\n    return {\n      year: parseInt(yearString, 10),\n      restDateString: dateString.slice(yearString.length)\n    }\n  }\n\n  // YY or YYY\n  token = parseTokenYY.exec(dateString) || parseTokenYYY.exec(dateString)\n  if (token) {\n    var centuryString = token[1]\n    return {\n      year: parseInt(centuryString, 10) * 100,\n      restDateString: dateString.slice(centuryString.length)\n    }\n  }\n\n  // Invalid ISO-formatted year\n  return {\n    year: null\n  }\n}\n\nfunction parseDate (dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) {\n    return null\n  }\n\n  var token\n  var date\n  var month\n  var week\n\n  // YYYY\n  if (dateString.length === 0) {\n    date = new Date(0)\n    date.setUTCFullYear(year)\n    return date\n  }\n\n  // YYYY-MM\n  token = parseTokenMM.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    month = parseInt(token[1], 10) - 1\n    date.setUTCFullYear(year, month)\n    return date\n  }\n\n  // YYYY-DDD or YYYYDDD\n  token = parseTokenDDD.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    var dayOfYear = parseInt(token[1], 10)\n    date.setUTCFullYear(year, 0, dayOfYear)\n    return date\n  }\n\n  // YYYY-MM-DD or YYYYMMDD\n  token = parseTokenMMDD.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    month = parseInt(token[1], 10) - 1\n    var day = parseInt(token[2], 10)\n    date.setUTCFullYear(year, month, day)\n    return date\n  }\n\n  // YYYY-Www or YYYYWww\n  token = parseTokenWww.exec(dateString)\n  if (token) {\n    week = parseInt(token[1], 10) - 1\n    return dayOfISOYear(year, week)\n  }\n\n  // YYYY-Www-D or YYYYWwwD\n  token = parseTokenWwwD.exec(dateString)\n  if (token) {\n    week = parseInt(token[1], 10) - 1\n    var dayOfWeek = parseInt(token[2], 10) - 1\n    return dayOfISOYear(year, week, dayOfWeek)\n  }\n\n  // Invalid ISO-formatted date\n  return null\n}\n\nfunction parseTime (timeString) {\n  var token\n  var hours\n  var minutes\n\n  // hh\n  token = parseTokenHH.exec(timeString)\n  if (token) {\n    hours = parseFloat(token[1].replace(',', '.'))\n    return (hours % 24) * MILLISECONDS_IN_HOUR\n  }\n\n  // hh:mm or hhmm\n  token = parseTokenHHMM.exec(timeString)\n  if (token) {\n    hours = parseInt(token[1], 10)\n    minutes = parseFloat(token[2].replace(',', '.'))\n    return (hours % 24) * MILLISECONDS_IN_HOUR +\n      minutes * MILLISECONDS_IN_MINUTE\n  }\n\n  // hh:mm:ss or hhmmss\n  token = parseTokenHHMMSS.exec(timeString)\n  if (token) {\n    hours = parseInt(token[1], 10)\n    minutes = parseInt(token[2], 10)\n    var seconds = parseFloat(token[3].replace(',', '.'))\n    return (hours % 24) * MILLISECONDS_IN_HOUR +\n      minutes * MILLISECONDS_IN_MINUTE +\n      seconds * 1000\n  }\n\n  // Invalid ISO-formatted time\n  return null\n}\n\nfunction parseTimezone (timezoneString) {\n  var token\n  var absoluteOffset\n\n  // Z\n  token = parseTokenTimezoneZ.exec(timezoneString)\n  if (token) {\n    return 0\n  }\n\n  // hh\n  token = parseTokenTimezoneHH.exec(timezoneString)\n  if (token) {\n    absoluteOffset = parseInt(token[2], 10) * 60\n    return (token[1] === '+') ? -absoluteOffset : absoluteOffset\n  }\n\n  // hh:mm or hhmm\n  token = parseTokenTimezoneHHMM.exec(timezoneString)\n  if (token) {\n    absoluteOffset = parseInt(token[2], 10) * 60 + parseInt(token[3], 10)\n    return (token[1] === '+') ? -absoluteOffset : absoluteOffset\n  }\n\n  return 0\n}\n\nfunction dayOfISOYear (isoYear, week, day) {\n  week = week || 0\n  day = day || 0\n  var date = new Date(0)\n  date.setUTCFullYear(isoYear, 0, 4)\n  var fourthOfJanuaryDay = date.getUTCDay() || 7\n  var diff = week * 7 + day + 1 - fourthOfJanuaryDay\n  date.setUTCDate(date.getUTCDate() + diff)\n  return date\n}\n\nmodule.exports = parse\n","var parse = require('../parse/index.js')\n\n/**\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * var result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nfunction startOfDay (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfDay\n","var startOfWeek = require('../start_of_week/index.js')\n\n/**\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * var result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction startOfISOWeek (dirtyDate) {\n  return startOfWeek(dirtyDate, {weekStartsOn: 1})\n}\n\nmodule.exports = startOfISOWeek\n","var getISOYear = require('../get_iso_year/index.js')\nvar startOfISOWeek = require('../start_of_iso_week/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of an ISO year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * var result = startOfISOYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nfunction startOfISOYear (dirtyDate) {\n  var year = getISOYear(dirtyDate)\n  var fourthOfJanuary = new Date(0)\n  fourthOfJanuary.setFullYear(year, 0, 4)\n  fourthOfJanuary.setHours(0, 0, 0, 0)\n  var date = startOfISOWeek(fourthOfJanuary)\n  return date\n}\n\nmodule.exports = startOfISOYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @param {Object} [options] - the object with options\n * @param {Number} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * var result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * var result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), {weekStartsOn: 1})\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction startOfWeek (dirtyDate, dirtyOptions) {\n  var weekStartsOn = dirtyOptions ? (Number(dirtyOptions.weekStartsOn) || 0) : 0\n\n  var date = parse(dirtyDate)\n  var day = date.getDay()\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn\n\n  date.setDate(date.getDate() - diff)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfWeek\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * var result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nfunction startOfYear (dirtyDate) {\n  var cleanDate = parse(dirtyDate)\n  var date = new Date(0)\n  date.setFullYear(cleanDate.getFullYear(), 0, 1)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfYear\n","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _handlebarsBase = require('./handlebars/base');\n\nvar base = _interopRequireWildcard(_handlebarsBase);\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\nvar _handlebarsSafeString = require('./handlebars/safe-string');\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = require('./handlebars/exception');\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = require('./handlebars/utils');\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = require('./handlebars/runtime');\n\nvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = require('./handlebars/no-conflict');\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  var hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = _handlebarsSafeString2['default'];\n  hb.Exception = _handlebarsException2['default'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function (spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2['default'](inst);\n\ninst['default'] = inst;\n\nexports['default'] = inst;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9oYW5kbGViYXJzLnJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OEJBQXNCLG1CQUFtQjs7SUFBN0IsSUFBSTs7Ozs7b0NBSU8sMEJBQTBCOzs7O21DQUMzQix3QkFBd0I7Ozs7K0JBQ3ZCLG9CQUFvQjs7SUFBL0IsS0FBSzs7aUNBQ1Esc0JBQXNCOztJQUFuQyxPQUFPOztvQ0FFSSwwQkFBMEI7Ozs7O0FBR2pELFNBQVMsTUFBTSxHQUFHO0FBQ2hCLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRTFDLE9BQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLElBQUUsQ0FBQyxVQUFVLG9DQUFhLENBQUM7QUFDM0IsSUFBRSxDQUFDLFNBQVMsbUNBQVksQ0FBQztBQUN6QixJQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNqQixJQUFFLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDOztBQUU3QyxJQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUNoQixJQUFFLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzNCLFdBQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDbkMsQ0FBQzs7QUFFRixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVyQixrQ0FBVyxJQUFJLENBQUMsQ0FBQzs7QUFFakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7cUJBRVIsSUFBSSIsImZpbGUiOiJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBiYXNlIGZyb20gJy4vaGFuZGxlYmFycy9iYXNlJztcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbmltcG9ydCBTYWZlU3RyaW5nIGZyb20gJy4vaGFuZGxlYmFycy9zYWZlLXN0cmluZyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vaGFuZGxlYmFycy9leGNlcHRpb24nO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi9oYW5kbGViYXJzL3V0aWxzJztcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzL3J1bnRpbWUnO1xuXG5pbXBvcnQgbm9Db25mbGljdCBmcm9tICcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgbGV0IGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICByZXR1cm4gcnVudGltZS50ZW1wbGF0ZShzcGVjLCBoYik7XG4gIH07XG5cbiAgcmV0dXJuIGhiO1xufVxuXG5sZXQgaW5zdCA9IGNyZWF0ZSgpO1xuaW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cbm5vQ29uZmxpY3QoaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3Q7XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.HandlebarsEnvironment = HandlebarsEnvironment;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('./utils');\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = require('./helpers');\n\nvar _decorators = require('./decorators');\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _internalProtoAccess = require('./internal/proto-access');\n\nvar VERSION = '4.7.6';\nexports.VERSION = VERSION;\nvar COMPILER_REVISION = 8;\nexports.COMPILER_REVISION = COMPILER_REVISION;\nvar LAST_COMPATIBLE_COMPILER_REVISION = 7;\n\nexports.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0 <4.3.0',\n  8: '>= 4.3.0'\n};\n\nexports.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = '[object Object]';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: _logger2['default'],\n  log: _logger2['default'].log,\n\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple helpers');\n      }\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple decorators');\n      }\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  },\n  /**\n   * Reset the memory of illegal property accesses that have already been logged.\n   * @deprecated should only be used in handlebars test-cases\n   */\n  resetLoggedPropertyAccesses: function resetLoggedPropertyAccesses() {\n    _internalProtoAccess.resetLoggedProperties();\n  }\n};\n\nvar log = _logger2['default'].log;\n\nexports.log = log;\nexports.createFrame = _utils.createFrame;\nexports.logger = _logger2['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBQThDLFNBQVM7O3lCQUNqQyxhQUFhOzs7O3VCQUNJLFdBQVc7OzBCQUNSLGNBQWM7O3NCQUNyQyxVQUFVOzs7O21DQUNTLHlCQUF5Qjs7QUFFeEQsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDOztBQUN4QixJQUFNLGlCQUFpQixHQUFHLENBQUMsQ0FBQzs7QUFDNUIsSUFBTSxpQ0FBaUMsR0FBRyxDQUFDLENBQUM7OztBQUU1QyxJQUFNLGdCQUFnQixHQUFHO0FBQzlCLEdBQUMsRUFBRSxhQUFhO0FBQ2hCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxVQUFVO0FBQ2IsR0FBQyxFQUFFLGtCQUFrQjtBQUNyQixHQUFDLEVBQUUsaUJBQWlCO0FBQ3BCLEdBQUMsRUFBRSxpQkFBaUI7QUFDcEIsR0FBQyxFQUFFLFVBQVU7Q0FDZCxDQUFDOzs7QUFFRixJQUFNLFVBQVUsR0FBRyxpQkFBaUIsQ0FBQzs7QUFFOUIsU0FBUyxxQkFBcUIsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRTtBQUNuRSxNQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sSUFBSSxFQUFFLENBQUM7QUFDN0IsTUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLElBQUksRUFBRSxDQUFDO0FBQy9CLE1BQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxJQUFJLEVBQUUsQ0FBQzs7QUFFbkMsa0NBQXVCLElBQUksQ0FBQyxDQUFDO0FBQzdCLHdDQUEwQixJQUFJLENBQUMsQ0FBQztDQUNqQzs7QUFFRCxxQkFBcUIsQ0FBQyxTQUFTLEdBQUc7QUFDaEMsYUFBVyxFQUFFLHFCQUFxQjs7QUFFbEMsUUFBTSxxQkFBUTtBQUNkLEtBQUcsRUFBRSxvQkFBTyxHQUFHOztBQUVmLGdCQUFjLEVBQUUsd0JBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNqQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFDTixjQUFNLDJCQUFjLHlDQUF5QyxDQUFDLENBQUM7T0FDaEU7QUFDRCxvQkFBTyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzVCLE1BQU07QUFDTCxVQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUN6QjtHQUNGO0FBQ0Qsa0JBQWdCLEVBQUUsMEJBQVMsSUFBSSxFQUFFO0FBQy9CLFdBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUMzQjs7QUFFRCxpQkFBZSxFQUFFLHlCQUFTLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDdkMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLG9CQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDN0IsTUFBTTtBQUNMLFVBQUksT0FBTyxPQUFPLEtBQUssV0FBVyxFQUFFO0FBQ2xDLGNBQU0seUVBQ3dDLElBQUksb0JBQ2pELENBQUM7T0FDSDtBQUNELFVBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO0tBQy9CO0dBQ0Y7QUFDRCxtQkFBaUIsRUFBRSwyQkFBUyxJQUFJLEVBQUU7QUFDaEMsV0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQzVCOztBQUVELG1CQUFpQixFQUFFLDJCQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDcEMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLFVBQUksRUFBRSxFQUFFO0FBQ04sY0FBTSwyQkFBYyw0Q0FBNEMsQ0FBQyxDQUFDO09BQ25FO0FBQ0Qsb0JBQU8sSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUMvQixNQUFNO0FBQ0wsVUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDNUI7R0FDRjtBQUNELHFCQUFtQixFQUFFLDZCQUFTLElBQUksRUFBRTtBQUNsQyxXQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDOUI7Ozs7O0FBS0QsNkJBQTJCLEVBQUEsdUNBQUc7QUFDNUIsZ0RBQXVCLENBQUM7R0FDekI7Q0FDRixDQUFDOztBQUVLLElBQUksR0FBRyxHQUFHLG9CQUFPLEdBQUcsQ0FBQzs7O1FBRW5CLFdBQVc7UUFBRSxNQUFNIiwiZmlsZSI6ImJhc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVGcmFtZSwgZXh0ZW5kLCB0b1N0cmluZyB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQgeyByZWdpc3RlckRlZmF1bHRIZWxwZXJzIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMgfSBmcm9tICcuL2RlY29yYXRvcnMnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyByZXNldExvZ2dlZFByb3BlcnRpZXMgfSBmcm9tICcuL2ludGVybmFsL3Byb3RvLWFjY2Vzcyc7XG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzQuNy42JztcbmV4cG9ydCBjb25zdCBDT01QSUxFUl9SRVZJU0lPTiA9IDg7XG5leHBvcnQgY29uc3QgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OID0gNztcblxuZXhwb3J0IGNvbnN0IFJFVklTSU9OX0NIQU5HRVMgPSB7XG4gIDE6ICc8PSAxLjAucmMuMicsIC8vIDEuMC5yYy4yIGlzIGFjdHVhbGx5IHJldjIgYnV0IGRvZXNuJ3QgcmVwb3J0IGl0XG4gIDI6ICc9PSAxLjAuMC1yYy4zJyxcbiAgMzogJz09IDEuMC4wLXJjLjQnLFxuICA0OiAnPT0gMS54LngnLFxuICA1OiAnPT0gMi4wLjAtYWxwaGEueCcsXG4gIDY6ICc+PSAyLjAuMC1iZXRhLjEnLFxuICA3OiAnPj0gNC4wLjAgPDQuMy4wJyxcbiAgODogJz49IDQuMy4wJ1xufTtcblxuY29uc3Qgb2JqZWN0VHlwZSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG5leHBvcnQgZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzLCBkZWNvcmF0b3JzKSB7XG4gIHRoaXMuaGVscGVycyA9IGhlbHBlcnMgfHwge307XG4gIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcbiAgdGhpcy5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycyB8fCB7fTtcblxuICByZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xuICByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKHRoaXMpO1xufVxuXG5IYW5kbGViYXJzRW52aXJvbm1lbnQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG4gIGxvZ2dlcjogbG9nZ2VyLFxuICBsb2c6IGxvZ2dlci5sb2csXG5cbiAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGhlbHBlcnMnKTtcbiAgICAgIH1cbiAgICAgIGV4dGVuZCh0aGlzLmhlbHBlcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhlbHBlcnNbbmFtZV0gPSBmbjtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5oZWxwZXJzW25hbWVdO1xuICB9LFxuXG4gIHJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24obmFtZSwgcGFydGlhbCkge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBleHRlbmQodGhpcy5wYXJ0aWFscywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcGFydGlhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgICBgQXR0ZW1wdGluZyB0byByZWdpc3RlciBhIHBhcnRpYWwgY2FsbGVkIFwiJHtuYW1lfVwiIGFzIHVuZGVmaW5lZGBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbbmFtZV0gPSBwYXJ0aWFsO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJ0aWFsc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgZGVjb3JhdG9ycycpO1xuICAgICAgfVxuICAgICAgZXh0ZW5kKHRoaXMuZGVjb3JhdG9ycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjb3JhdG9yc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmRlY29yYXRvcnNbbmFtZV07XG4gIH0sXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgbWVtb3J5IG9mIGlsbGVnYWwgcHJvcGVydHkgYWNjZXNzZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBsb2dnZWQuXG4gICAqIEBkZXByZWNhdGVkIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gaGFuZGxlYmFycyB0ZXN0LWNhc2VzXG4gICAqL1xuICByZXNldExvZ2dlZFByb3BlcnR5QWNjZXNzZXMoKSB7XG4gICAgcmVzZXRMb2dnZWRQcm9wZXJ0aWVzKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBsZXQgbG9nID0gbG9nZ2VyLmxvZztcblxuZXhwb3J0IHsgY3JlYXRlRnJhbWUsIGxvZ2dlciB9O1xuIl19\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultDecorators = registerDefaultDecorators;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _decoratorsInline = require('./decorators/inline');\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2['default'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0NBQTJCLHFCQUFxQjs7OztBQUV6QyxTQUFTLHlCQUF5QixDQUFDLFFBQVEsRUFBRTtBQUNsRCxnQ0FBZSxRQUFRLENBQUMsQ0FBQztDQUMxQiIsImZpbGUiOiJkZWNvcmF0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVySW5saW5lIGZyb20gJy4vZGVjb3JhdG9ycy9pbmxpbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuICByZWdpc3RlcklubGluZShpbnN0YW5jZSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerDecorator('inline', function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQXVCLFVBQVU7O3FCQUVsQixVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzNFLFFBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ25CLFdBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFNBQUcsR0FBRyxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRS9CLFlBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbEMsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxRCxZQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLGlCQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixlQUFPLEdBQUcsQ0FBQztPQUNaLENBQUM7S0FDSDs7QUFFRCxTQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUU3QyxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlubGluZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJEZWNvcmF0b3IoJ2lubGluZScsIGZ1bmN0aW9uKGZuLCBwcm9wcywgY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgbGV0IHJldCA9IGZuO1xuICAgIGlmICghcHJvcHMucGFydGlhbHMpIHtcbiAgICAgIHByb3BzLnBhcnRpYWxzID0ge307XG4gICAgICByZXQgPSBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYXJ0aWFscyBzdGFjayBmcmFtZSBwcmlvciB0byBleGVjLlxuICAgICAgICBsZXQgb3JpZ2luYWwgPSBjb250YWluZXIucGFydGlhbHM7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGV4dGVuZCh7fSwgb3JpZ2luYWwsIHByb3BzLnBhcnRpYWxzKTtcbiAgICAgICAgbGV0IHJldCA9IGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcmlnaW5hbDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcHJvcHMucGFydGlhbHNbb3B0aW9ucy5hcmdzWzBdXSA9IG9wdGlvbnMuZm47XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nvar errorProps = ['description', 'fileName', 'lineNumber', 'endLineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      endLineNumber = undefined,\n      column = undefined,\n      endColumn = undefined;\n\n  if (loc) {\n    line = loc.start.line;\n    endLineNumber = loc.end.line;\n    column = loc.start.column;\n    endColumn = loc.end.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n      this.endLineNumber = endLineNumber;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n        Object.defineProperty(this, 'endColumn', {\n          value: endColumn,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n        this.endColumn = endColumn;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexports['default'] = Exception;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFNLFVBQVUsR0FBRyxDQUNqQixhQUFhLEVBQ2IsVUFBVSxFQUNWLFlBQVksRUFDWixlQUFlLEVBQ2YsU0FBUyxFQUNULE1BQU0sRUFDTixRQUFRLEVBQ1IsT0FBTyxDQUNSLENBQUM7O0FBRUYsU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUNoQyxNQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUc7TUFDeEIsSUFBSSxZQUFBO01BQ0osYUFBYSxZQUFBO01BQ2IsTUFBTSxZQUFBO01BQ04sU0FBUyxZQUFBLENBQUM7O0FBRVosTUFBSSxHQUFHLEVBQUU7QUFDUCxRQUFJLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7QUFDdEIsaUJBQWEsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztBQUM3QixVQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7QUFDMUIsYUFBUyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDOztBQUUzQixXQUFPLElBQUksS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDO0dBQ3hDOztBQUVELE1BQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7OztBQUcxRCxPQUFLLElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsRUFBRTtBQUNoRCxRQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0dBQzlDOzs7QUFHRCxNQUFJLEtBQUssQ0FBQyxpQkFBaUIsRUFBRTtBQUMzQixTQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQzFDOztBQUVELE1BQUk7QUFDRixRQUFJLEdBQUcsRUFBRTtBQUNQLFVBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLFVBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDOzs7O0FBSW5DLFVBQUksTUFBTSxDQUFDLGNBQWMsRUFBRTtBQUN6QixjQUFNLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUU7QUFDcEMsZUFBSyxFQUFFLE1BQU07QUFDYixvQkFBVSxFQUFFLElBQUk7U0FDakIsQ0FBQyxDQUFDO0FBQ0gsY0FBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3ZDLGVBQUssRUFBRSxTQUFTO0FBQ2hCLG9CQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7T0FDSixNQUFNO0FBQ0wsWUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDckIsWUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7T0FDNUI7S0FDRjtHQUNGLENBQUMsT0FBTyxHQUFHLEVBQUU7O0dBRWI7Q0FDRjs7QUFFRCxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7O3FCQUVuQixTQUFTIiwiZmlsZSI6ImV4Y2VwdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGVycm9yUHJvcHMgPSBbXG4gICdkZXNjcmlwdGlvbicsXG4gICdmaWxlTmFtZScsXG4gICdsaW5lTnVtYmVyJyxcbiAgJ2VuZExpbmVOdW1iZXInLFxuICAnbWVzc2FnZScsXG4gICduYW1lJyxcbiAgJ251bWJlcicsXG4gICdzdGFjaydcbl07XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgIGxpbmUsXG4gICAgZW5kTGluZU51bWJlcixcbiAgICBjb2x1bW4sXG4gICAgZW5kQ29sdW1uO1xuXG4gIGlmIChsb2MpIHtcbiAgICBsaW5lID0gbG9jLnN0YXJ0LmxpbmU7XG4gICAgZW5kTGluZU51bWJlciA9IGxvYy5lbmQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuICAgIGVuZENvbHVtbiA9IGxvYy5lbmQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGxvYykge1xuICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcbiAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XG5cbiAgICAgIC8vIFdvcmsgYXJvdW5kIGlzc3VlIHVuZGVyIHNhZmFyaSB3aGVyZSB3ZSBjYW4ndCBkaXJlY3RseSBzZXQgdGhlIGNvbHVtbiB2YWx1ZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2x1bW4nLCB7XG4gICAgICAgICAgdmFsdWU6IGNvbHVtbixcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2VuZENvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogZW5kQ29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBlbmRDb2x1bW47XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChub3ApIHtcbiAgICAvKiBJZ25vcmUgaWYgdGhlIGJyb3dzZXIgaXMgdmVyeSBwYXJ0aWN1bGFyICovXG4gIH1cbn1cblxuRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5leHBvcnQgZGVmYXVsdCBFeGNlcHRpb247XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultHelpers = registerDefaultHelpers;\nexports.moveHelperToHooks = moveHelperToHooks;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersBlockHelperMissing = require('./helpers/block-helper-missing');\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = require('./helpers/each');\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = require('./helpers/helper-missing');\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = require('./helpers/if');\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = require('./helpers/log');\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = require('./helpers/lookup');\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = require('./helpers/with');\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2['default'](instance);\n  _helpersEach2['default'](instance);\n  _helpersHelperMissing2['default'](instance);\n  _helpersIf2['default'](instance);\n  _helpersLog2['default'](instance);\n  _helpersLookup2['default'](instance);\n  _helpersWith2['default'](instance);\n}\n\nfunction moveHelperToHooks(instance, helperName, keepHelper) {\n  if (instance.helpers[helperName]) {\n    instance.hooks[helperName] = instance.helpers[helperName];\n    if (!keepHelper) {\n      delete instance.helpers[helperName];\n    }\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O3lDQUF1QyxnQ0FBZ0M7Ozs7MkJBQzlDLGdCQUFnQjs7OztvQ0FDUCwwQkFBMEI7Ozs7eUJBQ3JDLGNBQWM7Ozs7MEJBQ2IsZUFBZTs7Ozs2QkFDWixrQkFBa0I7Ozs7MkJBQ3BCLGdCQUFnQjs7OztBQUVsQyxTQUFTLHNCQUFzQixDQUFDLFFBQVEsRUFBRTtBQUMvQyx5Q0FBMkIsUUFBUSxDQUFDLENBQUM7QUFDckMsMkJBQWEsUUFBUSxDQUFDLENBQUM7QUFDdkIsb0NBQXNCLFFBQVEsQ0FBQyxDQUFDO0FBQ2hDLHlCQUFXLFFBQVEsQ0FBQyxDQUFDO0FBQ3JCLDBCQUFZLFFBQVEsQ0FBQyxDQUFDO0FBQ3RCLDZCQUFlLFFBQVEsQ0FBQyxDQUFDO0FBQ3pCLDJCQUFhLFFBQVEsQ0FBQyxDQUFDO0NBQ3hCOztBQUVNLFNBQVMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUU7QUFDbEUsTUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQ2hDLFlBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUMxRCxRQUFJLENBQUMsVUFBVSxFQUFFO0FBQ2YsYUFBTyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0tBQ3JDO0dBQ0Y7Q0FDRiIsImZpbGUiOiJoZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9ibG9jay1oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJFYWNoIGZyb20gJy4vaGVscGVycy9lYWNoJztcbmltcG9ydCByZWdpc3RlckhlbHBlck1pc3NpbmcgZnJvbSAnLi9oZWxwZXJzL2hlbHBlci1taXNzaW5nJztcbmltcG9ydCByZWdpc3RlcklmIGZyb20gJy4vaGVscGVycy9pZic7XG5pbXBvcnQgcmVnaXN0ZXJMb2cgZnJvbSAnLi9oZWxwZXJzL2xvZyc7XG5pbXBvcnQgcmVnaXN0ZXJMb29rdXAgZnJvbSAnLi9oZWxwZXJzL2xvb2t1cCc7XG5pbXBvcnQgcmVnaXN0ZXJXaXRoIGZyb20gJy4vaGVscGVycy93aXRoJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMoaW5zdGFuY2UpIHtcbiAgcmVnaXN0ZXJCbG9ja0hlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlckVhY2goaW5zdGFuY2UpO1xuICByZWdpc3RlckhlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlcklmKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb2coaW5zdGFuY2UpO1xuICByZWdpc3Rlckxvb2t1cChpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyV2l0aChpbnN0YW5jZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlSGVscGVyVG9Ib29rcyhpbnN0YW5jZSwgaGVscGVyTmFtZSwga2VlcEhlbHBlcikge1xuICBpZiAoaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXSkge1xuICAgIGluc3RhbmNlLmhvb2tzW2hlbHBlck5hbWVdID0gaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXTtcbiAgICBpZiAoIWtlZXBIZWxwZXIpIHtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIH1cbiAgfVxufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('blockHelperMissing', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBd0QsVUFBVTs7cUJBRW5ELFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZFLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQzNCLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVsQixRQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7QUFDcEIsYUFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUMvQyxhQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0QixNQUFNLElBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFlBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGlCQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCOztBQUVELGVBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO09BQ2hELE1BQU07QUFDTCxlQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN0QjtLQUNGLE1BQU07QUFDTCxVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLElBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQ3hCLE9BQU8sQ0FBQyxJQUFJLENBQ2IsQ0FBQztBQUNGLGVBQU8sR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztPQUMxQjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDN0I7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJibG9jay1oZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFwcGVuZENvbnRleHRQYXRoLCBjcmVhdGVGcmFtZSwgaXNBcnJheSB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2Jsb2NrSGVscGVyTWlzc2luZycsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBsZXQgaW52ZXJzZSA9IG9wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYgKGNvbnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGxldCBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKFxuICAgICAgICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCxcbiAgICAgICAgICBvcHRpb25zLm5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgb3B0aW9ucyA9IHsgZGF0YTogZGF0YSB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (global.Symbol && context[global.Symbol.iterator]) {\n        var newContext = [];\n        var iterator = context[global.Symbol.iterator]();\n        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n        context = newContext;\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        (function () {\n          var priorKey = undefined;\n\n          Object.keys(context).forEach(function (key) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          });\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1, true);\n          }\n        })();\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQU1PLFVBQVU7O3lCQUNLLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN6RCxRQUFJLENBQUMsT0FBTyxFQUFFO0FBQ1osWUFBTSwyQkFBYyw2QkFBNkIsQ0FBQyxDQUFDO0tBQ3BEOztBQUVELFFBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFO1FBQ2pCLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTztRQUN6QixDQUFDLEdBQUcsQ0FBQztRQUNMLEdBQUcsR0FBRyxFQUFFO1FBQ1IsSUFBSSxZQUFBO1FBQ0osV0FBVyxZQUFBLENBQUM7O0FBRWQsUUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUU7QUFDL0IsaUJBQVcsR0FDVCx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztLQUNyRTs7QUFFRCxRQUFJLGtCQUFXLE9BQU8sQ0FBQyxFQUFFO0FBQ3ZCLGFBQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCOztBQUVELFFBQUksT0FBTyxDQUFDLElBQUksRUFBRTtBQUNoQixVQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xDOztBQUVELGFBQVMsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ3pDLFVBQUksSUFBSSxFQUFFO0FBQ1IsWUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUM7QUFDakIsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkIsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLEtBQUssQ0FBQyxDQUFDO0FBQ3pCLFlBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQzs7QUFFbkIsWUFBSSxXQUFXLEVBQUU7QUFDZixjQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsR0FBRyxLQUFLLENBQUM7U0FDeEM7T0FDRjs7QUFFRCxTQUFHLEdBQ0QsR0FBRyxHQUNILEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUNYLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUN2QixDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQzVCO09BQ0YsQ0FBQyxDQUFDO0tBQ047O0FBRUQsUUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQzFDLFVBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNwQixhQUFLLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxjQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7QUFDaEIseUJBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1dBQy9DO1NBQ0Y7T0FDRixNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUMzRCxZQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDdEIsWUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztBQUNuRCxhQUFLLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUM3RCxvQkFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDM0I7QUFDRCxlQUFPLEdBQUcsVUFBVSxDQUFDO0FBQ3JCLGFBQUssSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3ZDLHVCQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMvQztPQUNGLE1BQU07O0FBQ0wsY0FBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixnQkFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHLEVBQUk7Ozs7QUFJbEMsZ0JBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQiwyQkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDaEM7QUFDRCxvQkFBUSxHQUFHLEdBQUcsQ0FBQztBQUNmLGFBQUMsRUFBRSxDQUFDO1dBQ0wsQ0FBQyxDQUFDO0FBQ0gsY0FBSSxRQUFRLEtBQUssU0FBUyxFQUFFO0FBQzFCLHlCQUFhLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7V0FDdEM7O09BQ0Y7S0FDRjs7QUFFRCxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxTQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JCOztBQUVELFdBQU8sR0FBRyxDQUFDO0dBQ1osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiZWFjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFwcGVuZENvbnRleHRQYXRoLFxuICBibG9ja1BhcmFtcyxcbiAgY3JlYXRlRnJhbWUsXG4gIGlzQXJyYXksXG4gIGlzRnVuY3Rpb25cbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgaSA9IDAsXG4gICAgICByZXQgPSAnJyxcbiAgICAgIGRhdGEsXG4gICAgICBjb250ZXh0UGF0aDtcblxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgIGNvbnRleHRQYXRoID1cbiAgICAgICAgYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSkgKyAnLic7XG4gICAgfVxuXG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhlY0l0ZXJhdGlvbihmaWVsZCwgaW5kZXgsIGxhc3QpIHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGEua2V5ID0gZmllbGQ7XG4gICAgICAgIGRhdGEuaW5kZXggPSBpbmRleDtcbiAgICAgICAgZGF0YS5maXJzdCA9IGluZGV4ID09PSAwO1xuICAgICAgICBkYXRhLmxhc3QgPSAhIWxhc3Q7XG5cbiAgICAgICAgaWYgKGNvbnRleHRQYXRoKSB7XG4gICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsgZmllbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0ID1cbiAgICAgICAgcmV0ICtcbiAgICAgICAgZm4oY29udGV4dFtmaWVsZF0sIHtcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhcbiAgICAgICAgICAgIFtjb250ZXh0W2ZpZWxkXSwgZmllbGRdLFxuICAgICAgICAgICAgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdXG4gICAgICAgICAgKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBjb250ZXh0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGlmIChpIGluIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24oaSwgaSwgaSA9PT0gY29udGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsLlN5bWJvbCAmJiBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbnRleHQgPSBbXTtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBjb250ZXh0W2dsb2JhbC5TeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIGZvciAobGV0IGl0ID0gaXRlcmF0b3IubmV4dCgpOyAhaXQuZG9uZTsgaXQgPSBpdGVyYXRvci5uZXh0KCkpIHtcbiAgICAgICAgICBuZXdDb250ZXh0LnB1c2goaXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBuZXdDb250ZXh0O1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBwcmlvcktleTtcblxuICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgLy8gV2UncmUgcnVubmluZyB0aGUgaXRlcmF0aW9ucyBvbmUgc3RlcCBvdXQgb2Ygc3luYyBzbyB3ZSBjYW4gZGV0ZWN0XG4gICAgICAgICAgLy8gdGhlIGxhc3QgaXRlcmF0aW9uIHdpdGhvdXQgaGF2ZSB0byBzY2FuIHRoZSBvYmplY3QgdHdpY2UgYW5kIGNyZWF0ZVxuICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG4gICAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JLZXkgPSBrZXk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozt5QkFBc0IsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFDSixtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUNqRSxDQUFDO0tBQ0g7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJoZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXG4gICAgICAgICdNaXNzaW5nIGhlbHBlcjogXCInICsgYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXS5uYW1lICsgJ1wiJ1xuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('if', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#if requires exactly one argument');\n    }\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#unless requires exactly one argument');\n    }\n    return instance.helpers['if'].call(this, conditional, {\n      fn: options.inverse,\n      inverse: options.fn,\n      hash: options.hash\n    });\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztxQkFBb0MsVUFBVTs7eUJBQ3hCLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQ3pCLFlBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztLQUMxRDtBQUNELFFBQUksa0JBQVcsV0FBVyxDQUFDLEVBQUU7QUFDM0IsaUJBQVcsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3RDOzs7OztBQUtELFFBQUksQUFBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxJQUFLLGVBQVEsV0FBVyxDQUFDLEVBQUU7QUFDdkUsYUFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDekI7R0FDRixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQy9ELFFBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7QUFDekIsWUFBTSwyQkFBYyx1Q0FBdUMsQ0FBQyxDQUFDO0tBQzlEO0FBQ0QsV0FBTyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3BELFFBQUUsRUFBRSxPQUFPLENBQUMsT0FBTztBQUNuQixhQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUU7QUFDbkIsVUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO0tBQ25CLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbXB0eSwgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2lmJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjaWYgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24oY29uZGl0aW9uYWwpKSB7XG4gICAgICBjb25kaXRpb25hbCA9IGNvbmRpdGlvbmFsLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBiZWhhdmlvciBpcyB0byByZW5kZXIgdGhlIHBvc2l0aXZlIHBhdGggaWYgdGhlIHZhbHVlIGlzIHRydXRoeSBhbmQgbm90IGVtcHR5LlxuICAgIC8vIFRoZSBgaW5jbHVkZVplcm9gIG9wdGlvbiBtYXkgYmUgc2V0IHRvIHRyZWF0IHRoZSBjb25kdGlvbmFsIGFzIHB1cmVseSBub3QgZW1wdHkgYmFzZWQgb24gdGhlXG4gICAgLy8gYmVoYXZpb3Igb2YgaXNFbXB0eS4gRWZmZWN0aXZlbHkgdGhpcyBkZXRlcm1pbmVzIGlmIDAgaXMgaGFuZGxlZCBieSB0aGUgcG9zaXRpdmUgcGF0aCBvciBuZWdhdGl2ZS5cbiAgICBpZiAoKCFvcHRpb25zLmhhc2guaW5jbHVkZVplcm8gJiYgIWNvbmRpdGlvbmFsKSB8fCBpc0VtcHR5KGNvbmRpdGlvbmFsKSkge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgfVxuICB9KTtcblxuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcigndW5sZXNzJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjdW5sZXNzIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzWydpZiddLmNhbGwodGhpcywgY29uZGl0aW9uYWwsIHtcbiAgICAgIGZuOiBvcHRpb25zLmludmVyc2UsXG4gICAgICBpbnZlcnNlOiBvcHRpb25zLmZuLFxuICAgICAgaGFzaDogb3B0aW9ucy5oYXNoXG4gICAgfSk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('log', function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ3BCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM1QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVEsSUFBSSxDQUFDLENBQUM7R0FDdkIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICBsZXQgbGV2ZWwgPSAxO1xuICAgIGlmIChvcHRpb25zLmhhc2gubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmhhc2gubGV2ZWw7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhLmxldmVsICE9IG51bGwpIHtcbiAgICAgIGxldmVsID0gb3B0aW9ucy5kYXRhLmxldmVsO1xuICAgIH1cbiAgICBhcmdzWzBdID0gbGV2ZWw7XG5cbiAgICBpbnN0YW5jZS5sb2coLi4uYXJncyk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('lookup', function (obj, field, options) {\n    if (!obj) {\n      // Note for 5.0: Change to \"obj == null\" in 5.0\n      return obj;\n    }\n    return options.lookupProperty(obj, field);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUM5RCxRQUFJLENBQUMsR0FBRyxFQUFFOztBQUVSLGFBQU8sR0FBRyxDQUFDO0tBQ1o7QUFDRCxXQUFPLE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0dBQzNDLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Imxvb2t1cC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb29rdXAnLCBmdW5jdGlvbihvYmosIGZpZWxkLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIC8vIE5vdGUgZm9yIDUuMDogQ2hhbmdlIHRvIFwib2JqID09IG51bGxcIiBpbiA1LjBcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLmxvb2t1cFByb3BlcnR5KG9iaiwgZmllbGQpO1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('with', function (context, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#with requires exactly one argument');\n    }\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQU1PLFVBQVU7O3lCQUNLLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN6RCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQ3pCLFlBQU0sMkJBQWMscUNBQXFDLENBQUMsQ0FBQztLQUM1RDtBQUNELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFDdkIsYUFBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7O0FBRUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQzs7QUFFcEIsUUFBSSxDQUFDLGVBQVEsT0FBTyxDQUFDLEVBQUU7QUFDckIsVUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pDLFlBQUksQ0FBQyxXQUFXLEdBQUcseUJBQ2pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUNmLENBQUM7T0FDSDs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO09BQ2hFLENBQUMsQ0FBQztLQUNKLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJ3aXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXBwZW5kQ29udGV4dFBhdGgsXG4gIGJsb2NrUGFyYW1zLFxuICBjcmVhdGVGcmFtZSxcbiAgaXNFbXB0eSxcbiAgaXNGdW5jdGlvblxufSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd3aXRoJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJyN3aXRoIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7XG4gICAgICBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm47XG5cbiAgICBpZiAoIWlzRW1wdHkoY29udGV4dCkpIHtcbiAgICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuICAgICAgICBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKFxuICAgICAgICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCxcbiAgICAgICAgICBvcHRpb25zLmlkc1swXVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwge1xuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtczogYmxvY2tQYXJhbXMoW2NvbnRleHRdLCBbZGF0YSAmJiBkYXRhLmNvbnRleHRQYXRoXSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.createNewLookupObject = createNewLookupObject;\n\nvar _utils = require('../utils');\n\n/**\n * Create a new object with \"null\"-prototype to avoid truthy results on prototype properties.\n * The resulting object can be used with \"object[property]\" to check if a property exists\n * @param {...object} sources a varargs parameter of source objects that will be merged\n * @returns {object}\n */\n\nfunction createNewLookupObject() {\n  for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  return _utils.extend.apply(undefined, [Object.create(null)].concat(sources));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL2NyZWF0ZS1uZXctbG9va3VwLW9iamVjdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFBdUIsVUFBVTs7Ozs7Ozs7O0FBUTFCLFNBQVMscUJBQXFCLEdBQWE7b0NBQVQsT0FBTztBQUFQLFdBQU87OztBQUM5QyxTQUFPLGdDQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQUssT0FBTyxFQUFDLENBQUM7Q0FDaEQiLCJmaWxlIjoiY3JlYXRlLW5ldy1sb29rdXAtb2JqZWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCBcIm51bGxcIi1wcm90b3R5cGUgdG8gYXZvaWQgdHJ1dGh5IHJlc3VsdHMgb24gcHJvdG90eXBlIHByb3BlcnRpZXMuXG4gKiBUaGUgcmVzdWx0aW5nIG9iamVjdCBjYW4gYmUgdXNlZCB3aXRoIFwib2JqZWN0W3Byb3BlcnR5XVwiIHRvIGNoZWNrIGlmIGEgcHJvcGVydHkgZXhpc3RzXG4gKiBAcGFyYW0gey4uLm9iamVjdH0gc291cmNlcyBhIHZhcmFyZ3MgcGFyYW1ldGVyIG9mIHNvdXJjZSBvYmplY3RzIHRoYXQgd2lsbCBiZSBtZXJnZWRcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdMb29rdXBPYmplY3QoLi4uc291cmNlcykge1xuICByZXR1cm4gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIC4uLnNvdXJjZXMpO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\nexports.createProtoAccessControl = createProtoAccessControl;\nexports.resultIsAllowed = resultIsAllowed;\nexports.resetLoggedProperties = resetLoggedProperties;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _createNewLookupObject = require('./create-new-lookup-object');\n\nvar _logger = require('../logger');\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar loggedProperties = Object.create(null);\n\nfunction createProtoAccessControl(runtimeOptions) {\n  var defaultMethodWhiteList = Object.create(null);\n  defaultMethodWhiteList['constructor'] = false;\n  defaultMethodWhiteList['__defineGetter__'] = false;\n  defaultMethodWhiteList['__defineSetter__'] = false;\n  defaultMethodWhiteList['__lookupGetter__'] = false;\n\n  var defaultPropertyWhiteList = Object.create(null);\n  // eslint-disable-next-line no-proto\n  defaultPropertyWhiteList['__proto__'] = false;\n\n  return {\n    properties: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultPropertyWhiteList, runtimeOptions.allowedProtoProperties),\n      defaultValue: runtimeOptions.allowProtoPropertiesByDefault\n    },\n    methods: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultMethodWhiteList, runtimeOptions.allowedProtoMethods),\n      defaultValue: runtimeOptions.allowProtoMethodsByDefault\n    }\n  };\n}\n\nfunction resultIsAllowed(result, protoAccessControl, propertyName) {\n  if (typeof result === 'function') {\n    return checkWhiteList(protoAccessControl.methods, propertyName);\n  } else {\n    return checkWhiteList(protoAccessControl.properties, propertyName);\n  }\n}\n\nfunction checkWhiteList(protoAccessControlForType, propertyName) {\n  if (protoAccessControlForType.whitelist[propertyName] !== undefined) {\n    return protoAccessControlForType.whitelist[propertyName] === true;\n  }\n  if (protoAccessControlForType.defaultValue !== undefined) {\n    return protoAccessControlForType.defaultValue;\n  }\n  logUnexpecedPropertyAccessOnce(propertyName);\n  return false;\n}\n\nfunction logUnexpecedPropertyAccessOnce(propertyName) {\n  if (loggedProperties[propertyName] !== true) {\n    loggedProperties[propertyName] = true;\n    logger.log('error', 'Handlebars: Access has been denied to resolve the property \"' + propertyName + '\" because it is not an \"own property\" of its parent.\\n' + 'You can add a runtime option to disable the check or this warning:\\n' + 'See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details');\n  }\n}\n\nfunction resetLoggedProperties() {\n  Object.keys(loggedProperties).forEach(function (propertyName) {\n    delete loggedProperties[propertyName];\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3Byb3RvLWFjY2Vzcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3FDQUFzQyw0QkFBNEI7O3NCQUMxQyxXQUFXOztJQUF2QixNQUFNOztBQUVsQixJQUFNLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRXRDLFNBQVMsd0JBQXdCLENBQUMsY0FBYyxFQUFFO0FBQ3ZELE1BQUksc0JBQXNCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqRCx3QkFBc0IsQ0FBQyxhQUFhLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDOUMsd0JBQXNCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbkQsd0JBQXNCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbkQsd0JBQXNCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRW5ELE1BQUksd0JBQXdCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFbkQsMEJBQXdCLENBQUMsV0FBVyxDQUFDLEdBQUcsS0FBSyxDQUFDOztBQUU5QyxTQUFPO0FBQ0wsY0FBVSxFQUFFO0FBQ1YsZUFBUyxFQUFFLDZDQUNULHdCQUF3QixFQUN4QixjQUFjLENBQUMsc0JBQXNCLENBQ3RDO0FBQ0Qsa0JBQVksRUFBRSxjQUFjLENBQUMsNkJBQTZCO0tBQzNEO0FBQ0QsV0FBTyxFQUFFO0FBQ1AsZUFBUyxFQUFFLDZDQUNULHNCQUFzQixFQUN0QixjQUFjLENBQUMsbUJBQW1CLENBQ25DO0FBQ0Qsa0JBQVksRUFBRSxjQUFjLENBQUMsMEJBQTBCO0tBQ3hEO0dBQ0YsQ0FBQztDQUNIOztBQUVNLFNBQVMsZUFBZSxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxZQUFZLEVBQUU7QUFDeEUsTUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLEVBQUU7QUFDaEMsV0FBTyxjQUFjLENBQUMsa0JBQWtCLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO0dBQ2pFLE1BQU07QUFDTCxXQUFPLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsWUFBWSxDQUFDLENBQUM7R0FDcEU7Q0FDRjs7QUFFRCxTQUFTLGNBQWMsQ0FBQyx5QkFBeUIsRUFBRSxZQUFZLEVBQUU7QUFDL0QsTUFBSSx5QkFBeUIsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssU0FBUyxFQUFFO0FBQ25FLFdBQU8seUJBQXlCLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLElBQUksQ0FBQztHQUNuRTtBQUNELE1BQUkseUJBQXlCLENBQUMsWUFBWSxLQUFLLFNBQVMsRUFBRTtBQUN4RCxXQUFPLHlCQUF5QixDQUFDLFlBQVksQ0FBQztHQUMvQztBQUNELGdDQUE4QixDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzdDLFNBQU8sS0FBSyxDQUFDO0NBQ2Q7O0FBRUQsU0FBUyw4QkFBOEIsQ0FBQyxZQUFZLEVBQUU7QUFDcEQsTUFBSSxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxJQUFJLEVBQUU7QUFDM0Msb0JBQWdCLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQ3RDLFVBQU0sQ0FBQyxHQUFHLENBQ1IsT0FBTyxFQUNQLGlFQUErRCxZQUFZLG9JQUNILG9IQUMyQyxDQUNwSCxDQUFDO0dBQ0g7Q0FDRjs7QUFFTSxTQUFTLHFCQUFxQixHQUFHO0FBQ3RDLFFBQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxZQUFZLEVBQUk7QUFDcEQsV0FBTyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztHQUN2QyxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJwcm90by1hY2Nlc3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVOZXdMb29rdXBPYmplY3QgfSBmcm9tICcuL2NyZWF0ZS1uZXctbG9va3VwLW9iamVjdCc7XG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnLi4vbG9nZ2VyJztcblxuY29uc3QgbG9nZ2VkUHJvcGVydGllcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm90b0FjY2Vzc0NvbnRyb2wocnVudGltZU9wdGlvbnMpIHtcbiAgbGV0IGRlZmF1bHRNZXRob2RXaGl0ZUxpc3QgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0Wydjb25zdHJ1Y3RvciddID0gZmFsc2U7XG4gIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3RbJ19fZGVmaW5lR2V0dGVyX18nXSA9IGZhbHNlO1xuICBkZWZhdWx0TWV0aG9kV2hpdGVMaXN0WydfX2RlZmluZVNldHRlcl9fJ10gPSBmYWxzZTtcbiAgZGVmYXVsdE1ldGhvZFdoaXRlTGlzdFsnX19sb29rdXBHZXR0ZXJfXyddID0gZmFsc2U7XG5cbiAgbGV0IGRlZmF1bHRQcm9wZXJ0eVdoaXRlTGlzdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b1xuICBkZWZhdWx0UHJvcGVydHlXaGl0ZUxpc3RbJ19fcHJvdG9fXyddID0gZmFsc2U7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICB3aGl0ZWxpc3Q6IGNyZWF0ZU5ld0xvb2t1cE9iamVjdChcbiAgICAgICAgZGVmYXVsdFByb3BlcnR5V2hpdGVMaXN0LFxuICAgICAgICBydW50aW1lT3B0aW9ucy5hbGxvd2VkUHJvdG9Qcm9wZXJ0aWVzXG4gICAgICApLFxuICAgICAgZGVmYXVsdFZhbHVlOiBydW50aW1lT3B0aW9ucy5hbGxvd1Byb3RvUHJvcGVydGllc0J5RGVmYXVsdFxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgd2hpdGVsaXN0OiBjcmVhdGVOZXdMb29rdXBPYmplY3QoXG4gICAgICAgIGRlZmF1bHRNZXRob2RXaGl0ZUxpc3QsXG4gICAgICAgIHJ1bnRpbWVPcHRpb25zLmFsbG93ZWRQcm90b01ldGhvZHNcbiAgICAgICksXG4gICAgICBkZWZhdWx0VmFsdWU6IHJ1bnRpbWVPcHRpb25zLmFsbG93UHJvdG9NZXRob2RzQnlEZWZhdWx0XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzdWx0SXNBbGxvd2VkKHJlc3VsdCwgcHJvdG9BY2Nlc3NDb250cm9sLCBwcm9wZXJ0eU5hbWUpIHtcbiAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gY2hlY2tXaGl0ZUxpc3QocHJvdG9BY2Nlc3NDb250cm9sLm1ldGhvZHMsIHByb3BlcnR5TmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNoZWNrV2hpdGVMaXN0KHByb3RvQWNjZXNzQ29udHJvbC5wcm9wZXJ0aWVzLCBwcm9wZXJ0eU5hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrV2hpdGVMaXN0KHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUsIHByb3BlcnR5TmFtZSkge1xuICBpZiAocHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS53aGl0ZWxpc3RbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUud2hpdGVsaXN0W3Byb3BlcnR5TmFtZV0gPT09IHRydWU7XG4gIH1cbiAgaWYgKHByb3RvQWNjZXNzQ29udHJvbEZvclR5cGUuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcHJvdG9BY2Nlc3NDb250cm9sRm9yVHlwZS5kZWZhdWx0VmFsdWU7XG4gIH1cbiAgbG9nVW5leHBlY2VkUHJvcGVydHlBY2Nlc3NPbmNlKHByb3BlcnR5TmFtZSk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbG9nVW5leHBlY2VkUHJvcGVydHlBY2Nlc3NPbmNlKHByb3BlcnR5TmFtZSkge1xuICBpZiAobG9nZ2VkUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdICE9PSB0cnVlKSB7XG4gICAgbG9nZ2VkUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdID0gdHJ1ZTtcbiAgICBsb2dnZXIubG9nKFxuICAgICAgJ2Vycm9yJyxcbiAgICAgIGBIYW5kbGViYXJzOiBBY2Nlc3MgaGFzIGJlZW4gZGVuaWVkIHRvIHJlc29sdmUgdGhlIHByb3BlcnR5IFwiJHtwcm9wZXJ0eU5hbWV9XCIgYmVjYXVzZSBpdCBpcyBub3QgYW4gXCJvd24gcHJvcGVydHlcIiBvZiBpdHMgcGFyZW50LlxcbmAgK1xuICAgICAgICBgWW91IGNhbiBhZGQgYSBydW50aW1lIG9wdGlvbiB0byBkaXNhYmxlIHRoZSBjaGVjayBvciB0aGlzIHdhcm5pbmc6XFxuYCArXG4gICAgICAgIGBTZWUgaHR0cHM6Ly9oYW5kbGViYXJzanMuY29tL2FwaS1yZWZlcmVuY2UvcnVudGltZS1vcHRpb25zLmh0bWwjb3B0aW9ucy10by1jb250cm9sLXByb3RvdHlwZS1hY2Nlc3MgZm9yIGRldGFpbHNgXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRMb2dnZWRQcm9wZXJ0aWVzKCkge1xuICBPYmplY3Qua2V5cyhsb2dnZWRQcm9wZXJ0aWVzKS5mb3JFYWNoKHByb3BlcnR5TmFtZSA9PiB7XG4gICAgZGVsZXRlIGxvZ2dlZFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.wrapHelper = wrapHelper;\n\nfunction wrapHelper(helper, transformOptionsFn) {\n  if (typeof helper !== 'function') {\n    // This should not happen, but apparently it does in https://github.com/wycats/handlebars.js/issues/1639\n    // We try to make the wrapper least-invasive by not wrapping it, if the helper is not a function.\n    return helper;\n  }\n  var wrapper = function wrapper() /* dynamic arguments */{\n    var options = arguments[arguments.length - 1];\n    arguments[arguments.length - 1] = transformOptionsFn(options);\n    return helper.apply(this, arguments);\n  };\n  return wrapper;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2ludGVybmFsL3dyYXBIZWxwZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLEVBQUU7QUFDckQsTUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLEVBQUU7OztBQUdoQyxXQUFPLE1BQU0sQ0FBQztHQUNmO0FBQ0QsTUFBSSxPQUFPLEdBQUcsU0FBVixPQUFPLDBCQUFxQztBQUM5QyxRQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNoRCxhQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM5RCxXQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0dBQ3RDLENBQUM7QUFDRixTQUFPLE9BQU8sQ0FBQztDQUNoQiIsImZpbGUiOiJ3cmFwSGVscGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHdyYXBIZWxwZXIoaGVscGVyLCB0cmFuc2Zvcm1PcHRpb25zRm4pIHtcbiAgaWYgKHR5cGVvZiBoZWxwZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgYXBwYXJlbnRseSBpdCBkb2VzIGluIGh0dHBzOi8vZ2l0aHViLmNvbS93eWNhdHMvaGFuZGxlYmFycy5qcy9pc3N1ZXMvMTYzOVxuICAgIC8vIFdlIHRyeSB0byBtYWtlIHRoZSB3cmFwcGVyIGxlYXN0LWludmFzaXZlIGJ5IG5vdCB3cmFwcGluZyBpdCwgaWYgdGhlIGhlbHBlciBpcyBub3QgYSBmdW5jdGlvbi5cbiAgICByZXR1cm4gaGVscGVyO1xuICB9XG4gIGxldCB3cmFwcGVyID0gZnVuY3Rpb24oLyogZHluYW1pYyBhcmd1bWVudHMgKi8pIHtcbiAgICBjb25zdCBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdID0gdHJhbnNmb3JtT3B0aW9uc0ZuKG9wdGlvbnMpO1xuICAgIHJldHVybiBoZWxwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('./utils');\n\nvar logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === 'string') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level];\n      // eslint-disable-next-line no-console\n      if (!console[method]) {\n        method = 'log';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexports['default'] = logger;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUF3QixTQUFTOztBQUVqQyxJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUNFLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFDOUIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxFQUN6QztBQUNBLFVBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7O0FBRXJDLFVBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDcEIsY0FBTSxHQUFHLEtBQUssQ0FBQztPQUNoQjs7d0NBWG1CLE9BQU87QUFBUCxlQUFPOzs7QUFZM0IsYUFBTyxDQUFDLE1BQU0sT0FBQyxDQUFmLE9BQU8sRUFBWSxPQUFPLENBQUMsQ0FBQztLQUM3QjtHQUNGO0NBQ0YsQ0FBQzs7cUJBRWEsTUFBTSIsImZpbGUiOiJsb2dnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmRleE9mIH0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWxcbiAgICApIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBpZiAoIWNvbnNvbGVbbWV0aG9kXSkge1xuICAgICAgICBtZXRob2QgPSAnbG9nJztcbiAgICAgIH1cbiAgICAgIGNvbnNvbGVbbWV0aG9kXSguLi5tZXNzYWdlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (Handlebars) {\n  /* istanbul ignore next */\n  var root = typeof global !== 'undefined' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function () {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxVQUFVLEVBQUU7O0FBRWxDLE1BQUksSUFBSSxHQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsR0FBRyxNQUFNLEdBQUcsTUFBTTtNQUN4RCxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQzs7QUFFaEMsWUFBVSxDQUFDLFVBQVUsR0FBRyxZQUFXO0FBQ2pDLFFBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7QUFDbEMsVUFBSSxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUM7S0FDL0I7QUFDRCxXQUFPLFVBQVUsQ0FBQztHQUNuQixDQUFDO0NBQ0giLCJmaWxlIjoibm8tY29uZmxpY3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihIYW5kbGViYXJzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGxldCByb290ID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3csXG4gICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIEhhbmRsZWJhcnMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChyb290LkhhbmRsZWJhcnMgPT09IEhhbmRsZWJhcnMpIHtcbiAgICAgIHJvb3QuSGFuZGxlYmFycyA9ICRIYW5kbGViYXJzO1xuICAgIH1cbiAgICByZXR1cm4gSGFuZGxlYmFycztcbiAgfTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.checkRevision = checkRevision;\nexports.template = template;\nexports.wrapProgram = wrapProgram;\nexports.resolvePartial = resolvePartial;\nexports.invokePartial = invokePartial;\nexports.noop = noop;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _utils = require('./utils');\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = require('./base');\n\nvar _helpers = require('./helpers');\n\nvar _internalWrapHelper = require('./internal/wrapHelper');\n\nvar _internalProtoAccess = require('./internal/proto-access');\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {\n    return;\n  }\n\n  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {\n    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n        compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n    throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n  } else {\n    // Use the embedded version info since the runtime doesn't know about this revision yet\n    throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n  }\n}\n\nfunction template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2['default']('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as pseudo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\n    var extendedOptions = Utils.extend({}, options, {\n      hooks: this.hooks,\n      protoAccessControl: this.protoAccessControl\n    });\n\n    var result = env.VM.invokePartial.call(this, partial, context, extendedOptions);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, extendedOptions);\n    }\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split('\\n');\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  var container = {\n    strict: function strict(obj, name, loc) {\n      if (!obj || !(name in obj)) {\n        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj, {\n          loc: loc\n        });\n      }\n      return obj[name];\n    },\n    lookupProperty: function lookupProperty(parent, propertyName) {\n      var result = parent[propertyName];\n      if (result == null) {\n        return result;\n      }\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return result;\n      }\n\n      if (_internalProtoAccess.resultIsAllowed(result, container.protoAccessControl, propertyName)) {\n        return result;\n      }\n      return undefined;\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n      for (var i = 0; i < len; i++) {\n        var result = depths[i] && container.lookupProperty(depths[i], name);\n        if (result != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    mergeIfNeeded: function mergeIfNeeded(param, common) {\n      var obj = param || common;\n\n      if (param && common && param !== common) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context /*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      var mergedHelpers = Utils.extend({}, env.helpers, options.helpers);\n      wrapHelpersToPassLookupProperty(mergedHelpers, container);\n      container.helpers = mergedHelpers;\n\n      if (templateSpec.usePartial) {\n        // Use mergeIfNeeded here to prevent compiling global partials multiple times\n        container.partials = container.mergeIfNeeded(options.partials, env.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = Utils.extend({}, env.decorators, options.decorators);\n      }\n\n      container.hooks = {};\n      container.protoAccessControl = _internalProtoAccess.createProtoAccessControl(options);\n\n      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;\n      _helpers.moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);\n      _helpers.moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);\n    } else {\n      container.protoAccessControl = options.protoAccessControl; // internal option\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n      container.hooks = options.hooks;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2['default']('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2['default']('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\n/**\n * This is currently part of the official API, therefore implementation details should not be changed.\n */\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data);\n      // Wrapper function to get access to currentPartialBlock from the closure\n      var fn = options.fn;\n      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n        options.data = _base.createFrame(options.data);\n        options.data['partial-block'] = currentPartialBlock;\n        return fn(context, options);\n      };\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n\nfunction wrapHelpersToPassLookupProperty(mergedHelpers, container) {\n  Object.keys(mergedHelpers).forEach(function (helperName) {\n    var helper = mergedHelpers[helperName];\n    mergedHelpers[helperName] = passLookupPropertyOption(helper, container);\n  });\n}\n\nfunction passLookupPropertyOption(helper, container) {\n  var lookupProperty = container.lookupProperty;\n  return _internalWrapHelper.wrapHelper(helper, function (options) {\n    return Utils.extend({ lookupProperty: lookupProperty }, options);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQXVCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBTTVCLFFBQVE7O3VCQUNtQixXQUFXOztrQ0FDbEIsdUJBQXVCOzttQ0FJM0MseUJBQXlCOztBQUV6QixTQUFTLGFBQWEsQ0FBQyxZQUFZLEVBQUU7QUFDMUMsTUFBTSxnQkFBZ0IsR0FBRyxBQUFDLFlBQVksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUssQ0FBQztNQUM3RCxlQUFlLDBCQUFvQixDQUFDOztBQUV0QyxNQUNFLGdCQUFnQiwyQ0FBcUMsSUFDckQsZ0JBQWdCLDJCQUFxQixFQUNyQztBQUNBLFdBQU87R0FDUjs7QUFFRCxNQUFJLGdCQUFnQiwwQ0FBb0MsRUFBRTtBQUN4RCxRQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1FBQ3ZELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3hELFVBQU0sMkJBQ0oseUZBQXlGLEdBQ3ZGLHFEQUFxRCxHQUNyRCxlQUFlLEdBQ2YsbURBQW1ELEdBQ25ELGdCQUFnQixHQUNoQixJQUFJLENBQ1AsQ0FBQztHQUNILE1BQU07O0FBRUwsVUFBTSwyQkFDSix3RkFBd0YsR0FDdEYsaURBQWlELEdBQ2pELFlBQVksQ0FBQyxDQUFDLENBQUMsR0FDZixJQUFJLENBQ1AsQ0FBQztHQUNIO0NBQ0Y7O0FBRU0sU0FBUyxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTs7QUFFMUMsTUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNSLFVBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztHQUMxRDtBQUNELE1BQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFO0FBQ3ZDLFVBQU0sMkJBQWMsMkJBQTJCLEdBQUcsT0FBTyxZQUFZLENBQUMsQ0FBQztH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LE1BQU0sQ0FBQyxFQUFFLGNBQWMsRUFBZCxjQUFjLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztHQUNsRCxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJydW50aW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vZXhjZXB0aW9uJztcbmltcG9ydCB7XG4gIENPTVBJTEVSX1JFVklTSU9OLFxuICBjcmVhdGVGcmFtZSxcbiAgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OLFxuICBSRVZJU0lPTl9DSEFOR0VTXG59IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBtb3ZlSGVscGVyVG9Ib29rcyB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyB3cmFwSGVscGVyIH0gZnJvbSAnLi9pbnRlcm5hbC93cmFwSGVscGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZVByb3RvQWNjZXNzQ29udHJvbCxcbiAgcmVzdWx0SXNBbGxvd2VkXG59IGZyb20gJy4vaW50ZXJuYWwvcHJvdG8tYWNjZXNzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSAoY29tcGlsZXJJbmZvICYmIGNvbXBpbGVySW5mb1swXSkgfHwgMSxcbiAgICBjdXJyZW50UmV2aXNpb24gPSBDT01QSUxFUl9SRVZJU0lPTjtcblxuICBpZiAoXG4gICAgY29tcGlsZXJSZXZpc2lvbiA+PSBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gJiZcbiAgICBjb21waWxlclJldmlzaW9uIDw9IENPTVBJTEVSX1JFVklTSU9OXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb21waWxlclJldmlzaW9uIDwgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OKSB7XG4gICAgY29uc3QgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgK1xuICAgICAgICBydW50aW1lVmVyc2lvbnMgK1xuICAgICAgICAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgK1xuICAgICAgICBjb21waWxlclZlcnNpb25zICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gb2YgSGFuZGxlYmFycyB0aGFuIHRoZSBjdXJyZW50IHJ1bnRpbWUuICcgK1xuICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICtcbiAgICAgICAgY29tcGlsZXJJbmZvWzFdICtcbiAgICAgICAgJykuJ1xuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlKHRlbXBsYXRlU3BlYywgZW52KSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghZW52KSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTm8gZW52aXJvbm1lbnQgcGFzc2VkIHRvIHRlbXBsYXRlJyk7XG4gIH1cbiAgaWYgKCF0ZW1wbGF0ZVNwZWMgfHwgIXRlbXBsYXRlU3BlYy5tYWluKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICcgKyB0eXBlb2YgdGVtcGxhdGVTcGVjKTtcbiAgfVxuXG4gIHRlbXBsYXRlU3BlYy5tYWluLmRlY29yYXRvciA9IHRlbXBsYXRlU3BlYy5tYWluX2Q7XG5cbiAgLy8gTm90ZTogVXNpbmcgZW52LlZNIHJlZmVyZW5jZXMgcmF0aGVyIHRoYW4gbG9jYWwgdmFyIHJlZmVyZW5jZXMgdGhyb3VnaG91dCB0aGlzIHNlY3Rpb24gdG8gYWxsb3dcbiAgLy8gZm9yIGV4dGVybmFsIHVzZXJzIHRvIG92ZXJyaWRlIHRoZXNlIGFzIHBzZXVkby1zdXBwb3J0ZWQgQVBJcy5cbiAgZW52LlZNLmNoZWNrUmV2aXNpb24odGVtcGxhdGVTcGVjLmNvbXBpbGVyKTtcblxuICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcHJlY29tcGlsZWQgdGVtcGxhdGVzIHdpdGggY29tcGlsZXItdmVyc2lvbiA3ICg8NC4zLjApXG4gIGNvbnN0IHRlbXBsYXRlV2FzUHJlY29tcGlsZWRXaXRoQ29tcGlsZXJWNyA9XG4gICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyICYmIHRlbXBsYXRlU3BlYy5jb21waWxlclswXSA9PT0gNztcblxuICBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsV3JhcHBlcihwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgICAgY29udGV4dCA9IFV0aWxzLmV4dGVuZCh7fSwgY29udGV4dCwgb3B0aW9ucy5oYXNoKTtcbiAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICBvcHRpb25zLmlkc1swXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGxldCBleHRlbmRlZE9wdGlvbnMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMsIHtcbiAgICAgIGhvb2tzOiB0aGlzLmhvb2tzLFxuICAgICAgcHJvdG9BY2Nlc3NDb250cm9sOiB0aGlzLnByb3RvQWNjZXNzQ29udHJvbFxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3VsdCA9IGVudi5WTS5pbnZva2VQYXJ0aWFsLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgcGFydGlhbCxcbiAgICAgIGNvbnRleHQsXG4gICAgICBleHRlbmRlZE9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0gPSBlbnYuY29tcGlsZShcbiAgICAgICAgcGFydGlhbCxcbiAgICAgICAgdGVtcGxhdGVTcGVjLmNvbXBpbGVyT3B0aW9ucyxcbiAgICAgICAgZW52XG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdKGNvbnRleHQsIGV4dGVuZGVkT3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5kZW50KSB7XG4gICAgICAgIGxldCBsaW5lcyA9IHJlc3VsdC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFsaW5lc1tpXSAmJiBpICsgMSA9PT0gbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGluZXNbaV0gPSBvcHRpb25zLmluZGVudCArIGxpbmVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcbiAgICAgICAgJ1RoZSBwYXJ0aWFsICcgK1xuICAgICAgICAgIG9wdGlvbnMubmFtZSArXG4gICAgICAgICAgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBKdXN0IGFkZCB3YXRlclxuICBsZXQgY29udGFpbmVyID0ge1xuICAgIHN0cmljdDogZnVuY3Rpb24ob2JqLCBuYW1lLCBsb2MpIHtcbiAgICAgIGlmICghb2JqIHx8ICEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaiwge1xuICAgICAgICAgIGxvYzogbG9jXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialtuYW1lXTtcbiAgICB9LFxuICAgIGxvb2t1cFByb3BlcnR5OiBmdW5jdGlvbihwYXJlbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgbGV0IHJlc3VsdCA9IHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmVudCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0SXNBbGxvd2VkKHJlc3VsdCwgY29udGFpbmVyLnByb3RvQWNjZXNzQ29udHJvbCwgcHJvcGVydHlOYW1lKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGxvb2t1cDogZnVuY3Rpb24oZGVwdGhzLCBuYW1lKSB7XG4gICAgICBjb25zdCBsZW4gPSBkZXB0aHMubGVuZ3RoO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gZGVwdGhzW2ldICYmIGNvbnRhaW5lci5sb29rdXBQcm9wZXJ0eShkZXB0aHNbaV0sIG5hbWUpO1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZGVwdGhzW2ldW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYW1iZGE6IGZ1bmN0aW9uKGN1cnJlbnQsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudCA9PT0gJ2Z1bmN0aW9uJyA/IGN1cnJlbnQuY2FsbChjb250ZXh0KSA6IGN1cnJlbnQ7XG4gICAgfSxcblxuICAgIGVzY2FwZUV4cHJlc3Npb246IFV0aWxzLmVzY2FwZUV4cHJlc3Npb24sXG4gICAgaW52b2tlUGFydGlhbDogaW52b2tlUGFydGlhbFdyYXBwZXIsXG5cbiAgICBmbjogZnVuY3Rpb24oaSkge1xuICAgICAgbGV0IHJldCA9IHRlbXBsYXRlU3BlY1tpXTtcbiAgICAgIHJldC5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWNbaSArICdfZCddO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgcHJvZ3JhbXM6IFtdLFxuICAgIHByb2dyYW06IGZ1bmN0aW9uKGksIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICAgIGxldCBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0sXG4gICAgICAgIGZuID0gdGhpcy5mbihpKTtcbiAgICAgIGlmIChkYXRhIHx8IGRlcHRocyB8fCBibG9ja1BhcmFtcyB8fCBkZWNsYXJlZEJsb2NrUGFyYW1zKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gd3JhcFByb2dyYW0oXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIGZuLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgZGVjbGFyZWRCbG9ja1BhcmFtcyxcbiAgICAgICAgICBibG9ja1BhcmFtcyxcbiAgICAgICAgICBkZXB0aHNcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoIXByb2dyYW1XcmFwcGVyKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSA9IHdyYXBQcm9ncmFtKHRoaXMsIGksIGZuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9ncmFtV3JhcHBlcjtcbiAgICB9LFxuXG4gICAgZGF0YTogZnVuY3Rpb24odmFsdWUsIGRlcHRoKSB7XG4gICAgICB3aGlsZSAodmFsdWUgJiYgZGVwdGgtLSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLl9wYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBtZXJnZUlmTmVlZGVkOiBmdW5jdGlvbihwYXJhbSwgY29tbW9uKSB7XG4gICAgICBsZXQgb2JqID0gcGFyYW0gfHwgY29tbW9uO1xuXG4gICAgICBpZiAocGFyYW0gJiYgY29tbW9uICYmIHBhcmFtICE9PSBjb21tb24pIHtcbiAgICAgICAgb2JqID0gVXRpbHMuZXh0ZW5kKHt9LCBjb21tb24sIHBhcmFtKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIC8vIEFuIGVtcHR5IG9iamVjdCB0byB1c2UgYXMgcmVwbGFjZW1lbnQgZm9yIG51bGwtY29udGV4dHNcbiAgICBudWxsQ29udGV4dDogT2JqZWN0LnNlYWwoe30pLFxuXG4gICAgbm9vcDogZW52LlZNLm5vb3AsXG4gICAgY29tcGlsZXJJbmZvOiB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJcbiAgfTtcblxuICBmdW5jdGlvbiByZXQoY29udGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG5cbiAgICByZXQuX3NldHVwKG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsICYmIHRlbXBsYXRlU3BlYy51c2VEYXRhKSB7XG4gICAgICBkYXRhID0gaW5pdERhdGEoY29udGV4dCwgZGF0YSk7XG4gICAgfVxuICAgIGxldCBkZXB0aHMsXG4gICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZXB0aHMpIHtcbiAgICAgICAgZGVwdGhzID1cbiAgICAgICAgICBjb250ZXh0ICE9IG9wdGlvbnMuZGVwdGhzWzBdXG4gICAgICAgICAgICA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpXG4gICAgICAgICAgICA6IG9wdGlvbnMuZGVwdGhzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVwdGhzID0gW2NvbnRleHRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1haW4oY29udGV4dCAvKiwgb3B0aW9ucyovKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAnJyArXG4gICAgICAgIHRlbXBsYXRlU3BlYy5tYWluKFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIGNvbnRhaW5lci5oZWxwZXJzLFxuICAgICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGJsb2NrUGFyYW1zLFxuICAgICAgICAgIGRlcHRoc1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIG1haW4gPSBleGVjdXRlRGVjb3JhdG9ycyhcbiAgICAgIHRlbXBsYXRlU3BlYy5tYWluLFxuICAgICAgbWFpbixcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG9wdGlvbnMuZGVwdGhzIHx8IFtdLFxuICAgICAgZGF0YSxcbiAgICAgIGJsb2NrUGFyYW1zXG4gICAgKTtcbiAgICByZXR1cm4gbWFpbihjb250ZXh0LCBvcHRpb25zKTtcbiAgfVxuXG4gIHJldC5pc1RvcCA9IHRydWU7XG5cbiAgcmV0Ll9zZXR1cCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCkge1xuICAgICAgbGV0IG1lcmdlZEhlbHBlcnMgPSBVdGlscy5leHRlbmQoe30sIGVudi5oZWxwZXJzLCBvcHRpb25zLmhlbHBlcnMpO1xuICAgICAgd3JhcEhlbHBlcnNUb1Bhc3NMb29rdXBQcm9wZXJ0eShtZXJnZWRIZWxwZXJzLCBjb250YWluZXIpO1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBtZXJnZWRIZWxwZXJzO1xuXG4gICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZVBhcnRpYWwpIHtcbiAgICAgICAgLy8gVXNlIG1lcmdlSWZOZWVkZWQgaGVyZSB0byBwcmV2ZW50IGNvbXBpbGluZyBnbG9iYWwgcGFydGlhbHMgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gY29udGFpbmVyLm1lcmdlSWZOZWVkZWQoXG4gICAgICAgICAgb3B0aW9ucy5wYXJ0aWFscyxcbiAgICAgICAgICBlbnYucGFydGlhbHNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCB8fCB0ZW1wbGF0ZVNwZWMudXNlRGVjb3JhdG9ycykge1xuICAgICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IFV0aWxzLmV4dGVuZChcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBlbnYuZGVjb3JhdG9ycyxcbiAgICAgICAgICBvcHRpb25zLmRlY29yYXRvcnNcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29udGFpbmVyLmhvb2tzID0ge307XG4gICAgICBjb250YWluZXIucHJvdG9BY2Nlc3NDb250cm9sID0gY3JlYXRlUHJvdG9BY2Nlc3NDb250cm9sKG9wdGlvbnMpO1xuXG4gICAgICBsZXQga2VlcEhlbHBlckluSGVscGVycyA9XG4gICAgICAgIG9wdGlvbnMuYWxsb3dDYWxsc1RvSGVscGVyTWlzc2luZyB8fFxuICAgICAgICB0ZW1wbGF0ZVdhc1ByZWNvbXBpbGVkV2l0aENvbXBpbGVyVjc7XG4gICAgICBtb3ZlSGVscGVyVG9Ib29rcyhjb250YWluZXIsICdoZWxwZXJNaXNzaW5nJywga2VlcEhlbHBlckluSGVscGVycyk7XG4gICAgICBtb3ZlSGVscGVyVG9Ib29rcyhjb250YWluZXIsICdibG9ja0hlbHBlck1pc3NpbmcnLCBrZWVwSGVscGVySW5IZWxwZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLnByb3RvQWNjZXNzQ29udHJvbCA9IG9wdGlvbnMucHJvdG9BY2Nlc3NDb250cm9sOyAvLyBpbnRlcm5hbCBvcHRpb25cbiAgICAgIGNvbnRhaW5lci5oZWxwZXJzID0gb3B0aW9ucy5oZWxwZXJzO1xuICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3B0aW9ucy5wYXJ0aWFscztcbiAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gb3B0aW9ucy5kZWNvcmF0b3JzO1xuICAgICAgY29udGFpbmVyLmhvb2tzID0gb3B0aW9ucy5ob29rcztcbiAgICB9XG4gIH07XG5cbiAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zICYmICFibG9ja1BhcmFtcykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIGJsb2NrIHBhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocyAmJiAhZGVwdGhzKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdtdXN0IHBhc3MgcGFyZW50IGRlcHRocycpO1xuICAgIH1cblxuICAgIHJldHVybiB3cmFwUHJvZ3JhbShcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGksXG4gICAgICB0ZW1wbGF0ZVNwZWNbaV0sXG4gICAgICBkYXRhLFxuICAgICAgMCxcbiAgICAgIGJsb2NrUGFyYW1zLFxuICAgICAgZGVwdGhzXG4gICAgKTtcbiAgfTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBQcm9ncmFtKFxuICBjb250YWluZXIsXG4gIGksXG4gIGZuLFxuICBkYXRhLFxuICBkZWNsYXJlZEJsb2NrUGFyYW1zLFxuICBibG9ja1BhcmFtcyxcbiAgZGVwdGhzXG4pIHtcbiAgZnVuY3Rpb24gcHJvZyhjb250ZXh0LCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgY3VycmVudERlcHRocyA9IGRlcHRocztcbiAgICBpZiAoXG4gICAgICBkZXB0aHMgJiZcbiAgICAgIGNvbnRleHQgIT0gZGVwdGhzWzBdICYmXG4gICAgICAhKGNvbnRleHQgPT09IGNvbnRhaW5lci5udWxsQ29udGV4dCAmJiBkZXB0aHNbMF0gPT09IG51bGwpXG4gICAgKSB7XG4gICAgICBjdXJyZW50RGVwdGhzID0gW2NvbnRleHRdLmNvbmNhdChkZXB0aHMpO1xuICAgIH1cblxuICAgIHJldHVybiBmbihcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb250YWluZXIuaGVscGVycyxcbiAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyxcbiAgICAgIG9wdGlvbnMuZGF0YSB8fCBkYXRhLFxuICAgICAgYmxvY2tQYXJhbXMgJiYgW29wdGlvbnMuYmxvY2tQYXJhbXNdLmNvbmNhdChibG9ja1BhcmFtcyksXG4gICAgICBjdXJyZW50RGVwdGhzXG4gICAgKTtcbiAgfVxuXG4gIHByb2cgPSBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKTtcblxuICBwcm9nLnByb2dyYW0gPSBpO1xuICBwcm9nLmRlcHRoID0gZGVwdGhzID8gZGVwdGhzLmxlbmd0aCA6IDA7XG4gIHByb2cuYmxvY2tQYXJhbXMgPSBkZWNsYXJlZEJsb2NrUGFyYW1zIHx8IDA7XG4gIHJldHVybiBwcm9nO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgY3VycmVudGx5IHBhcnQgb2YgdGhlIG9mZmljaWFsIEFQSSwgdGhlcmVmb3JlIGltcGxlbWVudGF0aW9uIGRldGFpbHMgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVBhcnRpYWwocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICBpZiAoIXBhcnRpYWwpIHtcbiAgICBpZiAob3B0aW9ucy5uYW1lID09PSAnQHBhcnRpYWwtYmxvY2snKSB7XG4gICAgICBwYXJ0aWFsID0gb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ107XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRpYWwgPSBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV07XG4gICAgfVxuICB9IGVsc2UgaWYgKCFwYXJ0aWFsLmNhbGwgJiYgIW9wdGlvbnMubmFtZSkge1xuICAgIC8vIFRoaXMgaXMgYSBkeW5hbWljIHBhcnRpYWwgdGhhdCByZXR1cm5lZCBhIHN0cmluZ1xuICAgIG9wdGlvbnMubmFtZSA9IHBhcnRpYWw7XG4gICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbcGFydGlhbF07XG4gIH1cbiAgcmV0dXJuIHBhcnRpYWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgLy8gVXNlIHRoZSBjdXJyZW50IGNsb3N1cmUgY29udGV4dCB0byBzYXZlIHRoZSBwYXJ0aWFsLWJsb2NrIGlmIHRoaXMgcGFydGlhbFxuICBjb25zdCBjdXJyZW50UGFydGlhbEJsb2NrID0gb3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuICBvcHRpb25zLnBhcnRpYWwgPSB0cnVlO1xuICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICBvcHRpb25zLmRhdGEuY29udGV4dFBhdGggPSBvcHRpb25zLmlkc1swXSB8fCBvcHRpb25zLmRhdGEuY29udGV4dFBhdGg7XG4gIH1cblxuICBsZXQgcGFydGlhbEJsb2NrO1xuICBpZiAob3B0aW9ucy5mbiAmJiBvcHRpb25zLmZuICE9PSBub29wKSB7XG4gICAgb3B0aW9ucy5kYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAvLyBXcmFwcGVyIGZ1bmN0aW9uIHRvIGdldCBhY2Nlc3MgdG8gY3VycmVudFBhcnRpYWxCbG9jayBmcm9tIHRoZSBjbG9zdXJlXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbjtcbiAgICBwYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGZ1bmN0aW9uIHBhcnRpYWxCbG9ja1dyYXBwZXIoXG4gICAgICBjb250ZXh0LFxuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgKSB7XG4gICAgICAvLyBSZXN0b3JlIHRoZSBwYXJ0aWFsLWJsb2NrIGZyb20gdGhlIGNsb3N1cmUgZm9yIHRoZSBleGVjdXRpb24gb2YgdGhlIGJsb2NrXG4gICAgICAvLyBpLmUuIHRoZSBwYXJ0IGluc2lkZSB0aGUgYmxvY2sgb2YgdGhlIHBhcnRpYWwgY2FsbC5cbiAgICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGN1cnJlbnRQYXJ0aWFsQmxvY2s7XG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpZiAoZm4ucGFydGlhbHMpIHtcbiAgICAgIG9wdGlvbnMucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMucGFydGlhbHMsIGZuLnBhcnRpYWxzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkICYmIHBhcnRpYWxCbG9jaykge1xuICAgIHBhcnRpYWwgPSBwYXJ0aWFsQmxvY2s7XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gIH0gZWxzZSBpZiAocGFydGlhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIHBhcnRpYWwoY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7XG4gIHJldHVybiAnJztcbn1cblxuZnVuY3Rpb24gaW5pdERhdGEoY29udGV4dCwgZGF0YSkge1xuICBpZiAoIWRhdGEgfHwgISgncm9vdCcgaW4gZGF0YSkpIHtcbiAgICBkYXRhID0gZGF0YSA/IGNyZWF0ZUZyYW1lKGRhdGEpIDoge307XG4gICAgZGF0YS5yb290ID0gY29udGV4dDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcykge1xuICBpZiAoZm4uZGVjb3JhdG9yKSB7XG4gICAgbGV0IHByb3BzID0ge307XG4gICAgcHJvZyA9IGZuLmRlY29yYXRvcihcbiAgICAgIHByb2csXG4gICAgICBwcm9wcyxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGRlcHRocyAmJiBkZXB0aHNbMF0sXG4gICAgICBkYXRhLFxuICAgICAgYmxvY2tQYXJhbXMsXG4gICAgICBkZXB0aHNcbiAgICApO1xuICAgIFV0aWxzLmV4dGVuZChwcm9nLCBwcm9wcyk7XG4gIH1cbiAgcmV0dXJuIHByb2c7XG59XG5cbmZ1bmN0aW9uIHdyYXBIZWxwZXJzVG9QYXNzTG9va3VwUHJvcGVydHkobWVyZ2VkSGVscGVycywgY29udGFpbmVyKSB7XG4gIE9iamVjdC5rZXlzKG1lcmdlZEhlbHBlcnMpLmZvckVhY2goaGVscGVyTmFtZSA9PiB7XG4gICAgbGV0IGhlbHBlciA9IG1lcmdlZEhlbHBlcnNbaGVscGVyTmFtZV07XG4gICAgbWVyZ2VkSGVscGVyc1toZWxwZXJOYW1lXSA9IHBhc3NMb29rdXBQcm9wZXJ0eU9wdGlvbihoZWxwZXIsIGNvbnRhaW5lcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwYXNzTG9va3VwUHJvcGVydHlPcHRpb24oaGVscGVyLCBjb250YWluZXIpIHtcbiAgY29uc3QgbG9va3VwUHJvcGVydHkgPSBjb250YWluZXIubG9va3VwUHJvcGVydHk7XG4gIHJldHVybiB3cmFwSGVscGVyKGhlbHBlciwgb3B0aW9ucyA9PiB7XG4gICAgcmV0dXJuIFV0aWxzLmV4dGVuZCh7IGxvb2t1cFByb3BlcnR5IH0sIG9wdGlvbnMpO1xuICB9KTtcbn1cbiJdfQ==\n","// Build out our basic SafeString type\n'use strict';\n\nexports.__esModule = true;\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return '' + this.string;\n};\n\nexports['default'] = SafeString;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDMUIsTUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDdEI7O0FBRUQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2RSxTQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0NBQ3pCLENBQUM7O3FCQUVhLFVBQVUiLCJmaWxlIjoic2FmZS1zdHJpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZVN0cmluZztcbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.extend = extend;\nexports.indexOf = indexOf;\nexports.escapeExpression = escapeExpression;\nexports.isEmpty = isEmpty;\nexports.createFrame = createFrame;\nexports.blockParams = blockParams;\nexports.appendContextPath = appendContextPath;\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nvar badChars = /[&<>\"'`=]/g,\n    possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj /* , ...source */) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\n\nexports.toString = toString;\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  exports.isFunction = isFunction = function (value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexports.isFunction = isFunction;\n\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n};\n\nexports.isArray = isArray;\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNLE1BQU0sR0FBRztBQUNiLEtBQUcsRUFBRSxPQUFPO0FBQ1osS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsTUFBTTtBQUNYLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0NBQ2QsQ0FBQzs7QUFFRixJQUFNLFFBQVEsR0FBRyxZQUFZO0lBQzNCLFFBQVEsR0FBRyxXQUFXLENBQUM7O0FBRXpCLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN2QixTQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNwQjs7QUFFTSxTQUFTLE1BQU0sQ0FBQyxHQUFHLG9CQUFvQjtBQUM1QyxPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN6QyxTQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUM1QixVQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDM0QsV0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztPQUM5QjtLQUNGO0dBQ0Y7O0FBRUQsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFTSxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzs7Ozs7O0FBS2hELElBQUksVUFBVSxHQUFHLG9CQUFTLEtBQUssRUFBRTtBQUMvQixTQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsQ0FBQztDQUNwQyxDQUFDOzs7QUFHRixJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNuQixVQU9PLFVBQVUsR0FQakIsVUFBVSxHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQzNCLFdBQ0UsT0FBTyxLQUFLLEtBQUssVUFBVSxJQUMzQixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLG1CQUFtQixDQUM1QztHQUNILENBQUM7Q0FDSDtRQUNRLFVBQVUsR0FBVixVQUFVOzs7OztBQUlaLElBQU0sT0FBTyxHQUNsQixLQUFLLENBQUMsT0FBTyxJQUNiLFVBQVMsS0FBSyxFQUFFO0FBQ2QsU0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxHQUNyQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLGdCQUFnQixHQUN6QyxLQUFLLENBQUM7Q0FDWCxDQUFDOzs7OztBQUdHLFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDcEMsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNoRCxRQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFDdEIsYUFBTyxDQUFDLENBQUM7S0FDVjtHQUNGO0FBQ0QsU0FBTyxDQUFDLENBQUMsQ0FBQztDQUNYOztBQUVNLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFO0FBQ3ZDLE1BQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFOztBQUU5QixRQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzNCLGFBQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQ3hCLE1BQU0sSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0FBQ3pCLGFBQU8sRUFBRSxDQUFDO0tBQ1gsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGFBQU8sTUFBTSxHQUFHLEVBQUUsQ0FBQztLQUNwQjs7Ozs7QUFLRCxVQUFNLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQztHQUN0Qjs7QUFFRCxNQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUMxQixXQUFPLE1BQU0sQ0FBQztHQUNmO0FBQ0QsU0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztDQUM3Qzs7QUFFTSxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUU7QUFDN0IsTUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ3pCLFdBQU8sSUFBSSxDQUFDO0dBQ2IsTUFBTSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUMvQyxXQUFPLElBQUksQ0FBQztHQUNiLE1BQU07QUFDTCxXQUFPLEtBQUssQ0FBQztHQUNkO0NBQ0Y7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFO0FBQ2xDLE1BQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0IsT0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDdkIsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFTSxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3ZDLFFBQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFNBQU8sTUFBTSxDQUFDO0NBQ2Y7O0FBRU0sU0FBUyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFO0FBQ2pELFNBQU8sQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUEsR0FBSSxFQUFFLENBQUM7Q0FDcEQiLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gIHBvc3NpYmxlID0gL1smPD5cIidgPV0vO1xuXG5mdW5jdGlvbiBlc2NhcGVDaGFyKGNocikge1xuICByZXR1cm4gZXNjYXBlW2Nocl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQob2JqIC8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSdcbiAgICApO1xuICB9O1xufVxuZXhwb3J0IHsgaXNGdW5jdGlvbiB9O1xuLyogZXNsaW50LWVuYWJsZSBmdW5jLXN0eWxlICovXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgY29uc3QgaXNBcnJheSA9XG4gIEFycmF5LmlzQXJyYXkgfHxcbiAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xuICAgICAgPyB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuLy8gT2xkZXIgSUUgdmVyc2lvbnMgZG8gbm90IGRpcmVjdGx5IHN1cHBvcnQgaW5kZXhPZiBzbyB3ZSBtdXN0IGltcGxlbWVudCBvdXIgb3duLCBzYWRseS5cbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoYXJyYXlbaV0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGJhZENoYXJzLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJhbWUob2JqZWN0KSB7XG4gIGxldCBmcmFtZSA9IGV4dGVuZCh7fSwgb2JqZWN0KTtcbiAgZnJhbWUuX3BhcmVudCA9IG9iamVjdDtcbiAgcmV0dXJuIGZyYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxvY2tQYXJhbXMocGFyYW1zLCBpZHMpIHtcbiAgcGFyYW1zLnBhdGggPSBpZHM7XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRDb250ZXh0UGF0aChjb250ZXh0UGF0aCwgaWQpIHtcbiAgcmV0dXJuIChjb250ZXh0UGF0aCA/IGNvbnRleHRQYXRoICsgJy4nIDogJycpICsgaWQ7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar addEventListener = exports.addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nvar removeEventListener = exports.removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\nvar getConfirmation = exports.getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = exports.supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopStateOnHashChange = exports.supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = exports.supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\nvar isExtraneousPopstateEvent = exports.isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};","'use strict';\n\nexports.__esModule = true;\nexports.locationsAreEqual = exports.createLocation = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _resolvePathname = require('resolve-pathname');\n\nvar _resolvePathname2 = _interopRequireDefault(_resolvePathname);\n\nvar _valueEqual = require('value-equal');\n\nvar _valueEqual2 = _interopRequireDefault(_valueEqual);\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createLocation = exports.createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = (0, _PathUtils.parsePath)(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = (0, _resolvePathname2.default)(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n};\n\nvar locationsAreEqual = exports.locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && (0, _valueEqual2.default)(a.state, b.state);\n};","'use strict';\n\nexports.__esModule = true;\nvar addLeadingSlash = exports.addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nvar stripLeadingSlash = exports.stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\n\nvar hasBasename = exports.hasBasename = function hasBasename(path, prefix) {\n  return new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path);\n};\n\nvar stripBasename = exports.stripBasename = function stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\n\nvar stripTrailingSlash = exports.stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\n\nvar parsePath = exports.parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\n\nvar createPath = exports.createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n\n\n  var path = pathname || '/';\n\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n\n  return path;\n};","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = require('./DOMUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Browser history needs a DOM');\n\n  var globalHistory = window.history;\n  var canUseHistory = (0, _DOMUtils.supportsHistory)();\n  var needsHashChangeListener = !(0, _DOMUtils.supportsPopStateOnHashChange)();\n\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n\n\n    var path = pathname + search + hash;\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) return;\n\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + (0, _PathUtils.createPath)(location);\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.pushState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.replaceState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createBrowserHistory;","'use strict';\n\nexports.__esModule = true;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createTransitionManager = function createTransitionManager() {\n  var prompt = null;\n\n  var setPrompt = function setPrompt(nextPrompt) {\n    (0, _warning2.default)(prompt == null, 'A history supports only one prompt at a time');\n\n    prompt = nextPrompt;\n\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          (0, _warning2.default)(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n\n  var listeners = [];\n\n  var appendListener = function appendListener(fn) {\n    var isActive = true;\n\n    var listener = function listener() {\n      if (isActive) fn.apply(undefined, arguments);\n    };\n\n    listeners.push(listener);\n\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var notifyListeners = function notifyListeners() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(undefined, args);\n    });\n  };\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n};\n\nexports.default = createTransitionManager;","/*** IMPORTS FROM imports-loader ***/\nvar define = false;\nvar exports = false;\n\n/*\n * jQuery File Upload Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/* jshint nomen:false */\n/* global define, require, window, document, location, Blob, FormData */\n\n;(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define([\n            'jquery',\n            'jquery-ui/widget'\n        ], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS:\n        factory(\n            require('jquery'),\n            require('./vendor/jquery.ui.widget')\n        );\n    } else {\n        // Browser globals:\n        factory(window.jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    // Detect file input support, based on\n    // http://viljamis.com/blog/2012/file-upload-support-on-mobile/\n    $.support.fileInput = !(new RegExp(\n        // Handle devices which give false positives for the feature detection:\n        '(Android (1\\\\.[0156]|2\\\\.[01]))' +\n            '|(Windows Phone (OS 7|8\\\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)' +\n            '|(w(eb)?OSBrowser)|(webOS)' +\n            '|(Kindle/(1\\\\.0|2\\\\.[05]|3\\\\.0))'\n    ).test(window.navigator.userAgent) ||\n        // Feature detection for all other devices:\n        $('<input type=\"file\">').prop('disabled'));\n\n    // The FileReader API is not actually used, but works as feature detection,\n    // as some Safari versions (5?) support XHR file uploads via the FormData API,\n    // but not non-multipart XHR file uploads.\n    // window.XMLHttpRequestUpload is not available on IE10, so we check for\n    // window.ProgressEvent instead to detect XHR2 file upload capability:\n    $.support.xhrFileUpload = !!(window.ProgressEvent && window.FileReader);\n    $.support.xhrFormDataFileUpload = !!window.FormData;\n\n    // Detect support for Blob slicing (required for chunked uploads):\n    $.support.blobSlice = window.Blob && (Blob.prototype.slice ||\n        Blob.prototype.webkitSlice || Blob.prototype.mozSlice);\n\n    // Helper function to create drag handlers for dragover/dragenter/dragleave:\n    function getDragHandler(type) {\n        var isDragOver = type === 'dragover';\n        return function (e) {\n            e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n            var dataTransfer = e.dataTransfer;\n            if (dataTransfer && $.inArray('Files', dataTransfer.types) !== -1 &&\n                    this._trigger(\n                        type,\n                        $.Event(type, {delegatedEvent: e})\n                    ) !== false) {\n                e.preventDefault();\n                if (isDragOver) {\n                    dataTransfer.dropEffect = 'copy';\n                }\n            }\n        };\n    }\n\n    // The fileupload widget listens for change events on file input fields defined\n    // via fileInput setting and paste or drop events of the given dropZone.\n    // In addition to the default jQuery Widget methods, the fileupload widget\n    // exposes the \"add\" and \"send\" methods, to add or directly send files using\n    // the fileupload API.\n    // By default, files added via file input selection, paste, drag & drop or\n    // \"add\" method are uploaded immediately, but it is possible to override\n    // the \"add\" callback option to queue file uploads.\n    $.widget('blueimp.fileupload', {\n\n        options: {\n            // The drop target element(s), by the default the complete document.\n            // Set to null to disable drag & drop support:\n            dropZone: $(document),\n            // The paste target element(s), by the default undefined.\n            // Set to a DOM node or jQuery object to enable file pasting:\n            pasteZone: undefined,\n            // The file input field(s), that are listened to for change events.\n            // If undefined, it is set to the file input fields inside\n            // of the widget element on plugin initialization.\n            // Set to null to disable the change listener.\n            fileInput: undefined,\n            // By default, the file input field is replaced with a clone after\n            // each input field change event. This is required for iframe transport\n            // queues and allows change events to be fired for the same file\n            // selection, but can be disabled by setting the following option to false:\n            replaceFileInput: true,\n            // The parameter name for the file form data (the request argument name).\n            // If undefined or empty, the name property of the file input field is\n            // used, or \"files[]\" if the file input name property is also empty,\n            // can be a string or an array of strings:\n            paramName: undefined,\n            // By default, each file of a selection is uploaded using an individual\n            // request for XHR type uploads. Set to false to upload file\n            // selections in one request each:\n            singleFileUploads: true,\n            // To limit the number of files uploaded with one XHR request,\n            // set the following option to an integer greater than 0:\n            limitMultiFileUploads: undefined,\n            // The following option limits the number of files uploaded with one\n            // XHR request to keep the request size under or equal to the defined\n            // limit in bytes:\n            limitMultiFileUploadSize: undefined,\n            // Multipart file uploads add a number of bytes to each uploaded file,\n            // therefore the following option adds an overhead for each file used\n            // in the limitMultiFileUploadSize configuration:\n            limitMultiFileUploadSizeOverhead: 512,\n            // Set the following option to true to issue all file upload requests\n            // in a sequential order:\n            sequentialUploads: false,\n            // To limit the number of concurrent uploads,\n            // set the following option to an integer greater than 0:\n            limitConcurrentUploads: undefined,\n            // Set the following option to true to force iframe transport uploads:\n            forceIframeTransport: false,\n            // Set the following option to the location of a redirect url on the\n            // origin server, for cross-domain iframe transport uploads:\n            redirect: undefined,\n            // The parameter name for the redirect url, sent as part of the form\n            // data and set to 'redirect' if this option is empty:\n            redirectParamName: undefined,\n            // Set the following option to the location of a postMessage window,\n            // to enable postMessage transport uploads:\n            postMessage: undefined,\n            // By default, XHR file uploads are sent as multipart/form-data.\n            // The iframe transport is always using multipart/form-data.\n            // Set to false to enable non-multipart XHR uploads:\n            multipart: true,\n            // To upload large files in smaller chunks, set the following option\n            // to a preferred maximum chunk size. If set to 0, null or undefined,\n            // or the browser does not support the required Blob API, files will\n            // be uploaded as a whole.\n            maxChunkSize: undefined,\n            // When a non-multipart upload or a chunked multipart upload has been\n            // aborted, this option can be used to resume the upload by setting\n            // it to the size of the already uploaded bytes. This option is most\n            // useful when modifying the options object inside of the \"add\" or\n            // \"send\" callbacks, as the options are cloned for each file upload.\n            uploadedBytes: undefined,\n            // By default, failed (abort or error) file uploads are removed from the\n            // global progress calculation. Set the following option to false to\n            // prevent recalculating the global progress data:\n            recalculateProgress: true,\n            // Interval in milliseconds to calculate and trigger progress events:\n            progressInterval: 100,\n            // Interval in milliseconds to calculate progress bitrate:\n            bitrateInterval: 500,\n            // By default, uploads are started automatically when adding files:\n            autoUpload: true,\n\n            // Error and info messages:\n            messages: {\n                uploadedBytes: 'Uploaded bytes exceed file size'\n            },\n\n            // Translation function, gets the message key to be translated\n            // and an object with context specific data as arguments:\n            i18n: function (message, context) {\n                message = this.messages[message] || message.toString();\n                if (context) {\n                    $.each(context, function (key, value) {\n                        message = message.replace('{' + key + '}', value);\n                    });\n                }\n                return message;\n            },\n\n            // Additional form data to be sent along with the file uploads can be set\n            // using this option, which accepts an array of objects with name and\n            // value properties, a function returning such an array, a FormData\n            // object (for XHR file uploads), or a simple object.\n            // The form of the first fileInput is given as parameter to the function:\n            formData: function (form) {\n                return form.serializeArray();\n            },\n\n            // The add callback is invoked as soon as files are added to the fileupload\n            // widget (via file input selection, drag & drop, paste or add API call).\n            // If the singleFileUploads option is enabled, this callback will be\n            // called once for each file in the selection for XHR file uploads, else\n            // once for each file selection.\n            //\n            // The upload starts when the submit method is invoked on the data parameter.\n            // The data object contains a files property holding the added files\n            // and allows you to override plugin options as well as define ajax settings.\n            //\n            // Listeners for this callback can also be bound the following way:\n            // .bind('fileuploadadd', func);\n            //\n            // data.submit() returns a Promise object and allows to attach additional\n            // handlers using jQuery's Deferred callbacks:\n            // data.submit().done(func).fail(func).always(func);\n            add: function (e, data) {\n                if (e.isDefaultPrevented()) {\n                    return false;\n                }\n                if (data.autoUpload || (data.autoUpload !== false &&\n                        $(this).fileupload('option', 'autoUpload'))) {\n                    data.process().done(function () {\n                        data.submit();\n                    });\n                }\n            },\n\n            // Other callbacks:\n\n            // Callback for the submit event of each file upload:\n            // submit: function (e, data) {}, // .bind('fileuploadsubmit', func);\n\n            // Callback for the start of each file upload request:\n            // send: function (e, data) {}, // .bind('fileuploadsend', func);\n\n            // Callback for successful uploads:\n            // done: function (e, data) {}, // .bind('fileuploaddone', func);\n\n            // Callback for failed (abort or error) uploads:\n            // fail: function (e, data) {}, // .bind('fileuploadfail', func);\n\n            // Callback for completed (success, abort or error) requests:\n            // always: function (e, data) {}, // .bind('fileuploadalways', func);\n\n            // Callback for upload progress events:\n            // progress: function (e, data) {}, // .bind('fileuploadprogress', func);\n\n            // Callback for global upload progress events:\n            // progressall: function (e, data) {}, // .bind('fileuploadprogressall', func);\n\n            // Callback for uploads start, equivalent to the global ajaxStart event:\n            // start: function (e) {}, // .bind('fileuploadstart', func);\n\n            // Callback for uploads stop, equivalent to the global ajaxStop event:\n            // stop: function (e) {}, // .bind('fileuploadstop', func);\n\n            // Callback for change events of the fileInput(s):\n            // change: function (e, data) {}, // .bind('fileuploadchange', func);\n\n            // Callback for paste events to the pasteZone(s):\n            // paste: function (e, data) {}, // .bind('fileuploadpaste', func);\n\n            // Callback for drop events of the dropZone(s):\n            // drop: function (e, data) {}, // .bind('fileuploaddrop', func);\n\n            // Callback for dragover events of the dropZone(s):\n            // dragover: function (e) {}, // .bind('fileuploaddragover', func);\n\n            // Callback for the start of each chunk upload request:\n            // chunksend: function (e, data) {}, // .bind('fileuploadchunksend', func);\n\n            // Callback for successful chunk uploads:\n            // chunkdone: function (e, data) {}, // .bind('fileuploadchunkdone', func);\n\n            // Callback for failed (abort or error) chunk uploads:\n            // chunkfail: function (e, data) {}, // .bind('fileuploadchunkfail', func);\n\n            // Callback for completed (success, abort or error) chunk upload requests:\n            // chunkalways: function (e, data) {}, // .bind('fileuploadchunkalways', func);\n\n            // The plugin options are used as settings object for the ajax calls.\n            // The following are jQuery ajax settings required for the file uploads:\n            processData: false,\n            contentType: false,\n            cache: false,\n            timeout: 0\n        },\n\n        // A list of options that require reinitializing event listeners and/or\n        // special initialization code:\n        _specialOptions: [\n            'fileInput',\n            'dropZone',\n            'pasteZone',\n            'multipart',\n            'forceIframeTransport'\n        ],\n\n        _blobSlice: $.support.blobSlice && function () {\n            var slice = this.slice || this.webkitSlice || this.mozSlice;\n            return slice.apply(this, arguments);\n        },\n\n        _BitrateTimer: function () {\n            this.timestamp = ((Date.now) ? Date.now() : (new Date()).getTime());\n            this.loaded = 0;\n            this.bitrate = 0;\n            this.getBitrate = function (now, loaded, interval) {\n                var timeDiff = now - this.timestamp;\n                if (!this.bitrate || !interval || timeDiff > interval) {\n                    this.bitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;\n                    this.loaded = loaded;\n                    this.timestamp = now;\n                }\n                return this.bitrate;\n            };\n        },\n\n        _isXHRUpload: function (options) {\n            return !options.forceIframeTransport &&\n                ((!options.multipart && $.support.xhrFileUpload) ||\n                $.support.xhrFormDataFileUpload);\n        },\n\n        _getFormData: function (options) {\n            var formData;\n            if ($.type(options.formData) === 'function') {\n                return options.formData(options.form);\n            }\n            if ($.isArray(options.formData)) {\n                return options.formData;\n            }\n            if ($.type(options.formData) === 'object') {\n                formData = [];\n                $.each(options.formData, function (name, value) {\n                    formData.push({name: name, value: value});\n                });\n                return formData;\n            }\n            return [];\n        },\n\n        _getTotal: function (files) {\n            var total = 0;\n            $.each(files, function (index, file) {\n                total += file.size || 1;\n            });\n            return total;\n        },\n\n        _initProgressObject: function (obj) {\n            var progress = {\n                loaded: 0,\n                total: 0,\n                bitrate: 0\n            };\n            if (obj._progress) {\n                $.extend(obj._progress, progress);\n            } else {\n                obj._progress = progress;\n            }\n        },\n\n        _initResponseObject: function (obj) {\n            var prop;\n            if (obj._response) {\n                for (prop in obj._response) {\n                    if (obj._response.hasOwnProperty(prop)) {\n                        delete obj._response[prop];\n                    }\n                }\n            } else {\n                obj._response = {};\n            }\n        },\n\n        _onProgress: function (e, data) {\n            if (e.lengthComputable) {\n                var now = ((Date.now) ? Date.now() : (new Date()).getTime()),\n                    loaded;\n                if (data._time && data.progressInterval &&\n                        (now - data._time < data.progressInterval) &&\n                        e.loaded !== e.total) {\n                    return;\n                }\n                data._time = now;\n                loaded = Math.floor(\n                    e.loaded / e.total * (data.chunkSize || data._progress.total)\n                ) + (data.uploadedBytes || 0);\n                // Add the difference from the previously loaded state\n                // to the global loaded counter:\n                this._progress.loaded += (loaded - data._progress.loaded);\n                this._progress.bitrate = this._bitrateTimer.getBitrate(\n                    now,\n                    this._progress.loaded,\n                    data.bitrateInterval\n                );\n                data._progress.loaded = data.loaded = loaded;\n                data._progress.bitrate = data.bitrate = data._bitrateTimer.getBitrate(\n                    now,\n                    loaded,\n                    data.bitrateInterval\n                );\n                // Trigger a custom progress event with a total data property set\n                // to the file size(s) of the current upload and a loaded data\n                // property calculated accordingly:\n                this._trigger(\n                    'progress',\n                    $.Event('progress', {delegatedEvent: e}),\n                    data\n                );\n                // Trigger a global progress event for all current file uploads,\n                // including ajax calls queued for sequential file uploads:\n                this._trigger(\n                    'progressall',\n                    $.Event('progressall', {delegatedEvent: e}),\n                    this._progress\n                );\n            }\n        },\n\n        _initProgressListener: function (options) {\n            var that = this,\n                xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\n            // Accesss to the native XHR object is required to add event listeners\n            // for the upload progress event:\n            if (xhr.upload) {\n                $(xhr.upload).bind('progress', function (e) {\n                    var oe = e.originalEvent;\n                    // Make sure the progress event properties get copied over:\n                    e.lengthComputable = oe.lengthComputable;\n                    e.loaded = oe.loaded;\n                    e.total = oe.total;\n                    that._onProgress(e, options);\n                });\n                options.xhr = function () {\n                    return xhr;\n                };\n            }\n        },\n\n        _isInstanceOf: function (type, obj) {\n            // Cross-frame instanceof check\n            return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n        },\n\n        _initXHRData: function (options) {\n            var that = this,\n                formData,\n                file = options.files[0],\n                // Ignore non-multipart setting if not supported:\n                multipart = options.multipart || !$.support.xhrFileUpload,\n                paramName = $.type(options.paramName) === 'array' ?\n                    options.paramName[0] : options.paramName;\n            options.headers = $.extend({}, options.headers);\n            if (options.contentRange) {\n                options.headers['Content-Range'] = options.contentRange;\n            }\n            if (!multipart || options.blob || !this._isInstanceOf('File', file)) {\n                options.headers['Content-Disposition'] = 'attachment; filename=\"' +\n                    encodeURI(file.name) + '\"';\n            }\n            if (!multipart) {\n                options.contentType = file.type || 'application/octet-stream';\n                options.data = options.blob || file;\n            } else if ($.support.xhrFormDataFileUpload) {\n                if (options.postMessage) {\n                    // window.postMessage does not allow sending FormData\n                    // objects, so we just add the File/Blob objects to\n                    // the formData array and let the postMessage window\n                    // create the FormData object out of this array:\n                    formData = this._getFormData(options);\n                    if (options.blob) {\n                        formData.push({\n                            name: paramName,\n                            value: options.blob\n                        });\n                    } else {\n                        $.each(options.files, function (index, file) {\n                            formData.push({\n                                name: ($.type(options.paramName) === 'array' &&\n                                    options.paramName[index]) || paramName,\n                                value: file\n                            });\n                        });\n                    }\n                } else {\n                    if (that._isInstanceOf('FormData', options.formData)) {\n                        formData = options.formData;\n                    } else {\n                        formData = new FormData();\n                        $.each(this._getFormData(options), function (index, field) {\n                            formData.append(field.name, field.value);\n                        });\n                    }\n                    if (options.blob) {\n                        formData.append(paramName, options.blob, file.name);\n                    } else {\n                        $.each(options.files, function (index, file) {\n                            // This check allows the tests to run with\n                            // dummy objects:\n                            if (that._isInstanceOf('File', file) ||\n                                    that._isInstanceOf('Blob', file)) {\n                                formData.append(\n                                    ($.type(options.paramName) === 'array' &&\n                                        options.paramName[index]) || paramName,\n                                    file,\n                                    file.uploadName || file.name\n                                );\n                            }\n                        });\n                    }\n                }\n                options.data = formData;\n            }\n            // Blob reference is not needed anymore, free memory:\n            options.blob = null;\n        },\n\n        _initIframeSettings: function (options) {\n            var targetHost = $('<a></a>').prop('href', options.url).prop('host');\n            // Setting the dataType to iframe enables the iframe transport:\n            options.dataType = 'iframe ' + (options.dataType || '');\n            // The iframe transport accepts a serialized array as form data:\n            options.formData = this._getFormData(options);\n            // Add redirect url to form data on cross-domain uploads:\n            if (options.redirect && targetHost && targetHost !== location.host) {\n                options.formData.push({\n                    name: options.redirectParamName || 'redirect',\n                    value: options.redirect\n                });\n            }\n        },\n\n        _initDataSettings: function (options) {\n            if (this._isXHRUpload(options)) {\n                if (!this._chunkedUpload(options, true)) {\n                    if (!options.data) {\n                        this._initXHRData(options);\n                    }\n                    this._initProgressListener(options);\n                }\n                if (options.postMessage) {\n                    // Setting the dataType to postmessage enables the\n                    // postMessage transport:\n                    options.dataType = 'postmessage ' + (options.dataType || '');\n                }\n            } else {\n                this._initIframeSettings(options);\n            }\n        },\n\n        _getParamName: function (options) {\n            var fileInput = $(options.fileInput),\n                paramName = options.paramName;\n            if (!paramName) {\n                paramName = [];\n                fileInput.each(function () {\n                    var input = $(this),\n                        name = input.prop('name') || 'files[]',\n                        i = (input.prop('files') || [1]).length;\n                    while (i) {\n                        paramName.push(name);\n                        i -= 1;\n                    }\n                });\n                if (!paramName.length) {\n                    paramName = [fileInput.prop('name') || 'files[]'];\n                }\n            } else if (!$.isArray(paramName)) {\n                paramName = [paramName];\n            }\n            return paramName;\n        },\n\n        _initFormSettings: function (options) {\n            // Retrieve missing options from the input field and the\n            // associated form, if available:\n            if (!options.form || !options.form.length) {\n                options.form = $(options.fileInput.prop('form'));\n                // If the given file input doesn't have an associated form,\n                // use the default widget file input's form:\n                if (!options.form.length) {\n                    options.form = $(this.options.fileInput.prop('form'));\n                }\n            }\n            options.paramName = this._getParamName(options);\n            if (!options.url) {\n                options.url = options.form.prop('action') || location.href;\n            }\n            // The HTTP request method must be \"POST\" or \"PUT\":\n            options.type = (options.type ||\n                ($.type(options.form.prop('method')) === 'string' &&\n                    options.form.prop('method')) || ''\n                ).toUpperCase();\n            if (options.type !== 'POST' && options.type !== 'PUT' &&\n                    options.type !== 'PATCH') {\n                options.type = 'POST';\n            }\n            if (!options.formAcceptCharset) {\n                options.formAcceptCharset = options.form.attr('accept-charset');\n            }\n        },\n\n        _getAJAXSettings: function (data) {\n            var options = $.extend({}, this.options, data);\n            this._initFormSettings(options);\n            this._initDataSettings(options);\n            return options;\n        },\n\n        // jQuery 1.6 doesn't provide .state(),\n        // while jQuery 1.8+ removed .isRejected() and .isResolved():\n        _getDeferredState: function (deferred) {\n            if (deferred.state) {\n                return deferred.state();\n            }\n            if (deferred.isResolved()) {\n                return 'resolved';\n            }\n            if (deferred.isRejected()) {\n                return 'rejected';\n            }\n            return 'pending';\n        },\n\n        // Maps jqXHR callbacks to the equivalent\n        // methods of the given Promise object:\n        _enhancePromise: function (promise) {\n            promise.success = promise.done;\n            promise.error = promise.fail;\n            promise.complete = promise.always;\n            return promise;\n        },\n\n        // Creates and returns a Promise object enhanced with\n        // the jqXHR methods abort, success, error and complete:\n        _getXHRPromise: function (resolveOrReject, context, args) {\n            var dfd = $.Deferred(),\n                promise = dfd.promise();\n            context = context || this.options.context || promise;\n            if (resolveOrReject === true) {\n                dfd.resolveWith(context, args);\n            } else if (resolveOrReject === false) {\n                dfd.rejectWith(context, args);\n            }\n            promise.abort = dfd.promise;\n            return this._enhancePromise(promise);\n        },\n\n        // Adds convenience methods to the data callback argument:\n        _addConvenienceMethods: function (e, data) {\n            var that = this,\n                getPromise = function (args) {\n                    return $.Deferred().resolveWith(that, args).promise();\n                };\n            data.process = function (resolveFunc, rejectFunc) {\n                if (resolveFunc || rejectFunc) {\n                    data._processQueue = this._processQueue =\n                        (this._processQueue || getPromise([this])).then(\n                            function () {\n                                if (data.errorThrown) {\n                                    return $.Deferred()\n                                        .rejectWith(that, [data]).promise();\n                                }\n                                return getPromise(arguments);\n                            }\n                        ).then(resolveFunc, rejectFunc);\n                }\n                return this._processQueue || getPromise([this]);\n            };\n            data.submit = function () {\n                if (this.state() !== 'pending') {\n                    data.jqXHR = this.jqXHR =\n                        (that._trigger(\n                            'submit',\n                            $.Event('submit', {delegatedEvent: e}),\n                            this\n                        ) !== false) && that._onSend(e, this);\n                }\n                return this.jqXHR || that._getXHRPromise();\n            };\n            data.abort = function () {\n                if (this.jqXHR) {\n                    return this.jqXHR.abort();\n                }\n                this.errorThrown = 'abort';\n                that._trigger('fail', null, this);\n                return that._getXHRPromise(false);\n            };\n            data.state = function () {\n                if (this.jqXHR) {\n                    return that._getDeferredState(this.jqXHR);\n                }\n                if (this._processQueue) {\n                    return that._getDeferredState(this._processQueue);\n                }\n            };\n            data.processing = function () {\n                return !this.jqXHR && this._processQueue && that\n                    ._getDeferredState(this._processQueue) === 'pending';\n            };\n            data.progress = function () {\n                return this._progress;\n            };\n            data.response = function () {\n                return this._response;\n            };\n        },\n\n        // Parses the Range header from the server response\n        // and returns the uploaded bytes:\n        _getUploadedBytes: function (jqXHR) {\n            var range = jqXHR.getResponseHeader('Range'),\n                parts = range && range.split('-'),\n                upperBytesPos = parts && parts.length > 1 &&\n                    parseInt(parts[1], 10);\n            return upperBytesPos && upperBytesPos + 1;\n        },\n\n        // Uploads a file in multiple, sequential requests\n        // by splitting the file up in multiple blob chunks.\n        // If the second parameter is true, only tests if the file\n        // should be uploaded in chunks, but does not invoke any\n        // upload requests:\n        _chunkedUpload: function (options, testOnly) {\n            options.uploadedBytes = options.uploadedBytes || 0;\n            var that = this,\n                file = options.files[0],\n                fs = file.size,\n                ub = options.uploadedBytes,\n                mcs = options.maxChunkSize || fs,\n                slice = this._blobSlice,\n                dfd = $.Deferred(),\n                promise = dfd.promise(),\n                jqXHR,\n                upload;\n            if (!(this._isXHRUpload(options) && slice && (ub || mcs < fs)) ||\n                    options.data) {\n                return false;\n            }\n            if (testOnly) {\n                return true;\n            }\n            if (ub >= fs) {\n                file.error = options.i18n('uploadedBytes');\n                return this._getXHRPromise(\n                    false,\n                    options.context,\n                    [null, 'error', file.error]\n                );\n            }\n            // The chunk upload method:\n            upload = function () {\n                // Clone the options object for each chunk upload:\n                var o = $.extend({}, options),\n                    currentLoaded = o._progress.loaded;\n                o.blob = slice.call(\n                    file,\n                    ub,\n                    ub + mcs,\n                    file.type\n                );\n                // Store the current chunk size, as the blob itself\n                // will be dereferenced after data processing:\n                o.chunkSize = o.blob.size;\n                // Expose the chunk bytes position range:\n                o.contentRange = 'bytes ' + ub + '-' +\n                    (ub + o.chunkSize - 1) + '/' + fs;\n                // Process the upload data (the blob and potential form data):\n                that._initXHRData(o);\n                // Add progress listeners for this chunk upload:\n                that._initProgressListener(o);\n                jqXHR = ((that._trigger('chunksend', null, o) !== false && $.ajax(o)) ||\n                        that._getXHRPromise(false, o.context))\n                    .done(function (result, textStatus, jqXHR) {\n                        ub = that._getUploadedBytes(jqXHR) ||\n                            (ub + o.chunkSize);\n                        // Create a progress event if no final progress event\n                        // with loaded equaling total has been triggered\n                        // for this chunk:\n                        if (currentLoaded + o.chunkSize - o._progress.loaded) {\n                            that._onProgress($.Event('progress', {\n                                lengthComputable: true,\n                                loaded: ub - o.uploadedBytes,\n                                total: ub - o.uploadedBytes\n                            }), o);\n                        }\n                        options.uploadedBytes = o.uploadedBytes = ub;\n                        o.result = result;\n                        o.textStatus = textStatus;\n                        o.jqXHR = jqXHR;\n                        that._trigger('chunkdone', null, o);\n                        that._trigger('chunkalways', null, o);\n                        if (ub < fs) {\n                            // File upload not yet complete,\n                            // continue with the next chunk:\n                            upload();\n                        } else {\n                            dfd.resolveWith(\n                                o.context,\n                                [result, textStatus, jqXHR]\n                            );\n                        }\n                    })\n                    .fail(function (jqXHR, textStatus, errorThrown) {\n                        o.jqXHR = jqXHR;\n                        o.textStatus = textStatus;\n                        o.errorThrown = errorThrown;\n                        that._trigger('chunkfail', null, o);\n                        that._trigger('chunkalways', null, o);\n                        dfd.rejectWith(\n                            o.context,\n                            [jqXHR, textStatus, errorThrown]\n                        );\n                    });\n            };\n            this._enhancePromise(promise);\n            promise.abort = function () {\n                return jqXHR.abort();\n            };\n            upload();\n            return promise;\n        },\n\n        _beforeSend: function (e, data) {\n            if (this._active === 0) {\n                // the start callback is triggered when an upload starts\n                // and no other uploads are currently running,\n                // equivalent to the global ajaxStart event:\n                this._trigger('start');\n                // Set timer for global bitrate progress calculation:\n                this._bitrateTimer = new this._BitrateTimer();\n                // Reset the global progress values:\n                this._progress.loaded = this._progress.total = 0;\n                this._progress.bitrate = 0;\n            }\n            // Make sure the container objects for the .response() and\n            // .progress() methods on the data object are available\n            // and reset to their initial state:\n            this._initResponseObject(data);\n            this._initProgressObject(data);\n            data._progress.loaded = data.loaded = data.uploadedBytes || 0;\n            data._progress.total = data.total = this._getTotal(data.files) || 1;\n            data._progress.bitrate = data.bitrate = 0;\n            this._active += 1;\n            // Initialize the global progress values:\n            this._progress.loaded += data.loaded;\n            this._progress.total += data.total;\n        },\n\n        _onDone: function (result, textStatus, jqXHR, options) {\n            var total = options._progress.total,\n                response = options._response;\n            if (options._progress.loaded < total) {\n                // Create a progress event if no final progress event\n                // with loaded equaling total has been triggered:\n                this._onProgress($.Event('progress', {\n                    lengthComputable: true,\n                    loaded: total,\n                    total: total\n                }), options);\n            }\n            response.result = options.result = result;\n            response.textStatus = options.textStatus = textStatus;\n            response.jqXHR = options.jqXHR = jqXHR;\n            this._trigger('done', null, options);\n        },\n\n        _onFail: function (jqXHR, textStatus, errorThrown, options) {\n            var response = options._response;\n            if (options.recalculateProgress) {\n                // Remove the failed (error or abort) file upload from\n                // the global progress calculation:\n                this._progress.loaded -= options._progress.loaded;\n                this._progress.total -= options._progress.total;\n            }\n            response.jqXHR = options.jqXHR = jqXHR;\n            response.textStatus = options.textStatus = textStatus;\n            response.errorThrown = options.errorThrown = errorThrown;\n            this._trigger('fail', null, options);\n        },\n\n        _onAlways: function (jqXHRorResult, textStatus, jqXHRorError, options) {\n            // jqXHRorResult, textStatus and jqXHRorError are added to the\n            // options object via done and fail callbacks\n            this._trigger('always', null, options);\n        },\n\n        _onSend: function (e, data) {\n            if (!data.submit) {\n                this._addConvenienceMethods(e, data);\n            }\n            var that = this,\n                jqXHR,\n                aborted,\n                slot,\n                pipe,\n                options = that._getAJAXSettings(data),\n                send = function () {\n                    that._sending += 1;\n                    // Set timer for bitrate progress calculation:\n                    options._bitrateTimer = new that._BitrateTimer();\n                    jqXHR = jqXHR || (\n                        ((aborted || that._trigger(\n                            'send',\n                            $.Event('send', {delegatedEvent: e}),\n                            options\n                        ) === false) &&\n                        that._getXHRPromise(false, options.context, aborted)) ||\n                        that._chunkedUpload(options) || $.ajax(options)\n                    ).done(function (result, textStatus, jqXHR) {\n                        that._onDone(result, textStatus, jqXHR, options);\n                    }).fail(function (jqXHR, textStatus, errorThrown) {\n                        that._onFail(jqXHR, textStatus, errorThrown, options);\n                    }).always(function (jqXHRorResult, textStatus, jqXHRorError) {\n                        that._onAlways(\n                            jqXHRorResult,\n                            textStatus,\n                            jqXHRorError,\n                            options\n                        );\n                        that._sending -= 1;\n                        that._active -= 1;\n                        if (options.limitConcurrentUploads &&\n                                options.limitConcurrentUploads > that._sending) {\n                            // Start the next queued upload,\n                            // that has not been aborted:\n                            var nextSlot = that._slots.shift();\n                            while (nextSlot) {\n                                if (that._getDeferredState(nextSlot) === 'pending') {\n                                    nextSlot.resolve();\n                                    break;\n                                }\n                                nextSlot = that._slots.shift();\n                            }\n                        }\n                        if (that._active === 0) {\n                            // The stop callback is triggered when all uploads have\n                            // been completed, equivalent to the global ajaxStop event:\n                            that._trigger('stop');\n                        }\n                    });\n                    return jqXHR;\n                };\n            this._beforeSend(e, options);\n            if (this.options.sequentialUploads ||\n                    (this.options.limitConcurrentUploads &&\n                    this.options.limitConcurrentUploads <= this._sending)) {\n                if (this.options.limitConcurrentUploads > 1) {\n                    slot = $.Deferred();\n                    this._slots.push(slot);\n                    pipe = slot.then(send);\n                } else {\n                    this._sequence = this._sequence.then(send, send);\n                    pipe = this._sequence;\n                }\n                // Return the piped Promise object, enhanced with an abort method,\n                // which is delegated to the jqXHR object of the current upload,\n                // and jqXHR callbacks mapped to the equivalent Promise methods:\n                pipe.abort = function () {\n                    aborted = [undefined, 'abort', 'abort'];\n                    if (!jqXHR) {\n                        if (slot) {\n                            slot.rejectWith(options.context, aborted);\n                        }\n                        return send();\n                    }\n                    return jqXHR.abort();\n                };\n                return this._enhancePromise(pipe);\n            }\n            return send();\n        },\n\n        _onAdd: function (e, data) {\n            var that = this,\n                result = true,\n                options = $.extend({}, this.options, data),\n                files = data.files,\n                filesLength = files.length,\n                limit = options.limitMultiFileUploads,\n                limitSize = options.limitMultiFileUploadSize,\n                overhead = options.limitMultiFileUploadSizeOverhead,\n                batchSize = 0,\n                paramName = this._getParamName(options),\n                paramNameSet,\n                paramNameSlice,\n                fileSet,\n                i,\n                j = 0;\n            if (!filesLength) {\n                return false;\n            }\n            if (limitSize && files[0].size === undefined) {\n                limitSize = undefined;\n            }\n            if (!(options.singleFileUploads || limit || limitSize) ||\n                    !this._isXHRUpload(options)) {\n                fileSet = [files];\n                paramNameSet = [paramName];\n            } else if (!(options.singleFileUploads || limitSize) && limit) {\n                fileSet = [];\n                paramNameSet = [];\n                for (i = 0; i < filesLength; i += limit) {\n                    fileSet.push(files.slice(i, i + limit));\n                    paramNameSlice = paramName.slice(i, i + limit);\n                    if (!paramNameSlice.length) {\n                        paramNameSlice = paramName;\n                    }\n                    paramNameSet.push(paramNameSlice);\n                }\n            } else if (!options.singleFileUploads && limitSize) {\n                fileSet = [];\n                paramNameSet = [];\n                for (i = 0; i < filesLength; i = i + 1) {\n                    batchSize += files[i].size + overhead;\n                    if (i + 1 === filesLength ||\n                            ((batchSize + files[i + 1].size + overhead) > limitSize) ||\n                            (limit && i + 1 - j >= limit)) {\n                        fileSet.push(files.slice(j, i + 1));\n                        paramNameSlice = paramName.slice(j, i + 1);\n                        if (!paramNameSlice.length) {\n                            paramNameSlice = paramName;\n                        }\n                        paramNameSet.push(paramNameSlice);\n                        j = i + 1;\n                        batchSize = 0;\n                    }\n                }\n            } else {\n                paramNameSet = paramName;\n            }\n            data.originalFiles = files;\n            $.each(fileSet || files, function (index, element) {\n                var newData = $.extend({}, data);\n                newData.files = fileSet ? element : [element];\n                newData.paramName = paramNameSet[index];\n                that._initResponseObject(newData);\n                that._initProgressObject(newData);\n                that._addConvenienceMethods(e, newData);\n                result = that._trigger(\n                    'add',\n                    $.Event('add', {delegatedEvent: e}),\n                    newData\n                );\n                return result;\n            });\n            return result;\n        },\n\n        _replaceFileInput: function (data) {\n            var input = data.fileInput,\n                inputClone = input.clone(true),\n                restoreFocus = input.is(document.activeElement);\n            // Add a reference for the new cloned file input to the data argument:\n            data.fileInputClone = inputClone;\n            $('<form></form>').append(inputClone)[0].reset();\n            // Detaching allows to insert the fileInput on another form\n            // without loosing the file input value:\n            input.after(inputClone).detach();\n            // If the fileInput had focus before it was detached,\n            // restore focus to the inputClone.\n            if (restoreFocus) {\n                inputClone.focus();\n            }\n            // Avoid memory leaks with the detached file input:\n            $.cleanData(input.unbind('remove'));\n            // Replace the original file input element in the fileInput\n            // elements set with the clone, which has been copied including\n            // event handlers:\n            this.options.fileInput = this.options.fileInput.map(function (i, el) {\n                if (el === input[0]) {\n                    return inputClone[0];\n                }\n                return el;\n            });\n            // If the widget has been initialized on the file input itself,\n            // override this.element with the file input clone:\n            if (input[0] === this.element[0]) {\n                this.element = inputClone;\n            }\n        },\n\n        _handleFileTreeEntry: function (entry, path) {\n            var that = this,\n                dfd = $.Deferred(),\n                entries = [],\n                dirReader,\n                errorHandler = function (e) {\n                    if (e && !e.entry) {\n                        e.entry = entry;\n                    }\n                    // Since $.when returns immediately if one\n                    // Deferred is rejected, we use resolve instead.\n                    // This allows valid files and invalid items\n                    // to be returned together in one set:\n                    dfd.resolve([e]);\n                },\n                successHandler = function (entries) {\n                    that._handleFileTreeEntries(\n                        entries,\n                        path + entry.name + '/'\n                    ).done(function (files) {\n                        dfd.resolve(files);\n                    }).fail(errorHandler);\n                },\n                readEntries = function () {\n                    dirReader.readEntries(function (results) {\n                        if (!results.length) {\n                            successHandler(entries);\n                        } else {\n                            entries = entries.concat(results);\n                            readEntries();\n                        }\n                    }, errorHandler);\n                };\n            path = path || '';\n            if (entry.isFile) {\n                if (entry._file) {\n                    // Workaround for Chrome bug #149735\n                    entry._file.relativePath = path;\n                    dfd.resolve(entry._file);\n                } else {\n                    entry.file(function (file) {\n                        file.relativePath = path;\n                        dfd.resolve(file);\n                    }, errorHandler);\n                }\n            } else if (entry.isDirectory) {\n                dirReader = entry.createReader();\n                readEntries();\n            } else {\n                // Return an empy list for file system items\n                // other than files or directories:\n                dfd.resolve([]);\n            }\n            return dfd.promise();\n        },\n\n        _handleFileTreeEntries: function (entries, path) {\n            var that = this;\n            return $.when.apply(\n                $,\n                $.map(entries, function (entry) {\n                    return that._handleFileTreeEntry(entry, path);\n                })\n            ).then(function () {\n                return Array.prototype.concat.apply(\n                    [],\n                    arguments\n                );\n            });\n        },\n\n        _getDroppedFiles: function (dataTransfer) {\n            dataTransfer = dataTransfer || {};\n            var items = dataTransfer.items;\n            if (items && items.length && (items[0].webkitGetAsEntry ||\n                    items[0].getAsEntry)) {\n                return this._handleFileTreeEntries(\n                    $.map(items, function (item) {\n                        var entry;\n                        if (item.webkitGetAsEntry) {\n                            entry = item.webkitGetAsEntry();\n                            if (entry) {\n                                // Workaround for Chrome bug #149735:\n                                entry._file = item.getAsFile();\n                            }\n                            return entry;\n                        }\n                        return item.getAsEntry();\n                    })\n                );\n            }\n            return $.Deferred().resolve(\n                $.makeArray(dataTransfer.files)\n            ).promise();\n        },\n\n        _getSingleFileInputFiles: function (fileInput) {\n            fileInput = $(fileInput);\n            var entries = fileInput.prop('webkitEntries') ||\n                    fileInput.prop('entries'),\n                files,\n                value;\n            if (entries && entries.length) {\n                return this._handleFileTreeEntries(entries);\n            }\n            files = $.makeArray(fileInput.prop('files'));\n            if (!files.length) {\n                value = fileInput.prop('value');\n                if (!value) {\n                    return $.Deferred().resolve([]).promise();\n                }\n                // If the files property is not available, the browser does not\n                // support the File API and we add a pseudo File object with\n                // the input value as name with path information removed:\n                files = [{name: value.replace(/^.*\\\\/, '')}];\n            } else if (files[0].name === undefined && files[0].fileName) {\n                // File normalization for Safari 4 and Firefox 3:\n                $.each(files, function (index, file) {\n                    file.name = file.fileName;\n                    file.size = file.fileSize;\n                });\n            }\n            return $.Deferred().resolve(files).promise();\n        },\n\n        _getFileInputFiles: function (fileInput) {\n            if (!(fileInput instanceof $) || fileInput.length === 1) {\n                return this._getSingleFileInputFiles(fileInput);\n            }\n            return $.when.apply(\n                $,\n                $.map(fileInput, this._getSingleFileInputFiles)\n            ).then(function () {\n                return Array.prototype.concat.apply(\n                    [],\n                    arguments\n                );\n            });\n        },\n\n        _onChange: function (e) {\n            var that = this,\n                data = {\n                    fileInput: $(e.target),\n                    form: $(e.target.form)\n                };\n            this._getFileInputFiles(data.fileInput).always(function (files) {\n                data.files = files;\n                if (that.options.replaceFileInput) {\n                    that._replaceFileInput(data);\n                }\n                if (that._trigger(\n                        'change',\n                        $.Event('change', {delegatedEvent: e}),\n                        data\n                    ) !== false) {\n                    that._onAdd(e, data);\n                }\n            });\n        },\n\n        _onPaste: function (e) {\n            var items = e.originalEvent && e.originalEvent.clipboardData &&\n                    e.originalEvent.clipboardData.items,\n                data = {files: []};\n            if (items && items.length) {\n                $.each(items, function (index, item) {\n                    var file = item.getAsFile && item.getAsFile();\n                    if (file) {\n                        data.files.push(file);\n                    }\n                });\n                if (this._trigger(\n                        'paste',\n                        $.Event('paste', {delegatedEvent: e}),\n                        data\n                    ) !== false) {\n                    this._onAdd(e, data);\n                }\n            }\n        },\n\n        _onDrop: function (e) {\n            e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n            var that = this,\n                dataTransfer = e.dataTransfer,\n                data = {};\n            if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n                e.preventDefault();\n                this._getDroppedFiles(dataTransfer).always(function (files) {\n                    data.files = files;\n                    if (that._trigger(\n                            'drop',\n                            $.Event('drop', {delegatedEvent: e}),\n                            data\n                        ) !== false) {\n                        that._onAdd(e, data);\n                    }\n                });\n            }\n        },\n\n        _onDragOver: getDragHandler('dragover'),\n\n        _onDragEnter: getDragHandler('dragenter'),\n\n        _onDragLeave: getDragHandler('dragleave'),\n\n        _initEventHandlers: function () {\n            if (this._isXHRUpload(this.options)) {\n                this._on(this.options.dropZone, {\n                    dragover: this._onDragOver,\n                    drop: this._onDrop,\n                    // event.preventDefault() on dragenter is required for IE10+:\n                    dragenter: this._onDragEnter,\n                    // dragleave is not required, but added for completeness:\n                    dragleave: this._onDragLeave\n                });\n                this._on(this.options.pasteZone, {\n                    paste: this._onPaste\n                });\n            }\n            if ($.support.fileInput) {\n                this._on(this.options.fileInput, {\n                    change: this._onChange\n                });\n            }\n        },\n\n        _destroyEventHandlers: function () {\n            this._off(this.options.dropZone, 'dragenter dragleave dragover drop');\n            this._off(this.options.pasteZone, 'paste');\n            this._off(this.options.fileInput, 'change');\n        },\n\n        _destroy: function () {\n            this._destroyEventHandlers();\n        },\n\n        _setOption: function (key, value) {\n            var reinit = $.inArray(key, this._specialOptions) !== -1;\n            if (reinit) {\n                this._destroyEventHandlers();\n            }\n            this._super(key, value);\n            if (reinit) {\n                this._initSpecialOptions();\n                this._initEventHandlers();\n            }\n        },\n\n        _initSpecialOptions: function () {\n            var options = this.options;\n            if (options.fileInput === undefined) {\n                options.fileInput = this.element.is('input[type=\"file\"]') ?\n                        this.element : this.element.find('input[type=\"file\"]');\n            } else if (!(options.fileInput instanceof $)) {\n                options.fileInput = $(options.fileInput);\n            }\n            if (!(options.dropZone instanceof $)) {\n                options.dropZone = $(options.dropZone);\n            }\n            if (!(options.pasteZone instanceof $)) {\n                options.pasteZone = $(options.pasteZone);\n            }\n        },\n\n        _getRegExp: function (str) {\n            var parts = str.split('/'),\n                modifiers = parts.pop();\n            parts.shift();\n            return new RegExp(parts.join('/'), modifiers);\n        },\n\n        _isRegExpOption: function (key, value) {\n            return key !== 'url' && $.type(value) === 'string' &&\n                /^\\/.*\\/[igm]{0,3}$/.test(value);\n        },\n\n        _initDataAttributes: function () {\n            var that = this,\n                options = this.options,\n                data = this.element.data();\n            // Initialize options set via HTML5 data-attributes:\n            $.each(\n                this.element[0].attributes,\n                function (index, attr) {\n                    var key = attr.name.toLowerCase(),\n                        value;\n                    if (/^data-/.test(key)) {\n                        // Convert hyphen-ated key to camelCase:\n                        key = key.slice(5).replace(/-[a-z]/g, function (str) {\n                            return str.charAt(1).toUpperCase();\n                        });\n                        value = data[key];\n                        if (that._isRegExpOption(key, value)) {\n                            value = that._getRegExp(value);\n                        }\n                        options[key] = value;\n                    }\n                }\n            );\n        },\n\n        _create: function () {\n            this._initDataAttributes();\n            this._initSpecialOptions();\n            this._slots = [];\n            this._sequence = this._getXHRPromise(true);\n            this._sending = this._active = 0;\n            this._initProgressObject(this);\n            this._initEventHandlers();\n        },\n\n        // This method is exposed to the widget API and allows to query\n        // the number of active uploads:\n        active: function () {\n            return this._active;\n        },\n\n        // This method is exposed to the widget API and allows to query\n        // the widget upload progress.\n        // It returns an object with loaded, total and bitrate properties\n        // for the running uploads:\n        progress: function () {\n            return this._progress;\n        },\n\n        // This method is exposed to the widget API and allows adding files\n        // using the fileupload API. The data parameter accepts an object which\n        // must have a files property and can contain additional options:\n        // .fileupload('add', {files: filesList});\n        add: function (data) {\n            var that = this;\n            if (!data || this.options.disabled) {\n                return;\n            }\n            if (data.fileInput && !data.files) {\n                this._getFileInputFiles(data.fileInput).always(function (files) {\n                    data.files = files;\n                    that._onAdd(null, data);\n                });\n            } else {\n                data.files = $.makeArray(data.files);\n                this._onAdd(null, data);\n            }\n        },\n\n        // This method is exposed to the widget API and allows sending files\n        // using the fileupload API. The data parameter accepts an object which\n        // must have a files or fileInput property and can contain additional options:\n        // .fileupload('send', {files: filesList});\n        // The method returns a Promise object for the file upload call.\n        send: function (data) {\n            if (data && !this.options.disabled) {\n                if (data.fileInput && !data.files) {\n                    var that = this,\n                        dfd = $.Deferred(),\n                        promise = dfd.promise(),\n                        jqXHR,\n                        aborted;\n                    promise.abort = function () {\n                        aborted = true;\n                        if (jqXHR) {\n                            return jqXHR.abort();\n                        }\n                        dfd.reject(null, 'abort', 'abort');\n                        return promise;\n                    };\n                    this._getFileInputFiles(data.fileInput).always(\n                        function (files) {\n                            if (aborted) {\n                                return;\n                            }\n                            if (!files.length) {\n                                dfd.reject();\n                                return;\n                            }\n                            data.files = files;\n                            jqXHR = that._onSend(null, data);\n                            jqXHR.then(\n                                function (result, textStatus, jqXHR) {\n                                    dfd.resolve(result, textStatus, jqXHR);\n                                },\n                                function (jqXHR, textStatus, errorThrown) {\n                                    dfd.reject(jqXHR, textStatus, errorThrown);\n                                }\n                            );\n                        }\n                    );\n                    return this._enhancePromise(promise);\n                }\n                data.files = $.makeArray(data.files);\n                if (data.files.length) {\n                    return this._onSend(null, data);\n                }\n            }\n            return this._getXHRPromise(false, data && data.context);\n        }\n\n    });\n\n}));\n\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","/* ===================================================\r\n *  jquery-sortable.js v0.9.13\r\n *  http://johnny.github.com/jquery-sortable/\r\n * ===================================================\r\n *  Copyright (c) 2012 Jonas von Andrian\r\n *  All rights reserved.\r\n *\r\n *  Redistribution and use in source and binary forms, with or without\r\n *  modification, are permitted provided that the following conditions are met:\r\n *  * Redistributions of source code must retain the above copyright\r\n *    notice, this list of conditions and the following disclaimer.\r\n *  * Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *  * The name of the author may not be used to endorse or promote products\r\n *    derived from this software without specific prior written permission.\r\n *\r\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n *  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n *  DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\r\n *  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n *  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n *  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n *  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n *  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n *  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n * ========================================================== */\r\n\r\n!function ( $, window, pluginName, undefined){\r\n  var containerDefaults = {\r\n    // If true, items can be dragged from this container\r\n    drag: true,\r\n    // If true, items can be droped onto this container\r\n    drop: true,\r\n    // Exclude items from being draggable, if the\r\n    // selector matches the item\r\n    exclude: \"\",\r\n    // If true, search for nested containers within an item.If you nest containers,\r\n    // either the original selector with which you call the plugin must only match the top containers,\r\n    // or you need to specify a group (see the bootstrap nav example)\r\n    nested: true,\r\n    // If true, the items are assumed to be arranged vertically\r\n    vertical: true\r\n  }, // end container defaults\r\n  groupDefaults = {\r\n    // This is executed after the placeholder has been moved.\r\n    // $closestItemOrContainer contains the closest item, the placeholder\r\n    // has been put at or the closest empty Container, the placeholder has\r\n    // been appended to.\r\n    afterMove: function ($placeholder, container, $closestItemOrContainer) {\r\n    },\r\n    // The exact css path between the container and its items, e.g. \"> tbody\"\r\n    containerPath: \"\",\r\n    // The css selector of the containers\r\n    containerSelector: \"ol, ul\",\r\n    // Distance the mouse has to travel to start dragging\r\n    distance: 0,\r\n    // Time in milliseconds after mousedown until dragging should start.\r\n    // This option can be used to prevent unwanted drags when clicking on an element.\r\n    delay: 0,\r\n    // The css selector of the drag handle\r\n    handle: \"\",\r\n    // The exact css path between the item and its subcontainers.\r\n    // It should only match the immediate items of a container.\r\n    // No item of a subcontainer should be matched. E.g. for ol>div>li the itemPath is \"> div\"\r\n    itemPath: \"\",\r\n    // The css selector of the items\r\n    itemSelector: \"li\",\r\n    // The class given to \"body\" while an item is being dragged\r\n    bodyClass: \"dragging\",\r\n    // The class giving to an item while being dragged\r\n    draggedClass: \"dragged\",\r\n    // Check if the dragged item may be inside the container.\r\n    // Use with care, since the search for a valid container entails a depth first search\r\n    // and may be quite expensive.\r\n    isValidTarget: function ($item, container) {\r\n      return true\r\n    },\r\n    // Executed before onDrop if placeholder is detached.\r\n    // This happens if pullPlaceholder is set to false and the drop occurs outside a container.\r\n    onCancel: function ($item, container, _super, event) {\r\n    },\r\n    // Executed at the beginning of a mouse move event.\r\n    // The Placeholder has not been moved yet.\r\n    onDrag: function ($item, position, _super, event) {\r\n      $item.css(position)\r\n    },\r\n    // Called after the drag has been started,\r\n    // that is the mouse button is being held down and\r\n    // the mouse is moving.\r\n    // The container is the closest initialized container.\r\n    // Therefore it might not be the container, that actually contains the item.\r\n    onDragStart: function ($item, container, _super, event) {\r\n      $item.css({\r\n        height: $item.outerHeight(),\r\n        width: $item.outerWidth()\r\n      })\r\n      $item.addClass(container.group.options.draggedClass)\r\n      $(\"body\").addClass(container.group.options.bodyClass)\r\n    },\r\n    // Called when the mouse button is being released\r\n    onDrop: function ($item, container, _super, event) {\r\n      $item.removeClass(container.group.options.draggedClass).removeAttr(\"style\")\r\n      $(\"body\").removeClass(container.group.options.bodyClass)\r\n    },\r\n    // Called on mousedown. If falsy value is returned, the dragging will not start.\r\n    // Ignore if element clicked is input, select or textarea\r\n    onMousedown: function ($item, _super, event) {\r\n      if (!event.target.nodeName.match(/^(input|select|textarea)$/i)) {\r\n        event.preventDefault()\r\n        return true\r\n      }\r\n    },\r\n    // The class of the placeholder (must match placeholder option markup)\r\n    placeholderClass: \"placeholder\",\r\n    // Template for the placeholder. Can be any valid jQuery input\r\n    // e.g. a string, a DOM element.\r\n    // The placeholder must have the class \"placeholder\"\r\n    placeholder: '<li class=\"placeholder\"></li>',\r\n    // If true, the position of the placeholder is calculated on every mousemove.\r\n    // If false, it is only calculated when the mouse is above a container.\r\n    pullPlaceholder: true,\r\n    // Specifies serialization of the container group.\r\n    // The pair $parent/$children is either container/items or item/subcontainers.\r\n    serialize: function ($parent, $children, parentIsContainer) {\r\n      var result = $.extend({}, $parent.data())\r\n\r\n      if(parentIsContainer)\r\n        return [$children]\r\n      else if ($children[0]){\r\n        result.children = $children\r\n      }\r\n\r\n      delete result.subContainers\r\n      delete result.sortable\r\n\r\n      return result\r\n    },\r\n    // Set tolerance while dragging. Positive values decrease sensitivity,\r\n    // negative values increase it.\r\n    tolerance: 0\r\n  }, // end group defaults\r\n  containerGroups = {},\r\n  groupCounter = 0,\r\n  emptyBox = {\r\n    left: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    right:0\r\n  },\r\n  eventNames = {\r\n    start: \"touchstart.sortable mousedown.sortable\",\r\n    drop: \"touchend.sortable touchcancel.sortable mouseup.sortable\",\r\n    drag: \"touchmove.sortable mousemove.sortable\",\r\n    scroll: \"scroll.sortable\"\r\n  },\r\n  subContainerKey = \"subContainers\"\r\n\r\n  /*\r\n   * a is Array [left, right, top, bottom]\r\n   * b is array [left, top]\r\n   */\r\n  function d(a,b) {\r\n    var x = Math.max(0, a[0] - b[0], b[0] - a[1]),\r\n    y = Math.max(0, a[2] - b[1], b[1] - a[3])\r\n    return x+y;\r\n  }\r\n\r\n  function setDimensions(array, dimensions, tolerance, useOffset) {\r\n    var i = array.length,\r\n    offsetMethod = useOffset ? \"offset\" : \"position\"\r\n    tolerance = tolerance || 0\r\n\r\n    while(i--){\r\n      var el = array[i].el ? array[i].el : $(array[i]),\r\n      // use fitting method\r\n      pos = el[offsetMethod]()\r\n      pos.left += parseInt(el.css('margin-left'), 10)\r\n      pos.top += parseInt(el.css('margin-top'),10)\r\n      dimensions[i] = [\r\n        pos.left - tolerance,\r\n        pos.left + el.outerWidth() + tolerance,\r\n        pos.top - tolerance,\r\n        pos.top + el.outerHeight() + tolerance\r\n      ]\r\n    }\r\n  }\r\n\r\n  function getRelativePosition(pointer, element) {\r\n    var offset = element.offset()\r\n    return {\r\n      left: pointer.left - offset.left,\r\n      top: pointer.top - offset.top\r\n    }\r\n  }\r\n\r\n  function sortByDistanceDesc(dimensions, pointer, lastPointer) {\r\n    pointer = [pointer.left, pointer.top]\r\n    lastPointer = lastPointer && [lastPointer.left, lastPointer.top]\r\n\r\n    var dim,\r\n    i = dimensions.length,\r\n    distances = []\r\n\r\n    while(i--){\r\n      dim = dimensions[i]\r\n      distances[i] = [i,d(dim,pointer), lastPointer && d(dim, lastPointer)]\r\n    }\r\n    distances = distances.sort(function  (a,b) {\r\n      return b[1] - a[1] || b[2] - a[2] || b[0] - a[0]\r\n    })\r\n\r\n    // last entry is the closest\r\n    return distances\r\n  }\r\n\r\n  function ContainerGroup(options) {\r\n    this.options = $.extend({}, groupDefaults, options)\r\n    this.containers = []\r\n\r\n    if(!this.options.rootGroup){\r\n      this.scrollProxy = $.proxy(this.scroll, this)\r\n      this.dragProxy = $.proxy(this.drag, this)\r\n      this.dropProxy = $.proxy(this.drop, this)\r\n      this.placeholder = $(this.options.placeholder)\r\n\r\n      if(!options.isValidTarget)\r\n        this.options.isValidTarget = undefined\r\n    }\r\n  }\r\n\r\n  ContainerGroup.get = function  (options) {\r\n    if(!containerGroups[options.group]) {\r\n      if(options.group === undefined)\r\n        options.group = groupCounter ++\r\n\r\n      containerGroups[options.group] = new ContainerGroup(options)\r\n    }\r\n\r\n    return containerGroups[options.group]\r\n  }\r\n\r\n  ContainerGroup.prototype = {\r\n    dragInit: function  (e, itemContainer) {\r\n      this.$document = $(itemContainer.el[0].ownerDocument)\r\n\r\n      // get item to drag\r\n      var closestItem = $(e.target).closest(this.options.itemSelector);\r\n      // using the length of this item, prevents the plugin from being started if there is no handle being clicked on.\r\n      // this may also be helpful in instantiating multidrag.\r\n      if (closestItem.length) {\r\n        this.item = closestItem;\r\n        this.itemContainer = itemContainer;\r\n        if (this.item.is(this.options.exclude) || !this.options.onMousedown(this.item, groupDefaults.onMousedown, e)) {\r\n            return;\r\n        }\r\n        this.setPointer(e);\r\n        this.toggleListeners('on');\r\n        this.setupDelayTimer();\r\n        this.dragInitDone = true;\r\n      }\r\n    },\r\n    drag: function  (e) {\r\n      if(!this.dragging){\r\n        if(!this.distanceMet(e) || !this.delayMet)\r\n          return\r\n\r\n        this.options.onDragStart(this.item, this.itemContainer, groupDefaults.onDragStart, e)\r\n        this.item.before(this.placeholder)\r\n        this.dragging = true\r\n      }\r\n\r\n      this.setPointer(e)\r\n      // place item under the cursor\r\n      this.options.onDrag(this.item,\r\n                          getRelativePosition(this.pointer, this.item.offsetParent()),\r\n                          groupDefaults.onDrag,\r\n                          e)\r\n\r\n      var p = this.getPointer(e),\r\n      box = this.sameResultBox,\r\n      t = this.options.tolerance\r\n\r\n      if(!box || box.top - t > p.top || box.bottom + t < p.top || box.left - t > p.left || box.right + t < p.left)\r\n        if(!this.searchValidTarget()){\r\n          this.placeholder.detach()\r\n          this.lastAppendedItem = undefined\r\n        }\r\n    },\r\n    drop: function  (e) {\r\n      this.toggleListeners('off')\r\n\r\n      this.dragInitDone = false\r\n\r\n      if(this.dragging){\r\n        // processing Drop, check if placeholder is detached\r\n        if(this.placeholder.closest(\"html\")[0]){\r\n          this.placeholder.before(this.item).detach()\r\n        } else {\r\n          this.options.onCancel(this.item, this.itemContainer, groupDefaults.onCancel, e)\r\n        }\r\n        this.options.onDrop(this.item, this.getContainer(this.item), groupDefaults.onDrop, e)\r\n\r\n        // cleanup\r\n        this.clearDimensions()\r\n        this.clearOffsetParent()\r\n        this.lastAppendedItem = this.sameResultBox = undefined\r\n        this.dragging = false\r\n      }\r\n    },\r\n    searchValidTarget: function  (pointer, lastPointer) {\r\n      if(!pointer){\r\n        pointer = this.relativePointer || this.pointer\r\n        lastPointer = this.lastRelativePointer || this.lastPointer\r\n      }\r\n\r\n      var distances = sortByDistanceDesc(this.getContainerDimensions(),\r\n                                         pointer,\r\n                                         lastPointer),\r\n      i = distances.length\r\n\r\n      while(i--){\r\n        var index = distances[i][0],\r\n        distance = distances[i][1]\r\n\r\n        if(!distance || this.options.pullPlaceholder){\r\n          var container = this.containers[index]\r\n          if(!container.disabled){\r\n            if(!this.$getOffsetParent()){\r\n              var offsetParent = container.getItemOffsetParent()\r\n              pointer = getRelativePosition(pointer, offsetParent)\r\n              lastPointer = getRelativePosition(lastPointer, offsetParent)\r\n            }\r\n            if(container.searchValidTarget(pointer, lastPointer))\r\n              return true\r\n          }\r\n        }\r\n      }\r\n      if(this.sameResultBox)\r\n        this.sameResultBox = undefined\r\n    },\r\n    movePlaceholder: function  (container, item, method, sameResultBox) {\r\n      var lastAppendedItem = this.lastAppendedItem\r\n      if(!sameResultBox && lastAppendedItem && lastAppendedItem[0] === item[0])\r\n        return;\r\n\r\n      item[method](this.placeholder)\r\n      this.lastAppendedItem = item\r\n      this.sameResultBox = sameResultBox\r\n      this.options.afterMove(this.placeholder, container, item)\r\n    },\r\n    getContainerDimensions: function  () {\r\n      if(!this.containerDimensions)\r\n        setDimensions(this.containers, this.containerDimensions = [], this.options.tolerance, !this.$getOffsetParent())\r\n      return this.containerDimensions\r\n    },\r\n    getContainer: function  (element) {\r\n      return element.closest(this.options.containerSelector).data(pluginName)\r\n    },\r\n    $getOffsetParent: function  () {\r\n      if(this.offsetParent === undefined){\r\n        var i = this.containers.length - 1,\r\n        offsetParent = this.containers[i].getItemOffsetParent()\r\n\r\n        if(!this.options.rootGroup){\r\n          while(i--){\r\n            if(offsetParent[0] != this.containers[i].getItemOffsetParent()[0]){\r\n              // If every container has the same offset parent,\r\n              // use position() which is relative to this parent,\r\n              // otherwise use offset()\r\n              // compare #setDimensions\r\n              offsetParent = false\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        this.offsetParent = offsetParent\r\n      }\r\n      return this.offsetParent\r\n    },\r\n    setPointer: function (e) {\r\n      var pointer = this.getPointer(e)\r\n\r\n      if(this.$getOffsetParent()){\r\n        var relativePointer = getRelativePosition(pointer, this.$getOffsetParent())\r\n        this.lastRelativePointer = this.relativePointer\r\n        this.relativePointer = relativePointer\r\n      }\r\n\r\n      this.lastPointer = this.pointer\r\n      this.pointer = pointer\r\n    },\r\n    distanceMet: function (e) {\r\n      var currentPointer = this.getPointer(e)\r\n      return (Math.max(\r\n        Math.abs(this.pointer.left - currentPointer.left),\r\n        Math.abs(this.pointer.top - currentPointer.top)\r\n      ) >= this.options.distance)\r\n    },\r\n    getPointer: function(e) {\r\n      var o = e.originalEvent || e.originalEvent.touches && e.originalEvent.touches[0]\r\n      return {\r\n        left: e.pageX || o.pageX,\r\n        top: e.pageY || o.pageY\r\n      }\r\n    },\r\n    setupDelayTimer: function () {\r\n      var that = this\r\n      this.delayMet = !this.options.delay\r\n\r\n      // init delay timer if needed\r\n      if (!this.delayMet) {\r\n        clearTimeout(this._mouseDelayTimer);\r\n        this._mouseDelayTimer = setTimeout(function() {\r\n          that.delayMet = true\r\n        }, this.options.delay)\r\n      }\r\n    },\r\n    scroll: function  (e) {\r\n      this.clearDimensions()\r\n      this.clearOffsetParent() // TODO is this needed?\r\n    },\r\n    toggleListeners: function (method) {\r\n      var that = this,\r\n      events = ['drag','drop','scroll']\r\n\r\n      $.each(events,function  (i,event) {\r\n        that.$document[method](eventNames[event], that[event + 'Proxy'])\r\n      })\r\n    },\r\n    clearOffsetParent: function () {\r\n      this.offsetParent = undefined\r\n    },\r\n    // Recursively clear container and item dimensions\r\n    clearDimensions: function  () {\r\n      this.traverse(function(object){\r\n        object._clearDimensions()\r\n      })\r\n    },\r\n    traverse: function(callback) {\r\n      callback(this)\r\n      var i = this.containers.length\r\n      while(i--){\r\n        this.containers[i].traverse(callback)\r\n      }\r\n    },\r\n    _clearDimensions: function(){\r\n      this.containerDimensions = undefined\r\n    },\r\n    _destroy: function () {\r\n      containerGroups[this.options.group] = undefined\r\n    }\r\n  }\r\n\r\n  function Container(element, options) {\r\n    this.el = element\r\n    this.options = $.extend( {}, containerDefaults, options)\r\n\r\n    this.group = ContainerGroup.get(this.options)\r\n    this.rootGroup = this.options.rootGroup || this.group\r\n    this.handle = this.rootGroup.options.handle || this.rootGroup.options.itemSelector\r\n\r\n    var itemPath = this.rootGroup.options.itemPath\r\n    this.target = itemPath ? this.el.find(itemPath) : this.el\r\n\r\n    this.target.on(eventNames.start, this.handle, $.proxy(this.dragInit, this))\r\n\r\n    if(this.options.drop)\r\n      this.group.containers.push(this)\r\n  }\r\n\r\n  Container.prototype = {\r\n    dragInit: function  (e) {\r\n      var rootGroup = this.rootGroup\r\n\r\n      if( !this.disabled &&\r\n          !rootGroup.dragInitDone &&\r\n          this.options.drag &&\r\n          this.isValidDrag(e)) {\r\n        rootGroup.dragInit(e, this)\r\n      }\r\n    },\r\n    isValidDrag: function(e) {\r\n      return e.which == 1 ||\r\n        e.type == \"touchstart\" && e.originalEvent.touches.length == 1\r\n    },\r\n    searchValidTarget: function  (pointer, lastPointer) {\r\n      var distances = sortByDistanceDesc(this.getItemDimensions(),\r\n                                         pointer,\r\n                                         lastPointer),\r\n      i = distances.length,\r\n      rootGroup = this.rootGroup,\r\n      validTarget = !rootGroup.options.isValidTarget ||\r\n        rootGroup.options.isValidTarget(rootGroup.item, this)\r\n\r\n      if(!i && validTarget){\r\n        rootGroup.movePlaceholder(this, this.target, \"append\")\r\n        return true\r\n      } else\r\n        while(i--){\r\n          var index = distances[i][0],\r\n          distance = distances[i][1]\r\n          if(!distance && this.hasChildGroup(index)){\r\n            var found = this.getContainerGroup(index).searchValidTarget(pointer, lastPointer)\r\n            if(found)\r\n              return true\r\n          }\r\n          else if(validTarget){\r\n            this.movePlaceholder(index, pointer)\r\n            return true\r\n          }\r\n        }\r\n    },\r\n    movePlaceholder: function  (index, pointer) {\r\n      var item = $(this.items[index]),\r\n      dim = this.itemDimensions[index],\r\n      method = \"after\",\r\n      width = item.outerWidth(),\r\n      height = item.outerHeight(),\r\n      offset = item.offset(),\r\n      sameResultBox = {\r\n        left: offset.left,\r\n        right: offset.left + width,\r\n        top: offset.top,\r\n        bottom: offset.top + height\r\n      }\r\n      if(this.options.vertical){\r\n        var yCenter = (dim[2] + dim[3]) / 2,\r\n        inUpperHalf = pointer.top <= yCenter\r\n        if(inUpperHalf){\r\n          method = \"before\"\r\n          sameResultBox.bottom -= height / 2\r\n        } else\r\n          sameResultBox.top += height / 2\r\n      } else {\r\n        var xCenter = (dim[0] + dim[1]) / 2,\r\n        inLeftHalf = pointer.left <= xCenter\r\n        if(inLeftHalf){\r\n          method = \"before\"\r\n          sameResultBox.right -= width / 2\r\n        } else\r\n          sameResultBox.left += width / 2\r\n      }\r\n      if(this.hasChildGroup(index))\r\n        sameResultBox = emptyBox\r\n      this.rootGroup.movePlaceholder(this, item, method, sameResultBox)\r\n    },\r\n    getItemDimensions: function  () {\r\n      if(!this.itemDimensions){\r\n        this.items = this.$getChildren(this.el, \"item\").filter(\r\n          \":not(.\" + this.group.options.placeholderClass + \", .\" + this.group.options.draggedClass + \")\"\r\n        ).get()\r\n        setDimensions(this.items, this.itemDimensions = [], this.options.tolerance)\r\n      }\r\n      return this.itemDimensions\r\n    },\r\n    getItemOffsetParent: function  () {\r\n      var offsetParent,\r\n      el = this.el\r\n      // Since el might be empty we have to check el itself and\r\n      // can not do something like el.children().first().offsetParent()\r\n      if(el.css(\"position\") === \"relative\" || el.css(\"position\") === \"absolute\"  || el.css(\"position\") === \"fixed\")\r\n        offsetParent = el\r\n      else\r\n        offsetParent = el.offsetParent()\r\n      return offsetParent\r\n    },\r\n    hasChildGroup: function (index) {\r\n      return this.options.nested && this.getContainerGroup(index)\r\n    },\r\n    getContainerGroup: function  (index) {\r\n      var childGroup = $.data(this.items[index], subContainerKey)\r\n      if( childGroup === undefined){\r\n        var childContainers = this.$getChildren(this.items[index], \"container\")\r\n        childGroup = false\r\n\r\n        if(childContainers[0]){\r\n          var options = $.extend({}, this.options, {\r\n            rootGroup: this.rootGroup,\r\n            group: groupCounter ++\r\n          })\r\n          childGroup = childContainers[pluginName](options).data(pluginName).group\r\n        }\r\n        $.data(this.items[index], subContainerKey, childGroup)\r\n      }\r\n      return childGroup\r\n    },\r\n    $getChildren: function (parent, type) {\r\n      var options = this.rootGroup.options,\r\n      path = options[type + \"Path\"],\r\n      selector = options[type + \"Selector\"]\r\n\r\n      parent = $(parent)\r\n      if(path)\r\n        parent = parent.find(path)\r\n\r\n      return parent.children(selector)\r\n    },\r\n    _serialize: function (parent, isContainer) {\r\n      var that = this,\r\n      childType = isContainer ? \"item\" : \"container\",\r\n\r\n      children = this.$getChildren(parent, childType).not(this.options.exclude).map(function () {\r\n        return that._serialize($(this), !isContainer)\r\n      }).get()\r\n\r\n      return this.rootGroup.options.serialize(parent, children, isContainer)\r\n    },\r\n    traverse: function(callback) {\r\n      $.each(this.items || [], function(item){\r\n        var group = $.data(this, subContainerKey)\r\n        if(group)\r\n          group.traverse(callback)\r\n      });\r\n\r\n      callback(this)\r\n    },\r\n    _clearDimensions: function  () {\r\n      this.itemDimensions = undefined\r\n    },\r\n    _destroy: function() {\r\n      var that = this;\r\n\r\n      this.target.off(eventNames.start, this.handle);\r\n      this.el.removeData(pluginName)\r\n\r\n      if(this.options.drop)\r\n        this.group.containers = $.grep(this.group.containers, function(val){\r\n          return val != that\r\n        })\r\n\r\n      $.each(this.items || [], function(){\r\n        $.removeData(this, subContainerKey)\r\n      })\r\n    }\r\n  }\r\n\r\n  var API = {\r\n    enable: function() {\r\n      this.traverse(function(object){\r\n        object.disabled = false\r\n      })\r\n    },\r\n    disable: function (){\r\n      this.traverse(function(object){\r\n        object.disabled = true\r\n      })\r\n    },\r\n    serialize: function () {\r\n      return this._serialize(this.el, true)\r\n    },\r\n    refresh: function() {\r\n      this.traverse(function(object){\r\n        object._clearDimensions()\r\n      })\r\n    },\r\n    destroy: function () {\r\n      this.traverse(function(object){\r\n        object._destroy();\r\n      })\r\n    }\r\n  }\r\n\r\n  $.extend(Container.prototype, API)\r\n\r\n  /**\r\n   * jQuery API\r\n   *\r\n   * Parameters are\r\n   *   either options on init\r\n   *   or a method name followed by arguments to pass to the method\r\n   */\r\n  $.fn[pluginName] = function(methodOrOptions) {\r\n    var args = Array.prototype.slice.call(arguments, 1)\r\n\r\n    return this.map(function(){\r\n      var $t = $(this),\r\n      object = $t.data(pluginName)\r\n\r\n      if(object && API[methodOrOptions])\r\n        return API[methodOrOptions].apply(object, args) || this\r\n      else if(!object && (methodOrOptions === undefined ||\r\n                          typeof methodOrOptions === \"object\"))\r\n        $t.data(pluginName, new Container($t, methodOrOptions))\r\n\r\n      return this\r\n    });\r\n  };\r\n\r\n}(jQuery, window, 'sortable');\r\n","/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\n// Full polyfill for browsers with no classList support\nif (!(\"classList\" in document.createElement(\"_\"))) {\n  (function (view) {\n\n  \"use strict\";\n\n  if (!('Element' in view)) return;\n\n  var\n      classListProp = \"classList\"\n    , protoProp = \"prototype\"\n    , elemCtrProto = view.Element[protoProp]\n    , objCtr = Object\n    , strTrim = String[protoProp].trim || function () {\n      return this.replace(/^\\s+|\\s+$/g, \"\");\n    }\n    , arrIndexOf = Array[protoProp].indexOf || function (item) {\n      var\n          i = 0\n        , len = this.length\n      ;\n      for (; i < len; i++) {\n        if (i in this && this[i] === item) {\n          return i;\n        }\n      }\n      return -1;\n    }\n    // Vendors: please allow content code to instantiate DOMExceptions\n    , DOMEx = function (type, message) {\n      this.name = type;\n      this.code = DOMException[type];\n      this.message = message;\n    }\n    , checkTokenAndGetIndex = function (classList, token) {\n      if (token === \"\") {\n        throw new DOMEx(\n            \"SYNTAX_ERR\"\n          , \"An invalid or illegal string was specified\"\n        );\n      }\n      if (/\\s/.test(token)) {\n        throw new DOMEx(\n            \"INVALID_CHARACTER_ERR\"\n          , \"String contains an invalid character\"\n        );\n      }\n      return arrIndexOf.call(classList, token);\n    }\n    , ClassList = function (elem) {\n      var\n          trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n        , classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n        , i = 0\n        , len = classes.length\n      ;\n      for (; i < len; i++) {\n        this.push(classes[i]);\n      }\n      this._updateClassName = function () {\n        elem.setAttribute(\"class\", this.toString());\n      };\n    }\n    , classListProto = ClassList[protoProp] = []\n    , classListGetter = function () {\n      return new ClassList(this);\n    }\n  ;\n  // Most DOMException implementations don't allow calling DOMException's toString()\n  // on non-DOMExceptions. Error's toString() is sufficient here.\n  DOMEx[protoProp] = Error[protoProp];\n  classListProto.item = function (i) {\n    return this[i] || null;\n  };\n  classListProto.contains = function (token) {\n    token += \"\";\n    return checkTokenAndGetIndex(this, token) !== -1;\n  };\n  classListProto.add = function () {\n    var\n        tokens = arguments\n      , i = 0\n      , l = tokens.length\n      , token\n      , updated = false\n    ;\n    do {\n      token = tokens[i] + \"\";\n      if (checkTokenAndGetIndex(this, token) === -1) {\n        this.push(token);\n        updated = true;\n      }\n    }\n    while (++i < l);\n\n    if (updated) {\n      this._updateClassName();\n    }\n  };\n  classListProto.remove = function () {\n    var\n        tokens = arguments\n      , i = 0\n      , l = tokens.length\n      , token\n      , updated = false\n      , index\n    ;\n    do {\n      token = tokens[i] + \"\";\n      index = checkTokenAndGetIndex(this, token);\n      while (index !== -1) {\n        this.splice(index, 1);\n        updated = true;\n        index = checkTokenAndGetIndex(this, token);\n      }\n    }\n    while (++i < l);\n\n    if (updated) {\n      this._updateClassName();\n    }\n  };\n  classListProto.toggle = function (token, force) {\n    token += \"\";\n\n    var\n        result = this.contains(token)\n      , method = result ?\n        force !== true && \"remove\"\n      :\n        force !== false && \"add\"\n    ;\n\n    if (method) {\n      this[method](token);\n    }\n\n    if (force === true || force === false) {\n      return force;\n    } else {\n      return !result;\n    }\n  };\n  classListProto.toString = function () {\n    return this.join(\" \");\n  };\n\n  if (objCtr.defineProperty) {\n    var classListPropDesc = {\n        get: classListGetter\n      , enumerable: true\n      , configurable: true\n    };\n    try {\n      objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n    } catch (ex) { // IE 8 doesn't support enumerable:true\n      if (ex.number === -0x7FF5EC54) {\n        classListPropDesc.enumerable = false;\n        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n      }\n    }\n  } else if (objCtr[protoProp].__defineGetter__) {\n    elemCtrProto.__defineGetter__(classListProp, classListGetter);\n  }\n\n  }(self));\n}\n\n/* Blob.js\n * A Blob implementation.\n * 2014-07-24\n *\n * By Eli Grey, http://eligrey.com\n * By Devin Samarin, https://github.com/dsamarin\n * License: X11/MIT\n *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md\n */\n\n/*global self, unescape */\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\n  plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */\n\n(function (view) {\n  \"use strict\";\n\n  view.URL = view.URL || view.webkitURL;\n\n  if (view.Blob && view.URL) {\n    try {\n      new Blob;\n      return;\n    } catch (e) {}\n  }\n\n  // Internally we use a BlobBuilder implementation to base Blob off of\n  // in order to support older browsers that only have BlobBuilder\n  var BlobBuilder = view.BlobBuilder || view.WebKitBlobBuilder || view.MozBlobBuilder || (function(view) {\n    var\n        get_class = function(object) {\n        return Object.prototype.toString.call(object).match(/^\\[object\\s(.*)\\]$/)[1];\n      }\n      , FakeBlobBuilder = function BlobBuilder() {\n        this.data = [];\n      }\n      , FakeBlob = function Blob(data, type, encoding) {\n        this.data = data;\n        this.size = data.length;\n        this.type = type;\n        this.encoding = encoding;\n      }\n      , FBB_proto = FakeBlobBuilder.prototype\n      , FB_proto = FakeBlob.prototype\n      , FileReaderSync = view.FileReaderSync\n      , FileException = function(type) {\n        this.code = this[this.name = type];\n      }\n      , file_ex_codes = (\n          \"NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR \"\n        + \"NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR\"\n      ).split(\" \")\n      , file_ex_code = file_ex_codes.length\n      , real_URL = view.URL || view.webkitURL || view\n      , real_create_object_URL = real_URL.createObjectURL\n      , real_revoke_object_URL = real_URL.revokeObjectURL\n      , URL = real_URL\n      , btoa = view.btoa\n      , atob = view.atob\n\n      , ArrayBuffer = view.ArrayBuffer\n      , Uint8Array = view.Uint8Array\n\n      , origin = /^[\\w-]+:\\/*\\[?[\\w\\.:-]+\\]?(?::[0-9]+)?/\n    ;\n    FakeBlob.fake = FB_proto.fake = true;\n    while (file_ex_code--) {\n      FileException.prototype[file_ex_codes[file_ex_code]] = file_ex_code + 1;\n    }\n    // Polyfill URL\n    if (!real_URL.createObjectURL) {\n      URL = view.URL = function(uri) {\n        var\n            uri_info = document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n          , uri_origin\n        ;\n        uri_info.href = uri;\n        if (!(\"origin\" in uri_info)) {\n          if (uri_info.protocol.toLowerCase() === \"data:\") {\n            uri_info.origin = null;\n          } else {\n            uri_origin = uri.match(origin);\n            uri_info.origin = uri_origin && uri_origin[1];\n          }\n        }\n        return uri_info;\n      };\n    }\n    URL.createObjectURL = function(blob) {\n      var\n          type = blob.type\n        , data_URI_header\n      ;\n      if (type === null) {\n        type = \"application/octet-stream\";\n      }\n      if (blob instanceof FakeBlob) {\n        data_URI_header = \"data:\" + type;\n        if (blob.encoding === \"base64\") {\n          return data_URI_header + \";base64,\" + blob.data;\n        } else if (blob.encoding === \"URI\") {\n          return data_URI_header + \",\" + decodeURIComponent(blob.data);\n        } if (btoa) {\n          return data_URI_header + \";base64,\" + btoa(blob.data);\n        } else {\n          return data_URI_header + \",\" + encodeURIComponent(blob.data);\n        }\n      } else if (real_create_object_URL) {\n        return real_create_object_URL.call(real_URL, blob);\n      }\n    };\n    URL.revokeObjectURL = function(object_URL) {\n      if (object_URL.substring(0, 5) !== \"data:\" && real_revoke_object_URL) {\n        real_revoke_object_URL.call(real_URL, object_URL);\n      }\n    };\n    FBB_proto.append = function(data/*, endings*/) {\n      var bb = this.data;\n      // decode data to a binary string\n      if (Uint8Array && (data instanceof ArrayBuffer || data instanceof Uint8Array)) {\n        var\n            str = \"\"\n          , buf = new Uint8Array(data)\n          , i = 0\n          , buf_len = buf.length\n        ;\n        for (; i < buf_len; i++) {\n          str += String.fromCharCode(buf[i]);\n        }\n        bb.push(str);\n      } else if (get_class(data) === \"Blob\" || get_class(data) === \"File\") {\n        if (FileReaderSync) {\n          var fr = new FileReaderSync;\n          bb.push(fr.readAsBinaryString(data));\n        } else {\n          // async FileReader won't work as BlobBuilder is sync\n          throw new FileException(\"NOT_READABLE_ERR\");\n        }\n      } else if (data instanceof FakeBlob) {\n        if (data.encoding === \"base64\" && atob) {\n          bb.push(atob(data.data));\n        } else if (data.encoding === \"URI\") {\n          bb.push(decodeURIComponent(data.data));\n        } else if (data.encoding === \"raw\") {\n          bb.push(data.data);\n        }\n      } else {\n        if (typeof data !== \"string\") {\n          data += \"\"; // convert unsupported types to strings\n        }\n        // decode UTF-16 to binary string\n        bb.push(unescape(encodeURIComponent(data)));\n      }\n    };\n    FBB_proto.getBlob = function(type) {\n      if (!arguments.length) {\n        type = null;\n      }\n      return new FakeBlob(this.data.join(\"\"), type, \"raw\");\n    };\n    FBB_proto.toString = function() {\n      return \"[object BlobBuilder]\";\n    };\n    FB_proto.slice = function(start, end, type) {\n      var args = arguments.length;\n      if (args < 3) {\n        type = null;\n      }\n      return new FakeBlob(\n          this.data.slice(start, args > 1 ? end : this.data.length)\n        , type\n        , this.encoding\n      );\n    };\n    FB_proto.toString = function() {\n      return \"[object Blob]\";\n    };\n    FB_proto.close = function() {\n      this.size = 0;\n      delete this.data;\n    };\n    return FakeBlobBuilder;\n  }(view));\n\n  view.Blob = function(blobParts, options) {\n    var type = options ? (options.type || \"\") : \"\";\n    var builder = new BlobBuilder();\n    if (blobParts) {\n      for (var i = 0, len = blobParts.length; i < len; i++) {\n        if (Uint8Array && blobParts[i] instanceof Uint8Array) {\n          builder.append(blobParts[i].buffer);\n        }\n        else {\n          builder.append(blobParts[i]);\n        }\n      }\n    }\n    var blob = builder.getBlob(type);\n    if (!blob.slice && blob.webkitSlice) {\n      blob.slice = blob.webkitSlice;\n    }\n    return blob;\n  };\n\n  var getPrototypeOf = Object.getPrototypeOf || function(object) {\n    return object.__proto__;\n  };\n  view.Blob.prototype = getPrototypeOf(new view.Blob());\n}(typeof self !== \"undefined\" && self || typeof window !== \"undefined\" && window || this.content || this));\n\n(function (root, factory) {\n    'use strict';\n    var isElectron = typeof module === 'object' && typeof process !== 'undefined' && process && process.versions && process.versions.electron;\n    if (!isElectron && typeof module === 'object') {\n        module.exports = factory;\n    } else if (typeof define === 'function' && define.amd) {\n        define(function () {\n            return factory;\n        });\n    } else {\n        root.MediumEditor = factory;\n    }\n}(this, function () {\n\n    'use strict';\n\nfunction MediumEditor(elements, options) {\n    'use strict';\n    return this.init(elements, options);\n}\n\nMediumEditor.extensions = {};\n/*jshint unused: true */\n(function (window) {\n    'use strict';\n\n    function copyInto(overwrite, dest) {\n        var prop,\n            sources = Array.prototype.slice.call(arguments, 2);\n        dest = dest || {};\n        for (var i = 0; i < sources.length; i++) {\n            var source = sources[i];\n            if (source) {\n                for (prop in source) {\n                    if (source.hasOwnProperty(prop) &&\n                        typeof source[prop] !== 'undefined' &&\n                        (overwrite || dest.hasOwnProperty(prop) === false)) {\n                        dest[prop] = source[prop];\n                    }\n                }\n            }\n        }\n        return dest;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/Node/contains\n    // Some browsers (including phantom) don't return true for Node.contains(child)\n    // if child is a text node.  Detect these cases here and use a fallback\n    // for calls to Util.isDescendant()\n    var nodeContainsWorksWithTextNodes = false;\n    try {\n        var testParent = document.createElement('div'),\n            testText = document.createTextNode(' ');\n        testParent.appendChild(testText);\n        nodeContainsWorksWithTextNodes = testParent.contains(testText);\n    } catch (exc) {}\n\n    var Util = {\n\n        // http://stackoverflow.com/questions/17907445/how-to-detect-ie11#comment30165888_17907562\n        // by rg89\n        isIE: ((navigator.appName === 'Microsoft Internet Explorer') || ((navigator.appName === 'Netscape') && (new RegExp('Trident/.*rv:([0-9]{1,}[.0-9]{0,})').exec(navigator.userAgent) !== null))),\n\n        isEdge: (/Edge\\/\\d+/).exec(navigator.userAgent) !== null,\n\n        // if firefox\n        isFF: (navigator.userAgent.toLowerCase().indexOf('firefox') > -1),\n\n        // http://stackoverflow.com/a/11752084/569101\n        isMac: (window.navigator.platform.toUpperCase().indexOf('MAC') >= 0),\n\n        // https://github.com/jashkenas/underscore\n        // Lonely letter MUST USE the uppercase code\n        keyCode: {\n            BACKSPACE: 8,\n            TAB: 9,\n            ENTER: 13,\n            ESCAPE: 27,\n            SPACE: 32,\n            DELETE: 46,\n            K: 75, // K keycode, and not k\n            M: 77,\n            V: 86\n        },\n\n        /**\n         * Returns true if it's metaKey on Mac, or ctrlKey on non-Mac.\n         * See #591\n         */\n        isMetaCtrlKey: function (event) {\n            if ((Util.isMac && event.metaKey) || (!Util.isMac && event.ctrlKey)) {\n                return true;\n            }\n\n            return false;\n        },\n\n        /**\n         * Returns true if the key associated to the event is inside keys array\n         *\n         * @see : https://github.com/jquery/jquery/blob/0705be475092aede1eddae01319ec931fb9c65fc/src/event.js#L473-L484\n         * @see : http://stackoverflow.com/q/4471582/569101\n         */\n        isKey: function (event, keys) {\n            var keyCode = Util.getKeyCode(event);\n\n            // it's not an array let's just compare strings!\n            if (false === Array.isArray(keys)) {\n                return keyCode === keys;\n            }\n\n            if (-1 === keys.indexOf(keyCode)) {\n                return false;\n            }\n\n            return true;\n        },\n\n        getKeyCode: function (event) {\n            var keyCode = event.which;\n\n            // getting the key code from event\n            if (null === keyCode) {\n                keyCode = event.charCode !== null ? event.charCode : event.keyCode;\n            }\n\n            return keyCode;\n        },\n\n        blockContainerElementNames: [\n            // elements our editor generates\n            'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'pre', 'ul', 'li', 'ol',\n            // all other known block elements\n            'address', 'article', 'aside', 'audio', 'canvas', 'dd', 'dl', 'dt', 'fieldset',\n            'figcaption', 'figure', 'footer', 'form', 'header', 'hgroup', 'main', 'nav',\n            'noscript', 'output', 'section', 'video',\n            'table', 'thead', 'tbody', 'tfoot', 'tr', 'th', 'td'\n        ],\n\n        emptyElementNames: ['br', 'col', 'colgroup', 'hr', 'img', 'input', 'source', 'wbr'],\n\n        extend: function extend(/* dest, source1, source2, ...*/) {\n            var args = [true].concat(Array.prototype.slice.call(arguments));\n            return copyInto.apply(this, args);\n        },\n\n        defaults: function defaults(/*dest, source1, source2, ...*/) {\n            var args = [false].concat(Array.prototype.slice.call(arguments));\n            return copyInto.apply(this, args);\n        },\n\n        /*\n         * Create a link around the provided text nodes which must be adjacent to each other and all be\n         * descendants of the same closest block container. If the preconditions are not met, unexpected\n         * behavior will result.\n         */\n        createLink: function (document, textNodes, href, target) {\n            var anchor = document.createElement('a');\n            Util.moveTextRangeIntoElement(textNodes[0], textNodes[textNodes.length - 1], anchor);\n            anchor.setAttribute('href', href);\n            if (target) {\n                if (target === '_blank') {\n                    anchor.setAttribute('rel', 'noopener noreferrer');\n                }\n                anchor.setAttribute('target', target);\n            }\n            return anchor;\n        },\n\n        /*\n         * Given the provided match in the format {start: 1, end: 2} where start and end are indices into the\n         * textContent of the provided element argument, modify the DOM inside element to ensure that the text\n         * identified by the provided match can be returned as text nodes that contain exactly that text, without\n         * any additional text at the beginning or end of the returned array of adjacent text nodes.\n         *\n         * The only DOM manipulation performed by this function is splitting the text nodes, non-text nodes are\n         * not affected in any way.\n         */\n        findOrCreateMatchingTextNodes: function (document, element, match) {\n            var treeWalker = document.createTreeWalker(element, NodeFilter.SHOW_ALL, null, false),\n                matchedNodes = [],\n                currentTextIndex = 0,\n                startReached = false,\n                currentNode = null,\n                newNode = null;\n\n            while ((currentNode = treeWalker.nextNode()) !== null) {\n                if (currentNode.nodeType > 3) {\n                    continue;\n                } else if (currentNode.nodeType === 3) {\n                    if (!startReached && match.start < (currentTextIndex + currentNode.nodeValue.length)) {\n                        startReached = true;\n                        newNode = Util.splitStartNodeIfNeeded(currentNode, match.start, currentTextIndex);\n                    }\n                    if (startReached) {\n                        Util.splitEndNodeIfNeeded(currentNode, newNode, match.end, currentTextIndex);\n                    }\n                    if (startReached && currentTextIndex === match.end) {\n                        break; // Found the node(s) corresponding to the link. Break out and move on to the next.\n                    } else if (startReached && currentTextIndex > (match.end + 1)) {\n                        throw new Error('PerformLinking overshot the target!'); // should never happen...\n                    }\n\n                    if (startReached) {\n                        matchedNodes.push(newNode || currentNode);\n                    }\n\n                    currentTextIndex += currentNode.nodeValue.length;\n                    if (newNode !== null) {\n                        currentTextIndex += newNode.nodeValue.length;\n                        // Skip the newNode as we'll already have pushed it to the matches\n                        treeWalker.nextNode();\n                    }\n                    newNode = null;\n                } else if (currentNode.tagName.toLowerCase() === 'img') {\n                    if (!startReached && (match.start <= currentTextIndex)) {\n                        startReached = true;\n                    }\n                    if (startReached) {\n                        matchedNodes.push(currentNode);\n                    }\n                }\n            }\n            return matchedNodes;\n        },\n\n        /*\n         * Given the provided text node and text coordinates, split the text node if needed to make it align\n         * precisely with the coordinates.\n         *\n         * This function is intended to be called from Util.findOrCreateMatchingTextNodes.\n         */\n        splitStartNodeIfNeeded: function (currentNode, matchStartIndex, currentTextIndex) {\n            if (matchStartIndex !== currentTextIndex) {\n                return currentNode.splitText(matchStartIndex - currentTextIndex);\n            }\n            return null;\n        },\n\n        /*\n         * Given the provided text node and text coordinates, split the text node if needed to make it align\n         * precisely with the coordinates. The newNode argument should from the result of Util.splitStartNodeIfNeeded,\n         * if that function has been called on the same currentNode.\n         *\n         * This function is intended to be called from Util.findOrCreateMatchingTextNodes.\n         */\n        splitEndNodeIfNeeded: function (currentNode, newNode, matchEndIndex, currentTextIndex) {\n            var textIndexOfEndOfFarthestNode,\n                endSplitPoint;\n            textIndexOfEndOfFarthestNode = currentTextIndex + currentNode.nodeValue.length +\n                    (newNode ? newNode.nodeValue.length : 0) - 1;\n            endSplitPoint = matchEndIndex - currentTextIndex -\n                    (newNode ? currentNode.nodeValue.length : 0);\n            if (textIndexOfEndOfFarthestNode >= matchEndIndex &&\n                    currentTextIndex !== textIndexOfEndOfFarthestNode &&\n                    endSplitPoint !== 0) {\n                (newNode || currentNode).splitText(endSplitPoint);\n            }\n        },\n\n        /*\n        * Take an element, and break up all of its text content into unique pieces such that:\n         * 1) All text content of the elements are in separate blocks. No piece of text content should span\n         *    across multiple blocks. This means no element return by this function should have\n         *    any blocks as children.\n         * 2) The union of the textcontent of all of the elements returned here covers all\n         *    of the text within the element.\n         *\n         *\n         * EXAMPLE:\n         * In the event that we have something like:\n         *\n         * <blockquote>\n         *   <p>Some Text</p>\n         *   <ol>\n         *     <li>List Item 1</li>\n         *     <li>List Item 2</li>\n         *   </ol>\n         * </blockquote>\n         *\n         * This function would return these elements as an array:\n         *   [ <p>Some Text</p>, <li>List Item 1</li>, <li>List Item 2</li> ]\n         *\n         * Since the <blockquote> and <ol> elements contain blocks within them they are not returned.\n         * Since the <p> and <li>'s don't contain block elements and cover all the text content of the\n         * <blockquote> container, they are the elements returned.\n         */\n        splitByBlockElements: function (element) {\n            if (element.nodeType !== 3 && element.nodeType !== 1) {\n                return [];\n            }\n\n            var toRet = [],\n                blockElementQuery = MediumEditor.util.blockContainerElementNames.join(',');\n\n            if (element.nodeType === 3 || element.querySelectorAll(blockElementQuery).length === 0) {\n                return [element];\n            }\n\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var child = element.childNodes[i];\n                if (child.nodeType === 3) {\n                    toRet.push(child);\n                } else if (child.nodeType === 1) {\n                    var blockElements = child.querySelectorAll(blockElementQuery);\n                    if (blockElements.length === 0) {\n                        toRet.push(child);\n                    } else {\n                        toRet = toRet.concat(MediumEditor.util.splitByBlockElements(child));\n                    }\n                }\n            }\n\n            return toRet;\n        },\n\n        // Find the next node in the DOM tree that represents any text that is being\n        // displayed directly next to the targetNode (passed as an argument)\n        // Text that appears directly next to the current node can be:\n        //  - A sibling text node\n        //  - A descendant of a sibling element\n        //  - A sibling text node of an ancestor\n        //  - A descendant of a sibling element of an ancestor\n        findAdjacentTextNodeWithContent: function findAdjacentTextNodeWithContent(rootNode, targetNode, ownerDocument) {\n            var pastTarget = false,\n                nextNode,\n                nodeIterator = ownerDocument.createNodeIterator(rootNode, NodeFilter.SHOW_TEXT, null, false);\n\n            // Use a native NodeIterator to iterate over all the text nodes that are descendants\n            // of the rootNode.  Once past the targetNode, choose the first non-empty text node\n            nextNode = nodeIterator.nextNode();\n            while (nextNode) {\n                if (nextNode === targetNode) {\n                    pastTarget = true;\n                } else if (pastTarget) {\n                    if (nextNode.nodeType === 3 && nextNode.nodeValue && nextNode.nodeValue.trim().length > 0) {\n                        break;\n                    }\n                }\n                nextNode = nodeIterator.nextNode();\n            }\n\n            return nextNode;\n        },\n\n        // Find an element's previous sibling within a medium-editor element\n        // If one doesn't exist, find the closest ancestor's previous sibling\n        findPreviousSibling: function (node) {\n            if (!node || Util.isMediumEditorElement(node)) {\n                return false;\n            }\n\n            var previousSibling = node.previousSibling;\n            while (!previousSibling && !Util.isMediumEditorElement(node.parentNode)) {\n                node = node.parentNode;\n                previousSibling = node.previousSibling;\n            }\n\n            return previousSibling;\n        },\n\n        isDescendant: function isDescendant(parent, child, checkEquality) {\n            if (!parent || !child) {\n                return false;\n            }\n            if (parent === child) {\n                return !!checkEquality;\n            }\n            // If parent is not an element, it can't have any descendants\n            if (parent.nodeType !== 1) {\n                return false;\n            }\n            if (nodeContainsWorksWithTextNodes || child.nodeType !== 3) {\n                return parent.contains(child);\n            }\n            var node = child.parentNode;\n            while (node !== null) {\n                if (node === parent) {\n                    return true;\n                }\n                node = node.parentNode;\n            }\n            return false;\n        },\n\n        // https://github.com/jashkenas/underscore\n        isElement: function isElement(obj) {\n            return !!(obj && obj.nodeType === 1);\n        },\n\n        // https://github.com/jashkenas/underscore\n        throttle: function (func, wait) {\n            var THROTTLE_INTERVAL = 50,\n                context,\n                args,\n                result,\n                timeout = null,\n                previous = 0,\n                later = function () {\n                    previous = Date.now();\n                    timeout = null;\n                    result = func.apply(context, args);\n                    if (!timeout) {\n                        context = args = null;\n                    }\n                };\n\n            if (!wait && wait !== 0) {\n                wait = THROTTLE_INTERVAL;\n            }\n\n            return function () {\n                var now = Date.now(),\n                    remaining = wait - (now - previous);\n\n                context = this;\n                args = arguments;\n                if (remaining <= 0 || remaining > wait) {\n                    if (timeout) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                    }\n                    previous = now;\n                    result = func.apply(context, args);\n                    if (!timeout) {\n                        context = args = null;\n                    }\n                } else if (!timeout) {\n                    timeout = setTimeout(later, remaining);\n                }\n                return result;\n            };\n        },\n\n        traverseUp: function (current, testElementFunction) {\n            if (!current) {\n                return false;\n            }\n\n            do {\n                if (current.nodeType === 1) {\n                    if (testElementFunction(current)) {\n                        return current;\n                    }\n                    // do not traverse upwards past the nearest containing editor\n                    if (Util.isMediumEditorElement(current)) {\n                        return false;\n                    }\n                }\n\n                current = current.parentNode;\n            } while (current);\n\n            return false;\n        },\n\n        htmlEntities: function (str) {\n            // converts special characters (like <) into their escaped/encoded values (like &lt;).\n            // This allows you to show to display the string without the browser reading it as HTML.\n            return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n        },\n\n        // http://stackoverflow.com/questions/6690752/insert-html-at-caret-in-a-contenteditable-div\n        insertHTMLCommand: function (doc, html) {\n            var selection, range, el, fragment, node, lastNode, toReplace,\n                res = false,\n                ecArgs = ['insertHTML', false, html];\n\n            /* Edge's implementation of insertHTML is just buggy right now:\n             * - Doesn't allow leading white space at the beginning of an element\n             * - Found a case when a <font size=\"2\"> tag was inserted when calling alignCenter inside a blockquote\n             *\n             * There are likely other bugs, these are just the ones we found so far.\n             * For now, let's just use the same fallback we did for IE\n             */\n            if (!MediumEditor.util.isEdge && doc.queryCommandSupported('insertHTML')) {\n                try {\n                    return doc.execCommand.apply(doc, ecArgs);\n                } catch (ignore) {}\n            }\n\n            selection = doc.getSelection();\n            if (selection.rangeCount) {\n                range = selection.getRangeAt(0);\n                toReplace = range.commonAncestorContainer;\n\n                // https://github.com/yabwe/medium-editor/issues/748\n                // If the selection is an empty editor element, create a temporary text node inside of the editor\n                // and select it so that we don't delete the editor element\n                if (Util.isMediumEditorElement(toReplace) && !toReplace.firstChild) {\n                    range.selectNode(toReplace.appendChild(doc.createTextNode('')));\n                } else if ((toReplace.nodeType === 3 && range.startOffset === 0 && range.endOffset === toReplace.nodeValue.length) ||\n                        (toReplace.nodeType !== 3 && toReplace.innerHTML === range.toString())) {\n                    // Ensure range covers maximum amount of nodes as possible\n                    // By moving up the DOM and selecting ancestors whose only child is the range\n                    while (!Util.isMediumEditorElement(toReplace) &&\n                            toReplace.parentNode &&\n                            toReplace.parentNode.childNodes.length === 1 &&\n                            !Util.isMediumEditorElement(toReplace.parentNode)) {\n                        toReplace = toReplace.parentNode;\n                    }\n                    range.selectNode(toReplace);\n                }\n                range.deleteContents();\n\n                el = doc.createElement('div');\n                el.innerHTML = html;\n                fragment = doc.createDocumentFragment();\n                while (el.firstChild) {\n                    node = el.firstChild;\n                    lastNode = fragment.appendChild(node);\n                }\n                range.insertNode(fragment);\n\n                // Preserve the selection:\n                if (lastNode) {\n                    range = range.cloneRange();\n                    range.setStartAfter(lastNode);\n                    range.collapse(true);\n                    MediumEditor.selection.selectRange(doc, range);\n                }\n                res = true;\n            }\n\n            // https://github.com/yabwe/medium-editor/issues/992\n            // If we're monitoring calls to execCommand, notify listeners as if a real call had happened\n            if (doc.execCommand.callListeners) {\n                doc.execCommand.callListeners(ecArgs, res);\n            }\n            return res;\n        },\n\n        execFormatBlock: function (doc, tagName) {\n            // Get the top level block element that contains the selection\n            var blockContainer = Util.getTopBlockContainer(MediumEditor.selection.getSelectionStart(doc)),\n                childNodes;\n\n            // Special handling for blockquote\n            if (tagName === 'blockquote') {\n                if (blockContainer) {\n                    childNodes = Array.prototype.slice.call(blockContainer.childNodes);\n                    // Check if the blockquote has a block element as a child (nested blocks)\n                    if (childNodes.some(function (childNode) {\n                        return Util.isBlockContainer(childNode);\n                    })) {\n                        // FF handles blockquote differently on formatBlock\n                        // allowing nesting, we need to use outdent\n                        // https://developer.mozilla.org/en-US/docs/Rich-Text_Editing_in_Mozilla\n                        return doc.execCommand('outdent', false, null);\n                    }\n                }\n\n                // When IE blockquote needs to be called as indent\n                // http://stackoverflow.com/questions/1816223/rich-text-editor-with-blockquote-function/1821777#1821777\n                if (Util.isIE) {\n                    return doc.execCommand('indent', false, tagName);\n                }\n            }\n\n            // If the blockContainer is already the element type being passed in\n            // treat it as 'undo' formatting and just convert it to a <p>\n            if (blockContainer && tagName === blockContainer.nodeName.toLowerCase()) {\n                tagName = 'p';\n            }\n\n            // When IE we need to add <> to heading elements\n            // http://stackoverflow.com/questions/10741831/execcommand-formatblock-headings-in-ie\n            if (Util.isIE) {\n                tagName = '<' + tagName + '>';\n            }\n\n            // When FF, IE and Edge, we have to handle blockquote node seperately as 'formatblock' does not work.\n            // https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand#Commands\n            if (blockContainer && blockContainer.nodeName.toLowerCase() === 'blockquote') {\n                // For IE, just use outdent\n                if (Util.isIE && tagName === '<p>') {\n                    return doc.execCommand('outdent', false, tagName);\n                }\n\n                // For Firefox and Edge, make sure there's a nested block element before calling outdent\n                if ((Util.isFF || Util.isEdge) && tagName === 'p') {\n                    childNodes = Array.prototype.slice.call(blockContainer.childNodes);\n                    // If there are some non-block elements we need to wrap everything in a <p> before we outdent\n                    if (childNodes.some(function (childNode) {\n                        return !Util.isBlockContainer(childNode);\n                    })) {\n                        doc.execCommand('formatBlock', false, tagName);\n                    }\n                    return doc.execCommand('outdent', false, tagName);\n                }\n            }\n\n            return doc.execCommand('formatBlock', false, tagName);\n        },\n\n        /**\n         * Set target to blank on the given el element\n         *\n         * TODO: not sure if this should be here\n         *\n         * When creating a link (using core -> createLink) the selection returned by Firefox will be the parent of the created link\n         * instead of the created link itself (as it is for Chrome for example), so we retrieve all \"a\" children to grab the good one by\n         * using `anchorUrl` to ensure that we are adding target=\"_blank\" on the good one.\n         * This isn't a bulletproof solution anyway ..\n         */\n        setTargetBlank: function (el, anchorUrl) {\n            var i, url = anchorUrl || false;\n            if (el.nodeName.toLowerCase() === 'a') {\n                el.target = '_blank';\n                el.rel = 'noopener noreferrer';\n            } else {\n                el = el.getElementsByTagName('a');\n\n                for (i = 0; i < el.length; i += 1) {\n                    if (false === url || url === el[i].attributes.href.value) {\n                        el[i].target = '_blank';\n                        el[i].rel = 'noopener noreferrer';\n                    }\n                }\n            }\n        },\n\n        /*\n         * this function is called to explicitly remove the target='_blank' as FF holds on to _blank value even\n         * after unchecking the checkbox on anchor form\n         */\n        removeTargetBlank: function (el, anchorUrl) {\n            var i;\n            if (el.nodeName.toLowerCase() === 'a') {\n                el.removeAttribute('target');\n                el.removeAttribute('rel');\n            } else {\n                el = el.getElementsByTagName('a');\n\n                for (i = 0; i < el.length; i += 1) {\n                    if (anchorUrl === el[i].attributes.href.value) {\n                        el[i].removeAttribute('target');\n                        el[i].removeAttribute('rel');\n                    }\n                }\n            }\n        },\n\n        /*\n         * this function adds one or several classes on an a element.\n         * if el parameter is not an a, it will look for a children of el.\n         * if no a children are found, it will look for the a parent.\n         */\n        addClassToAnchors: function (el, buttonClass) {\n            var classes = buttonClass.split(' '),\n                i,\n                j;\n            if (el.nodeName.toLowerCase() === 'a') {\n                for (j = 0; j < classes.length; j += 1) {\n                    el.classList.add(classes[j]);\n                }\n            } else {\n                var aChildren = el.getElementsByTagName('a');\n                if (aChildren.length === 0) {\n                    var parentAnchor = Util.getClosestTag(el, 'a');\n                    el = parentAnchor ? [parentAnchor] : [];\n                } else {\n                    el = aChildren;\n                }\n                for (i = 0; i < el.length; i += 1) {\n                    for (j = 0; j < classes.length; j += 1) {\n                        el[i].classList.add(classes[j]);\n                    }\n                }\n            }\n        },\n\n        isListItem: function (node) {\n            if (!node) {\n                return false;\n            }\n            if (node.nodeName.toLowerCase() === 'li') {\n                return true;\n            }\n\n            var parentNode = node.parentNode,\n                tagName = parentNode.nodeName.toLowerCase();\n            while (tagName === 'li' || (!Util.isBlockContainer(parentNode) && tagName !== 'div')) {\n                if (tagName === 'li') {\n                    return true;\n                }\n                parentNode = parentNode.parentNode;\n                if (parentNode) {\n                    tagName = parentNode.nodeName.toLowerCase();\n                } else {\n                    return false;\n                }\n            }\n            return false;\n        },\n\n        cleanListDOM: function (ownerDocument, element) {\n            if (element.nodeName.toLowerCase() !== 'li') {\n                return;\n            }\n\n            var list = element.parentElement;\n\n            if (list.parentElement.nodeName.toLowerCase() === 'p') { // yes we need to clean up\n                Util.unwrap(list.parentElement, ownerDocument);\n\n                // move cursor at the end of the text inside the list\n                // for some unknown reason, the cursor is moved to end of the \"visual\" line\n                MediumEditor.selection.moveCursor(ownerDocument, element.firstChild, element.firstChild.textContent.length);\n            }\n        },\n\n        /* splitDOMTree\n         *\n         * Given a root element some descendant element, split the root element\n         * into its own element containing the descendant element and all elements\n         * on the left or right side of the descendant ('right' is default)\n         *\n         * example:\n         *\n         *         <div>\n         *      /    |   \\\n         *  <span> <span> <span>\n         *   / \\    / \\    / \\\n         *  1   2  3   4  5   6\n         *\n         *  If I wanted to split this tree given the <div> as the root and \"4\" as the leaf\n         *  the result would be (the prime ' marks indicates nodes that are created as clones):\n         *\n         *   SPLITTING OFF 'RIGHT' TREE       SPLITTING OFF 'LEFT' TREE\n         *\n         *     <div>            <div>'              <div>'      <div>\n         *      / \\              / \\                 / \\          |\n         * <span> <span>   <span>' <span>       <span> <span>   <span>\n         *   / \\    |        |      / \\           /\\     /\\       /\\\n         *  1   2   3        4     5   6         1  2   3  4     5  6\n         *\n         *  The above example represents splitting off the 'right' or 'left' part of a tree, where\n         *  the <div>' would be returned as an element not appended to the DOM, and the <div>\n         *  would remain in place where it was\n         *\n        */\n        splitOffDOMTree: function (rootNode, leafNode, splitLeft) {\n            var splitOnNode = leafNode,\n                createdNode = null,\n                splitRight = !splitLeft;\n\n            // loop until we hit the root\n            while (splitOnNode !== rootNode) {\n                var currParent = splitOnNode.parentNode,\n                    newParent = currParent.cloneNode(false),\n                    targetNode = (splitRight ? splitOnNode : currParent.firstChild),\n                    appendLast;\n\n                // Create a new parent element which is a clone of the current parent\n                if (createdNode) {\n                    if (splitRight) {\n                        // If we're splitting right, add previous created element before siblings\n                        newParent.appendChild(createdNode);\n                    } else {\n                        // If we're splitting left, add previous created element last\n                        appendLast = createdNode;\n                    }\n                }\n                createdNode = newParent;\n\n                while (targetNode) {\n                    var sibling = targetNode.nextSibling;\n                    // Special handling for the 'splitNode'\n                    if (targetNode === splitOnNode) {\n                        if (!targetNode.hasChildNodes()) {\n                            targetNode.parentNode.removeChild(targetNode);\n                        } else {\n                            // For the node we're splitting on, if it has children, we need to clone it\n                            // and not just move it\n                            targetNode = targetNode.cloneNode(false);\n                        }\n                        // If the resulting split node has content, add it\n                        if (targetNode.textContent) {\n                            createdNode.appendChild(targetNode);\n                        }\n\n                        targetNode = (splitRight ? sibling : null);\n                    } else {\n                        // For general case, just remove the element and only\n                        // add it to the split tree if it contains something\n                        targetNode.parentNode.removeChild(targetNode);\n                        if (targetNode.hasChildNodes() || targetNode.textContent) {\n                            createdNode.appendChild(targetNode);\n                        }\n\n                        targetNode = sibling;\n                    }\n                }\n\n                // If we had an element we wanted to append at the end, do that now\n                if (appendLast) {\n                    createdNode.appendChild(appendLast);\n                }\n\n                splitOnNode = currParent;\n            }\n\n            return createdNode;\n        },\n\n        moveTextRangeIntoElement: function (startNode, endNode, newElement) {\n            if (!startNode || !endNode) {\n                return false;\n            }\n\n            var rootNode = Util.findCommonRoot(startNode, endNode);\n            if (!rootNode) {\n                return false;\n            }\n\n            if (endNode === startNode) {\n                var temp = startNode.parentNode,\n                    sibling = startNode.nextSibling;\n                temp.removeChild(startNode);\n                newElement.appendChild(startNode);\n                if (sibling) {\n                    temp.insertBefore(newElement, sibling);\n                } else {\n                    temp.appendChild(newElement);\n                }\n                return newElement.hasChildNodes();\n            }\n\n            // create rootChildren array which includes all the children\n            // we care about\n            var rootChildren = [],\n                firstChild,\n                lastChild,\n                nextNode;\n            for (var i = 0; i < rootNode.childNodes.length; i++) {\n                nextNode = rootNode.childNodes[i];\n                if (!firstChild) {\n                    if (Util.isDescendant(nextNode, startNode, true)) {\n                        firstChild = nextNode;\n                    }\n                } else {\n                    if (Util.isDescendant(nextNode, endNode, true)) {\n                        lastChild = nextNode;\n                        break;\n                    } else {\n                        rootChildren.push(nextNode);\n                    }\n                }\n            }\n\n            var afterLast = lastChild.nextSibling,\n                fragment = rootNode.ownerDocument.createDocumentFragment();\n\n            // build up fragment on startNode side of tree\n            if (firstChild === startNode) {\n                firstChild.parentNode.removeChild(firstChild);\n                fragment.appendChild(firstChild);\n            } else {\n                fragment.appendChild(Util.splitOffDOMTree(firstChild, startNode));\n            }\n\n            // add any elements between firstChild & lastChild\n            rootChildren.forEach(function (element) {\n                element.parentNode.removeChild(element);\n                fragment.appendChild(element);\n            });\n\n            // build up fragment on endNode side of the tree\n            if (lastChild === endNode) {\n                lastChild.parentNode.removeChild(lastChild);\n                fragment.appendChild(lastChild);\n            } else {\n                fragment.appendChild(Util.splitOffDOMTree(lastChild, endNode, true));\n            }\n\n            // Add fragment into passed in element\n            newElement.appendChild(fragment);\n\n            if (lastChild.parentNode === rootNode) {\n                // If last child is in the root, insert newElement in front of it\n                rootNode.insertBefore(newElement, lastChild);\n            } else if (afterLast) {\n                // If last child was removed, but it had a sibling, insert in front of it\n                rootNode.insertBefore(newElement, afterLast);\n            } else {\n                // lastChild was removed and was the last actual element just append\n                rootNode.appendChild(newElement);\n            }\n\n            return newElement.hasChildNodes();\n        },\n\n        /* based on http://stackoverflow.com/a/6183069 */\n        depthOfNode: function (inNode) {\n            var theDepth = 0,\n                node = inNode;\n            while (node.parentNode !== null) {\n                node = node.parentNode;\n                theDepth++;\n            }\n            return theDepth;\n        },\n\n        findCommonRoot: function (inNode1, inNode2) {\n            var depth1 = Util.depthOfNode(inNode1),\n                depth2 = Util.depthOfNode(inNode2),\n                node1 = inNode1,\n                node2 = inNode2;\n\n            while (depth1 !== depth2) {\n                if (depth1 > depth2) {\n                    node1 = node1.parentNode;\n                    depth1 -= 1;\n                } else {\n                    node2 = node2.parentNode;\n                    depth2 -= 1;\n                }\n            }\n\n            while (node1 !== node2) {\n                node1 = node1.parentNode;\n                node2 = node2.parentNode;\n            }\n\n            return node1;\n        },\n        /* END - based on http://stackoverflow.com/a/6183069 */\n\n        isElementAtBeginningOfBlock: function (node) {\n            var textVal,\n                sibling;\n            while (!Util.isBlockContainer(node) && !Util.isMediumEditorElement(node)) {\n                sibling = node;\n                while (sibling = sibling.previousSibling) {\n                    textVal = sibling.nodeType === 3 ? sibling.nodeValue : sibling.textContent;\n                    if (textVal.length > 0) {\n                        return false;\n                    }\n                }\n                node = node.parentNode;\n            }\n            return true;\n        },\n\n        isMediumEditorElement: function (element) {\n            return element && element.getAttribute && !!element.getAttribute('data-medium-editor-element');\n        },\n\n        getContainerEditorElement: function (element) {\n            return Util.traverseUp(element, function (node) {\n                return Util.isMediumEditorElement(node);\n            });\n        },\n\n        isBlockContainer: function (element) {\n            return element && element.nodeType !== 3 && Util.blockContainerElementNames.indexOf(element.nodeName.toLowerCase()) !== -1;\n        },\n\n        /* Finds the closest ancestor which is a block container element\n         * If element is within editor element but not within any other block element,\n         * the editor element is returned\n         */\n        getClosestBlockContainer: function (node) {\n            return Util.traverseUp(node, function (node) {\n                return Util.isBlockContainer(node) || Util.isMediumEditorElement(node);\n            });\n        },\n\n        /* Finds highest level ancestor element which is a block container element\n         * If element is within editor element but not within any other block element,\n         * the editor element is returned\n         */\n        getTopBlockContainer: function (element) {\n            var topBlock = Util.isBlockContainer(element) ? element : false;\n            Util.traverseUp(element, function (el) {\n                if (Util.isBlockContainer(el)) {\n                    topBlock = el;\n                }\n                if (!topBlock && Util.isMediumEditorElement(el)) {\n                    topBlock = el;\n                    return true;\n                }\n                return false;\n            });\n            return topBlock;\n        },\n\n        getFirstSelectableLeafNode: function (element) {\n            while (element && element.firstChild) {\n                element = element.firstChild;\n            }\n\n            // We don't want to set the selection to an element that can't have children, this messes up Gecko.\n            element = Util.traverseUp(element, function (el) {\n                return Util.emptyElementNames.indexOf(el.nodeName.toLowerCase()) === -1;\n            });\n            // Selecting at the beginning of a table doesn't work in PhantomJS.\n            if (element.nodeName.toLowerCase() === 'table') {\n                var firstCell = element.querySelector('th, td');\n                if (firstCell) {\n                    element = firstCell;\n                }\n            }\n            return element;\n        },\n\n        // TODO: remove getFirstTextNode AND _getFirstTextNode when jumping in 6.0.0 (no code references)\n        getFirstTextNode: function (element) {\n            Util.warn('getFirstTextNode is deprecated and will be removed in version 6.0.0');\n            return Util._getFirstTextNode(element);\n        },\n\n        _getFirstTextNode: function (element) {\n            if (element.nodeType === 3) {\n                return element;\n            }\n\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var textNode = Util._getFirstTextNode(element.childNodes[i]);\n                if (textNode !== null) {\n                    return textNode;\n                }\n            }\n            return null;\n        },\n\n        ensureUrlHasProtocol: function (url) {\n            if (url.indexOf('://') === -1) {\n                return 'http://' + url;\n            }\n            return url;\n        },\n\n        warn: function () {\n            if (window.console !== undefined && typeof window.console.warn === 'function') {\n                window.console.warn.apply(window.console, arguments);\n            }\n        },\n\n        deprecated: function (oldName, newName, version) {\n            // simple deprecation warning mechanism.\n            var m = oldName + ' is deprecated, please use ' + newName + ' instead.';\n            if (version) {\n                m += ' Will be removed in ' + version;\n            }\n            Util.warn(m);\n        },\n\n        deprecatedMethod: function (oldName, newName, args, version) {\n            // run the replacement and warn when someone calls a deprecated method\n            Util.deprecated(oldName, newName, version);\n            if (typeof this[newName] === 'function') {\n                this[newName].apply(this, args);\n            }\n        },\n\n        cleanupAttrs: function (el, attrs) {\n            attrs.forEach(function (attr) {\n                el.removeAttribute(attr);\n            });\n        },\n\n        cleanupTags: function (el, tags) {\n            if (tags.indexOf(el.nodeName.toLowerCase()) !== -1) {\n                el.parentNode.removeChild(el);\n            }\n        },\n\n        unwrapTags: function (el, tags) {\n            if (tags.indexOf(el.nodeName.toLowerCase()) !== -1) {\n                MediumEditor.util.unwrap(el, document);\n            }\n        },\n\n        // get the closest parent\n        getClosestTag: function (el, tag) {\n            return Util.traverseUp(el, function (element) {\n                return element.nodeName.toLowerCase() === tag.toLowerCase();\n            });\n        },\n\n        unwrap: function (el, doc) {\n            var fragment = doc.createDocumentFragment(),\n                nodes = Array.prototype.slice.call(el.childNodes);\n\n            // cast nodeList to array since appending child\n            // to a different node will alter length of el.childNodes\n            for (var i = 0; i < nodes.length; i++) {\n                fragment.appendChild(nodes[i]);\n            }\n\n            if (fragment.childNodes.length) {\n                el.parentNode.replaceChild(fragment, el);\n            } else {\n                el.parentNode.removeChild(el);\n            }\n        },\n\n        guid: function () {\n            function _s4() {\n                return Math\n                    .floor((1 + Math.random()) * 0x10000)\n                    .toString(16)\n                    .substring(1);\n            }\n\n            return _s4() + _s4() + '-' + _s4() + '-' + _s4() + '-' + _s4() + '-' + _s4() + _s4() + _s4();\n        }\n    };\n\n    MediumEditor.util = Util;\n}(window));\n\n(function () {\n    'use strict';\n\n    var Extension = function (options) {\n        MediumEditor.util.extend(this, options);\n    };\n\n    Extension.extend = function (protoProps) {\n        // magic extender thinger. mostly borrowed from backbone/goog.inherits\n        // place this function on some thing you want extend-able.\n        //\n        // example:\n        //\n        //      function Thing(args){\n        //          this.options = args;\n        //      }\n        //\n        //      Thing.prototype = { foo: \"bar\" };\n        //      Thing.extend = extenderify;\n        //\n        //      var ThingTwo = Thing.extend({ foo: \"baz\" });\n        //\n        //      var thingOne = new Thing(); // foo === \"bar\"\n        //      var thingTwo = new ThingTwo(); // foo === \"baz\"\n        //\n        //      which seems like some simply shallow copy nonsense\n        //      at first, but a lot more is going on there.\n        //\n        //      passing a `constructor` to the extend props\n        //      will cause the instance to instantiate through that\n        //      instead of the parent's constructor.\n\n        var parent = this,\n            child;\n\n        // The constructor function for the new subclass is either defined by you\n        // (the \"constructor\" property in your `extend` definition), or defaulted\n        // by us to simply call the parent's constructor.\n\n        if (protoProps && protoProps.hasOwnProperty('constructor')) {\n            child = protoProps.constructor;\n        } else {\n            child = function () {\n                return parent.apply(this, arguments);\n            };\n        }\n\n        // das statics (.extend comes over, so your subclass can have subclasses too)\n        MediumEditor.util.extend(child, parent);\n\n        // Set the prototype chain to inherit from `parent`, without calling\n        // `parent`'s constructor function.\n        var Surrogate = function () {\n            this.constructor = child;\n        };\n        Surrogate.prototype = parent.prototype;\n        child.prototype = new Surrogate();\n\n        if (protoProps) {\n            MediumEditor.util.extend(child.prototype, protoProps);\n        }\n\n        // todo: $super?\n\n        return child;\n    };\n\n    Extension.prototype = {\n        /* init: [function]\n         *\n         * Called by MediumEditor during initialization.\n         * The .base property will already have been set to\n         * current instance of MediumEditor when this is called.\n         * All helper methods will exist as well\n         */\n        init: function () {},\n\n        /* base: [MediumEditor instance]\n         *\n         * If not overriden, this will be set to the current instance\n         * of MediumEditor, before the init method is called\n         */\n        base: undefined,\n\n        /* name: [string]\n         *\n         * 'name' of the extension, used for retrieving the extension.\n         * If not set, MediumEditor will set this to be the key\n         * used when passing the extension into MediumEditor via the\n         * 'extensions' option\n         */\n        name: undefined,\n\n        /* checkState: [function (node)]\n         *\n         * If implemented, this function will be called one or more times\n         * the state of the editor & toolbar are updated.\n         * When the state is updated, the editor does the following:\n         *\n         * 1) Find the parent node containing the current selection\n         * 2) Call checkState on the extension, passing the node as an argument\n         * 3) Get the parent node of the previous node\n         * 4) Repeat steps #2 and #3 until we move outside the parent contenteditable\n         */\n        checkState: undefined,\n\n        /* destroy: [function ()]\n         *\n         * This method should remove any created html, custom event handlers\n         * or any other cleanup tasks that should be performed.\n         * If implemented, this function will be called when MediumEditor's\n         * destroy method has been called.\n         */\n        destroy: undefined,\n\n        /* As alternatives to checkState, these functions provide a more structured\n         * path to updating the state of an extension (usually a button) whenever\n         * the state of the editor & toolbar are updated.\n         */\n\n        /* queryCommandState: [function ()]\n         *\n         * If implemented, this function will be called once on each extension\n         * when the state of the editor/toolbar is being updated.\n         *\n         * If this function returns a non-null value, the extension will\n         * be ignored as the code climbs the dom tree.\n         *\n         * If this function returns true, and the setActive() function is defined\n         * setActive() will be called\n         */\n        queryCommandState: undefined,\n\n        /* isActive: [function ()]\n         *\n         * If implemented, this function will be called when MediumEditor\n         * has determined that this extension is 'active' for the current selection.\n         * This may be called when the editor & toolbar are being updated,\n         * but only if queryCommandState() or isAlreadyApplied() functions\n         * are implemented, and when called, return true.\n         */\n        isActive: undefined,\n\n        /* isAlreadyApplied: [function (node)]\n         *\n         * If implemented, this function is similar to checkState() in\n         * that it will be called repeatedly as MediumEditor moves up\n         * the DOM to update the editor & toolbar after a state change.\n         *\n         * NOTE: This function will NOT be called if checkState() has\n         * been implemented. This function will NOT be called if\n         * queryCommandState() is implemented and returns a non-null\n         * value when called\n         */\n        isAlreadyApplied: undefined,\n\n        /* setActive: [function ()]\n         *\n         * If implemented, this function is called when MediumEditor knows\n         * that this extension is currently enabled.  Currently, this\n         * function is called when updating the editor & toolbar, and\n         * only if queryCommandState() or isAlreadyApplied(node) return\n         * true when called\n         */\n        setActive: undefined,\n\n        /* setInactive: [function ()]\n         *\n         * If implemented, this function is called when MediumEditor knows\n         * that this extension is currently disabled.  Curently, this\n         * is called at the beginning of each state change for\n         * the editor & toolbar. After calling this, MediumEditor\n         * will attempt to update the extension, either via checkState()\n         * or the combination of queryCommandState(), isAlreadyApplied(node),\n         * isActive(), and setActive()\n         */\n        setInactive: undefined,\n\n        /* getInteractionElements: [function ()]\n         *\n         * If the extension renders any elements that the user can interact with,\n         * this method should be implemented and return the root element or an array\n         * containing all of the root elements. MediumEditor will call this function\n         * during interaction to see if the user clicked on something outside of the editor.\n         * The elements are used to check if the target element of a click or\n         * other user event is a descendant of any extension elements.\n         * This way, the editor can also count user interaction within editor elements as\n         * interactions with the editor, and thus not trigger 'blur'\n         */\n        getInteractionElements: undefined,\n\n        /************************ Helpers ************************\n         * The following are helpers that are either set by MediumEditor\n         * during initialization, or are helper methods which either\n         * route calls to the MediumEditor instance or provide common\n         * functionality for all extensions\n         *********************************************************/\n\n        /* window: [Window]\n         *\n         * If not overriden, this will be set to the window object\n         * to be used by MediumEditor and its extensions.  This is\n         * passed via the 'contentWindow' option to MediumEditor\n         * and is the global 'window' object by default\n         */\n        'window': undefined,\n\n        /* document: [Document]\n         *\n         * If not overriden, this will be set to the document object\n         * to be used by MediumEditor and its extensions. This is\n         * passed via the 'ownerDocument' optin to MediumEditor\n         * and is the global 'document' object by default\n         */\n        'document': undefined,\n\n        /* getEditorElements: [function ()]\n         *\n         * Helper function which returns an array containing\n         * all the contenteditable elements for this instance\n         * of MediumEditor\n         */\n        getEditorElements: function () {\n            return this.base.elements;\n        },\n\n        /* getEditorId: [function ()]\n         *\n         * Helper function which returns a unique identifier\n         * for this instance of MediumEditor\n         */\n        getEditorId: function () {\n            return this.base.id;\n        },\n\n        /* getEditorOptions: [function (option)]\n         *\n         * Helper function which returns the value of an option\n         * used to initialize this instance of MediumEditor\n         */\n        getEditorOption: function (option) {\n            return this.base.options[option];\n        }\n    };\n\n    /* List of method names to add to the prototype of Extension\n     * Each of these methods will be defined as helpers that\n     * just call directly into the MediumEditor instance.\n     *\n     * example for 'on' method:\n     * Extension.prototype.on = function () {\n     *     return this.base.on.apply(this.base, arguments);\n     * }\n     */\n    [\n        // general helpers\n        'execAction',\n\n        // event handling\n        'on',\n        'off',\n        'subscribe',\n        'trigger'\n\n    ].forEach(function (helper) {\n        Extension.prototype[helper] = function () {\n            return this.base[helper].apply(this.base, arguments);\n        };\n    });\n\n    MediumEditor.Extension = Extension;\n})();\n\n(function () {\n    'use strict';\n\n    function filterOnlyParentElements(node) {\n        if (MediumEditor.util.isBlockContainer(node)) {\n            return NodeFilter.FILTER_ACCEPT;\n        } else {\n            return NodeFilter.FILTER_SKIP;\n        }\n    }\n\n    var Selection = {\n        findMatchingSelectionParent: function (testElementFunction, contentWindow) {\n            var selection = contentWindow.getSelection(),\n                range,\n                current;\n\n            if (selection.rangeCount === 0) {\n                return false;\n            }\n\n            range = selection.getRangeAt(0);\n            current = range.commonAncestorContainer;\n\n            return MediumEditor.util.traverseUp(current, testElementFunction);\n        },\n\n        getSelectionElement: function (contentWindow) {\n            return this.findMatchingSelectionParent(function (el) {\n                return MediumEditor.util.isMediumEditorElement(el);\n            }, contentWindow);\n        },\n\n        // http://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n        // Tim Down\n        exportSelection: function (root, doc) {\n            if (!root) {\n                return null;\n            }\n\n            var selectionState = null,\n                selection = doc.getSelection();\n\n            if (selection.rangeCount > 0) {\n                var range = selection.getRangeAt(0),\n                    preSelectionRange = range.cloneRange(),\n                    start;\n\n                preSelectionRange.selectNodeContents(root);\n                preSelectionRange.setEnd(range.startContainer, range.startOffset);\n                start = preSelectionRange.toString().length;\n\n                selectionState = {\n                    start: start,\n                    end: start + range.toString().length\n                };\n\n                // Check to see if the selection starts with any images\n                // if so we need to make sure the the beginning of the selection is\n                // set correctly when importing selection\n                if (this.doesRangeStartWithImages(range, doc)) {\n                    selectionState.startsWithImage = true;\n                }\n\n                // Check to see if the selection has any trailing images\n                // if so, this this means we need to look for them when we import selection\n                var trailingImageCount = this.getTrailingImageCount(root, selectionState, range.endContainer, range.endOffset);\n                if (trailingImageCount) {\n                    selectionState.trailingImageCount = trailingImageCount;\n                }\n\n                // If start = 0 there may still be an empty paragraph before it, but we don't care.\n                if (start !== 0) {\n                    var emptyBlocksIndex = this.getIndexRelativeToAdjacentEmptyBlocks(doc, root, range.startContainer, range.startOffset);\n                    if (emptyBlocksIndex !== -1) {\n                        selectionState.emptyBlocksIndex = emptyBlocksIndex;\n                    }\n                }\n            }\n\n            return selectionState;\n        },\n\n        // http://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n        // Tim Down\n        //\n        // {object} selectionState - the selection to import\n        // {DOMElement} root - the root element the selection is being restored inside of\n        // {Document} doc - the document to use for managing selection\n        // {boolean} [favorLaterSelectionAnchor] - defaults to false. If true, import the cursor immediately\n        //      subsequent to an anchor tag if it would otherwise be placed right at the trailing edge inside the\n        //      anchor. This cursor positioning, even though visually equivalent to the user, can affect behavior\n        //      in MS IE.\n        importSelection: function (selectionState, root, doc, favorLaterSelectionAnchor) {\n            if (!selectionState || !root) {\n                return;\n            }\n\n            var range = doc.createRange();\n            range.setStart(root, 0);\n            range.collapse(true);\n\n            var node = root,\n                nodeStack = [],\n                charIndex = 0,\n                foundStart = false,\n                foundEnd = false,\n                trailingImageCount = 0,\n                stop = false,\n                nextCharIndex,\n                allowRangeToStartAtEndOfNode = false,\n                lastTextNode = null;\n\n            // When importing selection, the start of the selection may lie at the end of an element\n            // or at the beginning of an element.  Since visually there is no difference between these 2\n            // we will try to move the selection to the beginning of an element since this is generally\n            // what users will expect and it's a more predictable behavior.\n            //\n            // However, there are some specific cases when we don't want to do this:\n            //  1) We're attempting to move the cursor outside of the end of an anchor [favorLaterSelectionAnchor = true]\n            //  2) The selection starts with an image, which is special since an image doesn't have any 'content'\n            //     as far as selection and ranges are concerned\n            //  3) The selection starts after a specified number of empty block elements (selectionState.emptyBlocksIndex)\n            //\n            // For these cases, we want the selection to start at a very specific location, so we should NOT\n            // automatically move the cursor to the beginning of the first actual chunk of text\n            if (favorLaterSelectionAnchor || selectionState.startsWithImage || typeof selectionState.emptyBlocksIndex !== 'undefined') {\n                allowRangeToStartAtEndOfNode = true;\n            }\n\n            while (!stop && node) {\n                // Only iterate over elements and text nodes\n                if (node.nodeType > 3) {\n                    node = nodeStack.pop();\n                    continue;\n                }\n\n                // If we hit a text node, we need to add the amount of characters to the overall count\n                if (node.nodeType === 3 && !foundEnd) {\n                    nextCharIndex = charIndex + node.length;\n                    // Check if we're at or beyond the start of the selection we're importing\n                    if (!foundStart && selectionState.start >= charIndex && selectionState.start <= nextCharIndex) {\n                        // NOTE: We only want to allow a selection to start at the END of an element if\n                        //  allowRangeToStartAtEndOfNode is true\n                        if (allowRangeToStartAtEndOfNode || selectionState.start < nextCharIndex) {\n                            range.setStart(node, selectionState.start - charIndex);\n                            foundStart = true;\n                        }\n                        // We're at the end of a text node where the selection could start but we shouldn't\n                        // make the selection start here because allowRangeToStartAtEndOfNode is false.\n                        // However, we should keep a reference to this node in case there aren't any more\n                        // text nodes after this, so that we have somewhere to import the selection to\n                        else {\n                            lastTextNode = node;\n                        }\n                    }\n                    // We've found the start of the selection, check if we're at or beyond the end of the selection we're importing\n                    if (foundStart && selectionState.end >= charIndex && selectionState.end <= nextCharIndex) {\n                        if (!selectionState.trailingImageCount) {\n                            range.setEnd(node, selectionState.end - charIndex);\n                            stop = true;\n                        } else {\n                            foundEnd = true;\n                        }\n                    }\n                    charIndex = nextCharIndex;\n                } else {\n                    if (selectionState.trailingImageCount && foundEnd) {\n                        if (node.nodeName.toLowerCase() === 'img') {\n                            trailingImageCount++;\n                        }\n                        if (trailingImageCount === selectionState.trailingImageCount) {\n                            // Find which index the image is in its parent's children\n                            var endIndex = 0;\n                            while (node.parentNode.childNodes[endIndex] !== node) {\n                                endIndex++;\n                            }\n                            range.setEnd(node.parentNode, endIndex + 1);\n                            stop = true;\n                        }\n                    }\n\n                    if (!stop && node.nodeType === 1) {\n                        // this is an element\n                        // add all its children to the stack\n                        var i = node.childNodes.length - 1;\n                        while (i >= 0) {\n                            nodeStack.push(node.childNodes[i]);\n                            i -= 1;\n                        }\n                    }\n                }\n\n                if (!stop) {\n                    node = nodeStack.pop();\n                }\n            }\n\n            // If we've gone through the entire text but didn't find the beginning of a text node\n            // to make the selection start at, we should fall back to starting the selection\n            // at the END of the last text node we found\n            if (!foundStart && lastTextNode) {\n                range.setStart(lastTextNode, lastTextNode.length);\n                range.setEnd(lastTextNode, lastTextNode.length);\n            }\n\n            if (typeof selectionState.emptyBlocksIndex !== 'undefined') {\n                range = this.importSelectionMoveCursorPastBlocks(doc, root, selectionState.emptyBlocksIndex, range);\n            }\n\n            // If the selection is right at the ending edge of a link, put it outside the anchor tag instead of inside.\n            if (favorLaterSelectionAnchor) {\n                range = this.importSelectionMoveCursorPastAnchor(selectionState, range);\n            }\n\n            this.selectRange(doc, range);\n        },\n\n        // Utility method called from importSelection only\n        importSelectionMoveCursorPastAnchor: function (selectionState, range) {\n            var nodeInsideAnchorTagFunction = function (node) {\n                return node.nodeName.toLowerCase() === 'a';\n            };\n            if (selectionState.start === selectionState.end &&\n                    range.startContainer.nodeType === 3 &&\n                    range.startOffset === range.startContainer.nodeValue.length &&\n                    MediumEditor.util.traverseUp(range.startContainer, nodeInsideAnchorTagFunction)) {\n                var prevNode = range.startContainer,\n                    currentNode = range.startContainer.parentNode;\n                while (currentNode !== null && currentNode.nodeName.toLowerCase() !== 'a') {\n                    if (currentNode.childNodes[currentNode.childNodes.length - 1] !== prevNode) {\n                        currentNode = null;\n                    } else {\n                        prevNode = currentNode;\n                        currentNode = currentNode.parentNode;\n                    }\n                }\n                if (currentNode !== null && currentNode.nodeName.toLowerCase() === 'a') {\n                    var currentNodeIndex = null;\n                    for (var i = 0; currentNodeIndex === null && i < currentNode.parentNode.childNodes.length; i++) {\n                        if (currentNode.parentNode.childNodes[i] === currentNode) {\n                            currentNodeIndex = i;\n                        }\n                    }\n                    range.setStart(currentNode.parentNode, currentNodeIndex + 1);\n                    range.collapse(true);\n                }\n            }\n            return range;\n        },\n\n        // Uses the emptyBlocksIndex calculated by getIndexRelativeToAdjacentEmptyBlocks\n        // to move the cursor back to the start of the correct paragraph\n        importSelectionMoveCursorPastBlocks: function (doc, root, index, range) {\n            var treeWalker = doc.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, filterOnlyParentElements, false),\n                startContainer = range.startContainer,\n                startBlock,\n                targetNode,\n                currIndex = 0;\n            index = index || 1; // If index is 0, we still want to move to the next block\n\n            // Chrome counts newlines and spaces that separate block elements as actual elements.\n            // If the selection is inside one of these text nodes, and it has a previous sibling\n            // which is a block element, we want the treewalker to start at the previous sibling\n            // and NOT at the parent of the textnode\n            if (startContainer.nodeType === 3 && MediumEditor.util.isBlockContainer(startContainer.previousSibling)) {\n                startBlock = startContainer.previousSibling;\n            } else {\n                startBlock = MediumEditor.util.getClosestBlockContainer(startContainer);\n            }\n\n            // Skip over empty blocks until we hit the block we want the selection to be in\n            while (treeWalker.nextNode()) {\n                if (!targetNode) {\n                    // Loop through all blocks until we hit the starting block element\n                    if (startBlock === treeWalker.currentNode) {\n                        targetNode = treeWalker.currentNode;\n                    }\n                } else {\n                    targetNode = treeWalker.currentNode;\n                    currIndex++;\n                    // We hit the target index, bail\n                    if (currIndex === index) {\n                        break;\n                    }\n                    // If we find a non-empty block, ignore the emptyBlocksIndex and just put selection here\n                    if (targetNode.textContent.length > 0) {\n                        break;\n                    }\n                }\n            }\n\n            if (!targetNode) {\n                targetNode = startBlock;\n            }\n\n            // We're selecting a high-level block node, so make sure the cursor gets moved into the deepest\n            // element at the beginning of the block\n            range.setStart(MediumEditor.util.getFirstSelectableLeafNode(targetNode), 0);\n\n            return range;\n        },\n\n        // Returns -1 unless the cursor is at the beginning of a paragraph/block\n        // If the paragraph/block is preceeded by empty paragraphs/block (with no text)\n        // it will return the number of empty paragraphs before the cursor.\n        // Otherwise, it will return 0, which indicates the cursor is at the beginning\n        // of a paragraph/block, and not at the end of the paragraph/block before it\n        getIndexRelativeToAdjacentEmptyBlocks: function (doc, root, cursorContainer, cursorOffset) {\n            // If there is text in front of the cursor, that means there isn't only empty blocks before it\n            if (cursorContainer.textContent.length > 0 && cursorOffset > 0) {\n                return -1;\n            }\n\n            // Check if the block that contains the cursor has any other text in front of the cursor\n            var node = cursorContainer;\n            if (node.nodeType !== 3) {\n                node = cursorContainer.childNodes[cursorOffset];\n            }\n            if (node) {\n                // The element isn't at the beginning of a block, so it has content before it\n                if (!MediumEditor.util.isElementAtBeginningOfBlock(node)) {\n                    return -1;\n                }\n\n                var previousSibling = MediumEditor.util.findPreviousSibling(node);\n                // If there is no previous sibling, this is the first text element in the editor\n                if (!previousSibling) {\n                    return -1;\n                }\n                // If the previous sibling has text, then there are no empty blocks before this\n                else if (previousSibling.nodeValue) {\n                    return -1;\n                }\n            }\n\n            // Walk over block elements, counting number of empty blocks between last piece of text\n            // and the block the cursor is in\n            var closestBlock = MediumEditor.util.getClosestBlockContainer(cursorContainer),\n                treeWalker = doc.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, filterOnlyParentElements, false),\n                emptyBlocksCount = 0;\n            while (treeWalker.nextNode()) {\n                var blockIsEmpty = treeWalker.currentNode.textContent === '';\n                if (blockIsEmpty || emptyBlocksCount > 0) {\n                    emptyBlocksCount += 1;\n                }\n                if (treeWalker.currentNode === closestBlock) {\n                    return emptyBlocksCount;\n                }\n                if (!blockIsEmpty) {\n                    emptyBlocksCount = 0;\n                }\n            }\n\n            return emptyBlocksCount;\n        },\n\n        // Returns true if the selection range begins with an image tag\n        // Returns false if the range starts with any non empty text nodes\n        doesRangeStartWithImages: function (range, doc) {\n            if (range.startOffset !== 0 || range.startContainer.nodeType !== 1) {\n                return false;\n            }\n\n            if (range.startContainer.nodeName.toLowerCase() === 'img') {\n                return true;\n            }\n\n            var img = range.startContainer.querySelector('img');\n            if (!img) {\n                return false;\n            }\n\n            var treeWalker = doc.createTreeWalker(range.startContainer, NodeFilter.SHOW_ALL, null, false);\n            while (treeWalker.nextNode()) {\n                var next = treeWalker.currentNode;\n                // If we hit the image, then there isn't any text before the image so\n                // the image is at the beginning of the range\n                if (next === img) {\n                    break;\n                }\n                // If we haven't hit the iamge, but found text that contains content\n                // then the range doesn't start with an image\n                if (next.nodeValue) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        getTrailingImageCount: function (root, selectionState, endContainer, endOffset) {\n            // If the endOffset of a range is 0, the endContainer doesn't contain images\n            // If the endContainer is a text node, there are no trailing images\n            if (endOffset === 0 || endContainer.nodeType !== 1) {\n                return 0;\n            }\n\n            // If the endContainer isn't an image, and doesn't have an image descendants\n            // there are no trailing images\n            if (endContainer.nodeName.toLowerCase() !== 'img' && !endContainer.querySelector('img')) {\n                return 0;\n            }\n\n            var lastNode = endContainer.childNodes[endOffset - 1];\n            while (lastNode.hasChildNodes()) {\n                lastNode = lastNode.lastChild;\n            }\n\n            var node = root,\n                nodeStack = [],\n                charIndex = 0,\n                foundStart = false,\n                foundEnd = false,\n                stop = false,\n                nextCharIndex,\n                trailingImages = 0;\n\n            while (!stop && node) {\n                // Only iterate over elements and text nodes\n                if (node.nodeType > 3) {\n                    node = nodeStack.pop();\n                    continue;\n                }\n\n                if (node.nodeType === 3 && !foundEnd) {\n                    trailingImages = 0;\n                    nextCharIndex = charIndex + node.length;\n                    if (!foundStart && selectionState.start >= charIndex && selectionState.start <= nextCharIndex) {\n                        foundStart = true;\n                    }\n                    if (foundStart && selectionState.end >= charIndex && selectionState.end <= nextCharIndex) {\n                        foundEnd = true;\n                    }\n                    charIndex = nextCharIndex;\n                } else {\n                    if (node.nodeName.toLowerCase() === 'img') {\n                        trailingImages++;\n                    }\n\n                    if (node === lastNode) {\n                        stop = true;\n                    } else if (node.nodeType === 1) {\n                        // this is an element\n                        // add all its children to the stack\n                        var i = node.childNodes.length - 1;\n                        while (i >= 0) {\n                            nodeStack.push(node.childNodes[i]);\n                            i -= 1;\n                        }\n                    }\n                }\n\n                if (!stop) {\n                    node = nodeStack.pop();\n                }\n            }\n\n            return trailingImages;\n        },\n\n        // determine if the current selection contains any 'content'\n        // content being any non-white space text or an image\n        selectionContainsContent: function (doc) {\n            var sel = doc.getSelection();\n\n            // collapsed selection or selection withour range doesn't contain content\n            if (!sel || sel.isCollapsed || !sel.rangeCount) {\n                return false;\n            }\n\n            // if toString() contains any text, the selection contains some content\n            if (sel.toString().trim() !== '') {\n                return true;\n            }\n\n            // if selection contains only image(s), it will return empty for toString()\n            // so check for an image manually\n            var selectionNode = this.getSelectedParentElement(sel.getRangeAt(0));\n            if (selectionNode) {\n                if (selectionNode.nodeName.toLowerCase() === 'img' ||\n                    (selectionNode.nodeType === 1 && selectionNode.querySelector('img'))) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        selectionInContentEditableFalse: function (contentWindow) {\n            // determine if the current selection is exclusively inside\n            // a contenteditable=\"false\", though treat the case of an\n            // explicit contenteditable=\"true\" inside a \"false\" as false.\n            var sawtrue,\n                sawfalse = this.findMatchingSelectionParent(function (el) {\n                    var ce = el && el.getAttribute('contenteditable');\n                    if (ce === 'true') {\n                        sawtrue = true;\n                    }\n                    return el.nodeName !== '#text' && ce === 'false';\n                }, contentWindow);\n\n            return !sawtrue && sawfalse;\n        },\n\n        // http://stackoverflow.com/questions/4176923/html-of-selected-text\n        // by Tim Down\n        getSelectionHtml: function getSelectionHtml(doc) {\n            var i,\n                html = '',\n                sel = doc.getSelection(),\n                len,\n                container;\n            if (sel.rangeCount) {\n                container = doc.createElement('div');\n                for (i = 0, len = sel.rangeCount; i < len; i += 1) {\n                    container.appendChild(sel.getRangeAt(i).cloneContents());\n                }\n                html = container.innerHTML;\n            }\n            return html;\n        },\n\n        /**\n         *  Find the caret position within an element irrespective of any inline tags it may contain.\n         *\n         *  @param {DOMElement} An element containing the cursor to find offsets relative to.\n         *  @param {Range} A Range representing cursor position. Will window.getSelection if none is passed.\n         *  @return {Object} 'left' and 'right' attributes contain offsets from begining and end of Element\n         */\n        getCaretOffsets: function getCaretOffsets(element, range) {\n            var preCaretRange, postCaretRange;\n\n            if (!range) {\n                range = window.getSelection().getRangeAt(0);\n            }\n\n            preCaretRange = range.cloneRange();\n            postCaretRange = range.cloneRange();\n\n            preCaretRange.selectNodeContents(element);\n            preCaretRange.setEnd(range.endContainer, range.endOffset);\n\n            postCaretRange.selectNodeContents(element);\n            postCaretRange.setStart(range.endContainer, range.endOffset);\n\n            return {\n                left: preCaretRange.toString().length,\n                right: postCaretRange.toString().length\n            };\n        },\n\n        // http://stackoverflow.com/questions/15867542/range-object-get-selection-parent-node-chrome-vs-firefox\n        rangeSelectsSingleNode: function (range) {\n            var startNode = range.startContainer;\n            return startNode === range.endContainer &&\n                startNode.hasChildNodes() &&\n                range.endOffset === range.startOffset + 1;\n        },\n\n        getSelectedParentElement: function (range) {\n            if (!range) {\n                return null;\n            }\n\n            // Selection encompasses a single element\n            if (this.rangeSelectsSingleNode(range) && range.startContainer.childNodes[range.startOffset].nodeType !== 3) {\n                return range.startContainer.childNodes[range.startOffset];\n            }\n\n            // Selection range starts inside a text node, so get its parent\n            if (range.startContainer.nodeType === 3) {\n                return range.startContainer.parentNode;\n            }\n\n            // Selection starts inside an element\n            return range.startContainer;\n        },\n\n        getSelectedElements: function (doc) {\n            var selection = doc.getSelection(),\n                range,\n                toRet,\n                currNode;\n\n            if (!selection.rangeCount || selection.isCollapsed || !selection.getRangeAt(0).commonAncestorContainer) {\n                return [];\n            }\n\n            range = selection.getRangeAt(0);\n\n            if (range.commonAncestorContainer.nodeType === 3) {\n                toRet = [];\n                currNode = range.commonAncestorContainer;\n                while (currNode.parentNode && currNode.parentNode.childNodes.length === 1) {\n                    toRet.push(currNode.parentNode);\n                    currNode = currNode.parentNode;\n                }\n\n                return toRet;\n            }\n\n            return [].filter.call(range.commonAncestorContainer.getElementsByTagName('*'), function (el) {\n                return (typeof selection.containsNode === 'function') ? selection.containsNode(el, true) : true;\n            });\n        },\n\n        selectNode: function (node, doc) {\n            var range = doc.createRange();\n            range.selectNodeContents(node);\n            this.selectRange(doc, range);\n        },\n\n        select: function (doc, startNode, startOffset, endNode, endOffset) {\n            var range = doc.createRange();\n            range.setStart(startNode, startOffset);\n            if (endNode) {\n                range.setEnd(endNode, endOffset);\n            } else {\n                range.collapse(true);\n            }\n            this.selectRange(doc, range);\n            return range;\n        },\n\n        /**\n         *  Clear the current highlighted selection and set the caret to the start or the end of that prior selection, defaults to end.\n         *\n         *  @param {DomDocument} doc            Current document\n         *  @param {boolean} moveCursorToStart  A boolean representing whether or not to set the caret to the beginning of the prior selection.\n         */\n        clearSelection: function (doc, moveCursorToStart) {\n            if (moveCursorToStart) {\n                doc.getSelection().collapseToStart();\n            } else {\n                doc.getSelection().collapseToEnd();\n            }\n        },\n\n        /**\n         * Move cursor to the given node with the given offset.\n         *\n         * @param  {DomDocument} doc     Current document\n         * @param  {DomElement}  node    Element where to jump\n         * @param  {integer}     offset  Where in the element should we jump, 0 by default\n         */\n        moveCursor: function (doc, node, offset) {\n            this.select(doc, node, offset);\n        },\n\n        getSelectionRange: function (ownerDocument) {\n            var selection = ownerDocument.getSelection();\n            if (selection.rangeCount === 0) {\n                return null;\n            }\n            return selection.getRangeAt(0);\n        },\n\n        selectRange: function (ownerDocument, range) {\n            var selection = ownerDocument.getSelection();\n\n            selection.removeAllRanges();\n            selection.addRange(range);\n        },\n\n        // http://stackoverflow.com/questions/1197401/how-can-i-get-the-element-the-caret-is-in-with-javascript-when-using-contentedi\n        // by You\n        getSelectionStart: function (ownerDocument) {\n            var node = ownerDocument.getSelection().anchorNode,\n                startNode = (node && node.nodeType === 3 ? node.parentNode : node);\n\n            return startNode;\n        }\n    };\n\n    MediumEditor.selection = Selection;\n}());\n\n(function () {\n    'use strict';\n\n    function isElementDescendantOfExtension(extensions, element) {\n        if (!extensions) {\n            return false;\n        }\n\n        return extensions.some(function (extension) {\n            if (typeof extension.getInteractionElements !== 'function') {\n                return false;\n            }\n\n            var extensionElements = extension.getInteractionElements();\n            if (!extensionElements) {\n                return false;\n            }\n\n            if (!Array.isArray(extensionElements)) {\n                extensionElements = [extensionElements];\n            }\n            return extensionElements.some(function (el) {\n                return MediumEditor.util.isDescendant(el, element, true);\n            });\n        });\n    }\n\n    var Events = function (instance) {\n        this.base = instance;\n        this.options = this.base.options;\n        this.events = [];\n        this.disabledEvents = {};\n        this.customEvents = {};\n        this.listeners = {};\n    };\n\n    Events.prototype = {\n        InputEventOnContenteditableSupported: !MediumEditor.util.isIE && !MediumEditor.util.isEdge,\n\n        // Helpers for event handling\n\n        attachDOMEvent: function (targets, event, listener, useCapture) {\n            var win = this.base.options.contentWindow,\n                doc = this.base.options.ownerDocument;\n\n            targets = MediumEditor.util.isElement(targets) || [win, doc].indexOf(targets) > -1 ? [targets] : targets;\n\n            Array.prototype.forEach.call(targets, function (target) {\n                target.addEventListener(event, listener, useCapture);\n                this.events.push([target, event, listener, useCapture]);\n            }.bind(this));\n        },\n\n        detachDOMEvent: function (targets, event, listener, useCapture) {\n            var index, e,\n                win = this.base.options.contentWindow,\n                doc = this.base.options.ownerDocument;\n\n            if (targets) {\n                targets = MediumEditor.util.isElement(targets) || [win, doc].indexOf(targets) > -1 ? [targets] : targets;\n\n                Array.prototype.forEach.call(targets, function (target) {\n                    index = this.indexOfListener(target, event, listener, useCapture);\n                    if (index !== -1) {\n                        e = this.events.splice(index, 1)[0];\n                        e[0].removeEventListener(e[1], e[2], e[3]);\n                    }\n                }.bind(this));\n            }\n        },\n\n        indexOfListener: function (target, event, listener, useCapture) {\n            var i, n, item;\n            for (i = 0, n = this.events.length; i < n; i = i + 1) {\n                item = this.events[i];\n                if (item[0] === target && item[1] === event && item[2] === listener && item[3] === useCapture) {\n                    return i;\n                }\n            }\n            return -1;\n        },\n\n        detachAllDOMEvents: function () {\n            var e = this.events.pop();\n            while (e) {\n                e[0].removeEventListener(e[1], e[2], e[3]);\n                e = this.events.pop();\n            }\n        },\n\n        detachAllEventsFromElement: function (element) {\n            var filtered = this.events.filter(function (e) {\n                return e && e[0].getAttribute && e[0].getAttribute('medium-editor-index') === element.getAttribute('medium-editor-index');\n            });\n\n            for (var i = 0, len = filtered.length; i < len; i++) {\n                var e = filtered[i];\n                this.detachDOMEvent(e[0], e[1], e[2], e[3]);\n            }\n        },\n\n        // Attach all existing handlers to a new element\n        attachAllEventsToElement: function (element) {\n            if (this.listeners['editableInput']) {\n                this.contentCache[element.getAttribute('medium-editor-index')] = element.innerHTML;\n            }\n\n            if (this.eventsCache) {\n                this.eventsCache.forEach(function (e) {\n                    this.attachDOMEvent(element, e['name'], e['handler'].bind(this));\n                }, this);\n            }\n        },\n\n        enableCustomEvent: function (event) {\n            if (this.disabledEvents[event] !== undefined) {\n                delete this.disabledEvents[event];\n            }\n        },\n\n        disableCustomEvent: function (event) {\n            this.disabledEvents[event] = true;\n        },\n\n        // custom events\n        attachCustomEvent: function (event, listener) {\n            this.setupListener(event);\n            if (!this.customEvents[event]) {\n                this.customEvents[event] = [];\n            }\n            this.customEvents[event].push(listener);\n        },\n\n        detachCustomEvent: function (event, listener) {\n            var index = this.indexOfCustomListener(event, listener);\n            if (index !== -1) {\n                this.customEvents[event].splice(index, 1);\n                // TODO: If array is empty, should detach internal listeners via destroyListener()\n            }\n        },\n\n        indexOfCustomListener: function (event, listener) {\n            if (!this.customEvents[event] || !this.customEvents[event].length) {\n                return -1;\n            }\n\n            return this.customEvents[event].indexOf(listener);\n        },\n\n        detachAllCustomEvents: function () {\n            this.customEvents = {};\n            // TODO: Should detach internal listeners here via destroyListener()\n        },\n\n        triggerCustomEvent: function (name, data, editable) {\n            if (this.customEvents[name] && !this.disabledEvents[name]) {\n                this.customEvents[name].forEach(function (listener) {\n                    listener(data, editable);\n                });\n            }\n        },\n\n        // Cleaning up\n\n        destroy: function () {\n            this.detachAllDOMEvents();\n            this.detachAllCustomEvents();\n            this.detachExecCommand();\n\n            if (this.base.elements) {\n                this.base.elements.forEach(function (element) {\n                    element.removeAttribute('data-medium-focused');\n                });\n            }\n        },\n\n        // Listening to calls to document.execCommand\n\n        // Attach a listener to be notified when document.execCommand is called\n        attachToExecCommand: function () {\n            if (this.execCommandListener) {\n                return;\n            }\n\n            // Store an instance of the listener so:\n            // 1) We only attach to execCommand once\n            // 2) We can remove the listener later\n            this.execCommandListener = function (execInfo) {\n                this.handleDocumentExecCommand(execInfo);\n            }.bind(this);\n\n            // Ensure that execCommand has been wrapped correctly\n            this.wrapExecCommand();\n\n            // Add listener to list of execCommand listeners\n            this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener);\n        },\n\n        // Remove our listener for calls to document.execCommand\n        detachExecCommand: function () {\n            var doc = this.options.ownerDocument;\n            if (!this.execCommandListener || !doc.execCommand.listeners) {\n                return;\n            }\n\n            // Find the index of this listener in the array of listeners so it can be removed\n            var index = doc.execCommand.listeners.indexOf(this.execCommandListener);\n            if (index !== -1) {\n                doc.execCommand.listeners.splice(index, 1);\n            }\n\n            // If the list of listeners is now empty, put execCommand back to its original state\n            if (!doc.execCommand.listeners.length) {\n                this.unwrapExecCommand();\n            }\n        },\n\n        // Wrap document.execCommand in a custom method so we can listen to calls to it\n        wrapExecCommand: function () {\n            var doc = this.options.ownerDocument;\n\n            // Ensure all instance of MediumEditor only wrap execCommand once\n            if (doc.execCommand.listeners) {\n                return;\n            }\n\n            // Helper method to call all listeners to execCommand\n            var callListeners = function (args, result) {\n                if (doc.execCommand.listeners) {\n                    doc.execCommand.listeners.forEach(function (listener) {\n                        listener({\n                            command: args[0],\n                            value: args[2],\n                            args: args,\n                            result: result\n                        });\n                    });\n                }\n            },\n\n                // Create a wrapper method for execCommand which will:\n                // 1) Call document.execCommand with the correct arguments\n                // 2) Loop through any listeners and notify them that execCommand was called\n                //    passing extra info on the call\n                // 3) Return the result\n                wrapper = function () {\n                    var result = doc.execCommand.orig.apply(this, arguments);\n\n                    if (!doc.execCommand.listeners) {\n                        return result;\n                    }\n\n                    var args = Array.prototype.slice.call(arguments);\n                    callListeners(args, result);\n\n                    return result;\n                };\n\n            // Store a reference to the original execCommand\n            wrapper.orig = doc.execCommand;\n\n            // Attach an array for storing listeners\n            wrapper.listeners = [];\n\n            // Helper for notifying listeners\n            wrapper.callListeners = callListeners;\n\n            // Overwrite execCommand\n            doc.execCommand = wrapper;\n        },\n\n        // Revert document.execCommand back to its original self\n        unwrapExecCommand: function () {\n            var doc = this.options.ownerDocument;\n            if (!doc.execCommand.orig) {\n                return;\n            }\n\n            // Use the reference to the original execCommand to revert back\n            doc.execCommand = doc.execCommand.orig;\n        },\n\n        // Listening to browser events to emit events medium-editor cares about\n        setupListener: function (name) {\n            if (this.listeners[name]) {\n                return;\n            }\n\n            switch (name) {\n                case 'externalInteraction':\n                    // Detecting when user has interacted with elements outside of MediumEditor\n                    this.attachDOMEvent(this.options.ownerDocument.body, 'mousedown', this.handleBodyMousedown.bind(this), true);\n                    this.attachDOMEvent(this.options.ownerDocument.body, 'click', this.handleBodyClick.bind(this), true);\n                    this.attachDOMEvent(this.options.ownerDocument.body, 'focus', this.handleBodyFocus.bind(this), true);\n                    break;\n                case 'blur':\n                    // Detecting when focus is lost\n                    this.setupListener('externalInteraction');\n                    break;\n                case 'focus':\n                    // Detecting when focus moves into some part of MediumEditor\n                    this.setupListener('externalInteraction');\n                    break;\n                case 'editableInput':\n                    // setup cache for knowing when the content has changed\n                    this.contentCache = {};\n                    this.base.elements.forEach(function (element) {\n                        this.contentCache[element.getAttribute('medium-editor-index')] = element.innerHTML;\n                    }, this);\n\n                    // Attach to the 'oninput' event, handled correctly by most browsers\n                    if (this.InputEventOnContenteditableSupported) {\n                        this.attachToEachElement('input', this.handleInput);\n                    }\n\n                    // For browsers which don't support the input event on contenteditable (IE)\n                    // we'll attach to 'selectionchange' on the document and 'keypress' on the editables\n                    if (!this.InputEventOnContenteditableSupported) {\n                        this.setupListener('editableKeypress');\n                        this.keypressUpdateInput = true;\n                        this.attachDOMEvent(document, 'selectionchange', this.handleDocumentSelectionChange.bind(this));\n                        // Listen to calls to execCommand\n                        this.attachToExecCommand();\n                    }\n                    break;\n                case 'editableClick':\n                    // Detecting click in the contenteditables\n                    this.attachToEachElement('click', this.handleClick);\n                    break;\n                case 'editableBlur':\n                    // Detecting blur in the contenteditables\n                    this.attachToEachElement('blur', this.handleBlur);\n                    break;\n                case 'editableKeypress':\n                    // Detecting keypress in the contenteditables\n                    this.attachToEachElement('keypress', this.handleKeypress);\n                    break;\n                case 'editableKeyup':\n                    // Detecting keyup in the contenteditables\n                    this.attachToEachElement('keyup', this.handleKeyup);\n                    break;\n                case 'editableKeydown':\n                    // Detecting keydown on the contenteditables\n                    this.attachToEachElement('keydown', this.handleKeydown);\n                    break;\n                case 'editableKeydownSpace':\n                    // Detecting keydown for SPACE on the contenteditables\n                    this.setupListener('editableKeydown');\n                    break;\n                case 'editableKeydownEnter':\n                    // Detecting keydown for ENTER on the contenteditables\n                    this.setupListener('editableKeydown');\n                    break;\n                case 'editableKeydownTab':\n                    // Detecting keydown for TAB on the contenteditable\n                    this.setupListener('editableKeydown');\n                    break;\n                case 'editableKeydownDelete':\n                    // Detecting keydown for DELETE/BACKSPACE on the contenteditables\n                    this.setupListener('editableKeydown');\n                    break;\n                case 'editableMouseover':\n                    // Detecting mouseover on the contenteditables\n                    this.attachToEachElement('mouseover', this.handleMouseover);\n                    break;\n                case 'editableDrag':\n                    // Detecting dragover and dragleave on the contenteditables\n                    this.attachToEachElement('dragover', this.handleDragging);\n                    this.attachToEachElement('dragleave', this.handleDragging);\n                    break;\n                case 'editableDrop':\n                    // Detecting drop on the contenteditables\n                    this.attachToEachElement('drop', this.handleDrop);\n                    break;\n                // TODO: We need to have a custom 'paste' event separate from 'editablePaste'\n                // Need to think about the way to introduce this without breaking folks\n                case 'editablePaste':\n                    // Detecting paste on the contenteditables\n                    this.attachToEachElement('paste', this.handlePaste);\n                    break;\n            }\n            this.listeners[name] = true;\n        },\n\n        attachToEachElement: function (name, handler) {\n            // build our internal cache to know which element got already what handler attached\n            if (!this.eventsCache) {\n                this.eventsCache = [];\n            }\n\n            this.base.elements.forEach(function (element) {\n                this.attachDOMEvent(element, name, handler.bind(this));\n            }, this);\n\n            this.eventsCache.push({ 'name': name, 'handler': handler });\n        },\n\n        cleanupElement: function (element) {\n            var index = element.getAttribute('medium-editor-index');\n            if (index) {\n                this.detachAllEventsFromElement(element);\n                if (this.contentCache) {\n                    delete this.contentCache[index];\n                }\n            }\n        },\n\n        focusElement: function (element) {\n            element.focus();\n            this.updateFocus(element, { target: element, type: 'focus' });\n        },\n\n        updateFocus: function (target, eventObj) {\n            var hadFocus = this.base.getFocusedElement(),\n                toFocus;\n\n            // For clicks, we need to know if the mousedown that caused the click happened inside the existing focused element\n            // or one of the extension elements.  If so, we don't want to focus another element\n            if (hadFocus &&\n                eventObj.type === 'click' &&\n                this.lastMousedownTarget &&\n                (MediumEditor.util.isDescendant(hadFocus, this.lastMousedownTarget, true) ||\n                    isElementDescendantOfExtension(this.base.extensions, this.lastMousedownTarget))) {\n                toFocus = hadFocus;\n            }\n\n            if (!toFocus) {\n                this.base.elements.some(function (element) {\n                    // If the target is part of an editor element, this is the element getting focus\n                    if (!toFocus && (MediumEditor.util.isDescendant(element, target, true))) {\n                        toFocus = element;\n                    }\n\n                    // bail if we found an element that's getting focus\n                    return !!toFocus;\n                }, this);\n            }\n\n            // Check if the target is external (not part of the editor, toolbar, or any other extension)\n            var externalEvent = !MediumEditor.util.isDescendant(hadFocus, target, true) &&\n                !isElementDescendantOfExtension(this.base.extensions, target);\n\n            if (toFocus !== hadFocus) {\n                // If element has focus, and focus is going outside of editor\n                // Don't blur focused element if clicking on editor, toolbar, or anchorpreview\n                if (hadFocus && externalEvent) {\n                    // Trigger blur on the editable that has lost focus\n                    hadFocus.removeAttribute('data-medium-focused');\n                    this.triggerCustomEvent('blur', eventObj, hadFocus);\n                }\n\n                // If focus is going into an editor element\n                if (toFocus) {\n                    // Trigger focus on the editable that now has focus\n                    toFocus.setAttribute('data-medium-focused', true);\n                    this.triggerCustomEvent('focus', eventObj, toFocus);\n                }\n            }\n\n            if (externalEvent) {\n                this.triggerCustomEvent('externalInteraction', eventObj);\n            }\n        },\n\n        updateInput: function (target, eventObj) {\n            if (!this.contentCache) {\n                return;\n            }\n            // An event triggered which signifies that the user may have changed someting\n            // Look in our cache of input for the contenteditables to see if something changed\n            var index = target.getAttribute('medium-editor-index'),\n                html = target.innerHTML;\n\n            if (html !== this.contentCache[index]) {\n                // The content has changed since the last time we checked, fire the event\n                this.triggerCustomEvent('editableInput', eventObj, target);\n            }\n            this.contentCache[index] = html;\n        },\n\n        handleDocumentSelectionChange: function (event) {\n            // When selectionchange fires, target and current target are set\n            // to document, since this is where the event is handled\n            // However, currentTarget will have an 'activeElement' property\n            // which will point to whatever element has focus.\n            if (event.currentTarget && event.currentTarget.activeElement) {\n                var activeElement = event.currentTarget.activeElement,\n                    currentTarget;\n                // We can look at the 'activeElement' to determine if the selectionchange has\n                // happened within a contenteditable owned by this instance of MediumEditor\n                this.base.elements.some(function (element) {\n                    if (MediumEditor.util.isDescendant(element, activeElement, true)) {\n                        currentTarget = element;\n                        return true;\n                    }\n                    return false;\n                }, this);\n\n                // We know selectionchange fired within one of our contenteditables\n                if (currentTarget) {\n                    this.updateInput(currentTarget, { target: activeElement, currentTarget: currentTarget });\n                }\n            }\n        },\n\n        handleDocumentExecCommand: function () {\n            // document.execCommand has been called\n            // If one of our contenteditables currently has focus, we should\n            // attempt to trigger the 'editableInput' event\n            var target = this.base.getFocusedElement();\n            if (target) {\n                this.updateInput(target, { target: target, currentTarget: target });\n            }\n        },\n\n        handleBodyClick: function (event) {\n            this.updateFocus(event.target, event);\n        },\n\n        handleBodyFocus: function (event) {\n            this.updateFocus(event.target, event);\n        },\n\n        handleBodyMousedown: function (event) {\n            this.lastMousedownTarget = event.target;\n        },\n\n        handleInput: function (event) {\n            this.updateInput(event.currentTarget, event);\n        },\n\n        handleClick: function (event) {\n            this.triggerCustomEvent('editableClick', event, event.currentTarget);\n        },\n\n        handleBlur: function (event) {\n            this.triggerCustomEvent('editableBlur', event, event.currentTarget);\n        },\n\n        handleKeypress: function (event) {\n            this.triggerCustomEvent('editableKeypress', event, event.currentTarget);\n\n            // If we're doing manual detection of the editableInput event we need\n            // to check for input changes during 'keypress'\n            if (this.keypressUpdateInput) {\n                var eventObj = { target: event.target, currentTarget: event.currentTarget };\n\n                // In IE, we need to let the rest of the event stack complete before we detect\n                // changes to input, so using setTimeout here\n                setTimeout(function () {\n                    this.updateInput(eventObj.currentTarget, eventObj);\n                }.bind(this), 0);\n            }\n        },\n\n        handleKeyup: function (event) {\n            this.triggerCustomEvent('editableKeyup', event, event.currentTarget);\n        },\n\n        handleMouseover: function (event) {\n            this.triggerCustomEvent('editableMouseover', event, event.currentTarget);\n        },\n\n        handleDragging: function (event) {\n            this.triggerCustomEvent('editableDrag', event, event.currentTarget);\n        },\n\n        handleDrop: function (event) {\n            this.triggerCustomEvent('editableDrop', event, event.currentTarget);\n        },\n\n        handlePaste: function (event) {\n            this.triggerCustomEvent('editablePaste', event, event.currentTarget);\n        },\n\n        handleKeydown: function (event) {\n\n            this.triggerCustomEvent('editableKeydown', event, event.currentTarget);\n\n            if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.SPACE)) {\n                return this.triggerCustomEvent('editableKeydownSpace', event, event.currentTarget);\n            }\n\n            if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.ENTER) || (event.ctrlKey && MediumEditor.util.isKey(event, MediumEditor.util.keyCode.M))) {\n                return this.triggerCustomEvent('editableKeydownEnter', event, event.currentTarget);\n            }\n\n            if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.TAB)) {\n                return this.triggerCustomEvent('editableKeydownTab', event, event.currentTarget);\n            }\n\n            if (MediumEditor.util.isKey(event, [MediumEditor.util.keyCode.DELETE, MediumEditor.util.keyCode.BACKSPACE])) {\n                return this.triggerCustomEvent('editableKeydownDelete', event, event.currentTarget);\n            }\n        }\n    };\n\n    MediumEditor.Events = Events;\n}());\n\n(function () {\n    'use strict';\n\n    var Button = MediumEditor.Extension.extend({\n\n        /* Button Options */\n\n        /* action: [string]\n         * The action argument to pass to MediumEditor.execAction()\n         * when the button is clicked\n         */\n        action: undefined,\n\n        /* aria: [string]\n         * The value to add as the aria-label attribute of the button\n         * element displayed in the toolbar.\n         * This is also used as the tooltip for the button\n         */\n        aria: undefined,\n\n        /* tagNames: [Array]\n         * NOTE: This is not used if useQueryState is set to true.\n         *\n         * Array of element tag names that would indicate that this\n         * button has already been applied. If this action has already\n         * been applied, the button will be displayed as 'active' in the toolbar\n         *\n         * Example:\n         * For 'bold', if the text is ever within a <b> or <strong>\n         * tag that indicates the text is already bold. So the array\n         * of tagNames for bold would be: ['b', 'strong']\n         */\n        tagNames: undefined,\n\n        /* style: [Object]\n         * NOTE: This is not used if useQueryState is set to true.\n         *\n         * A pair of css property & value(s) that indicate that this\n         * button has already been applied. If this action has already\n         * been applied, the button will be displayed as 'active' in the toolbar\n         * Properties of the object:\n         *   prop [String]: name of the css property\n         *   value [String]: value(s) of the css property\n         *                   multiple values can be separated by a '|'\n         *\n         * Example:\n         * For 'bold', if the text is ever within an element with a 'font-weight'\n         * style property set to '700' or 'bold', that indicates the text\n         * is already bold.  So the style object for bold would be:\n         * { prop: 'font-weight', value: '700|bold' }\n         */\n        style: undefined,\n\n        /* useQueryState: [boolean]\n         * Enables/disables whether this button should use the built-in\n         * document.queryCommandState() method to determine whether\n         * the action has already been applied.  If the action has already\n         * been applied, the button will be displayed as 'active' in the toolbar\n         *\n         * Example:\n         * For 'bold', if this is set to true, the code will call:\n         * document.queryCommandState('bold') which will return true if the\n         * browser thinks the text is already bold, and false otherwise\n         */\n        useQueryState: undefined,\n\n        /* contentDefault: [string]\n         * Default innerHTML to put inside the button\n         */\n        contentDefault: undefined,\n\n        /* contentFA: [string]\n         * The innerHTML to use for the content of the button\n         * if the `buttonLabels` option for MediumEditor is set to 'fontawesome'\n         */\n        contentFA: undefined,\n\n        /* classList: [Array]\n         * An array of classNames (strings) to be added to the button\n         */\n        classList: undefined,\n\n        /* attrs: [object]\n         * A set of key-value pairs to add to the button as custom attributes\n         */\n        attrs: undefined,\n\n        // The button constructor can optionally accept the name of a built-in button\n        // (ie 'bold', 'italic', etc.)\n        // When the name of a button is passed, it will initialize itself with the\n        // configuration for that button\n        constructor: function (options) {\n            if (Button.isBuiltInButton(options)) {\n                MediumEditor.Extension.call(this, this.defaults[options]);\n            } else {\n                MediumEditor.Extension.call(this, options);\n            }\n        },\n\n        init: function () {\n            MediumEditor.Extension.prototype.init.apply(this, arguments);\n\n            this.button = this.createButton();\n            this.on(this.button, 'click', this.handleClick.bind(this));\n        },\n\n        /* getButton: [function ()]\n         *\n         * If implemented, this function will be called when\n         * the toolbar is being created.  The DOM Element returned\n         * by this function will be appended to the toolbar along\n         * with any other buttons.\n         */\n        getButton: function () {\n            return this.button;\n        },\n\n        getAction: function () {\n            return (typeof this.action === 'function') ? this.action(this.base.options) : this.action;\n        },\n\n        getAria: function () {\n            return (typeof this.aria === 'function') ? this.aria(this.base.options) : this.aria;\n        },\n\n        getTagNames: function () {\n            return (typeof this.tagNames === 'function') ? this.tagNames(this.base.options) : this.tagNames;\n        },\n\n        createButton: function () {\n            var button = this.document.createElement('button'),\n                content = this.contentDefault,\n                ariaLabel = this.getAria(),\n                buttonLabels = this.getEditorOption('buttonLabels');\n            // Add class names\n            button.classList.add('medium-editor-action');\n            button.classList.add('medium-editor-action-' + this.name);\n            if (this.classList) {\n                this.classList.forEach(function (className) {\n                    button.classList.add(className);\n                });\n            }\n\n            // Add attributes\n            button.setAttribute('data-action', this.getAction());\n            if (ariaLabel) {\n                button.setAttribute('title', ariaLabel);\n                button.setAttribute('aria-label', ariaLabel);\n            }\n            if (this.attrs) {\n                Object.keys(this.attrs).forEach(function (attr) {\n                    button.setAttribute(attr, this.attrs[attr]);\n                }, this);\n            }\n\n            if (buttonLabels === 'fontawesome' && this.contentFA) {\n                content = this.contentFA;\n            }\n            button.innerHTML = content;\n            return button;\n        },\n\n        handleClick: function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var action = this.getAction();\n\n            if (action) {\n                this.execAction(action);\n            }\n        },\n\n        isActive: function () {\n            return this.button.classList.contains(this.getEditorOption('activeButtonClass'));\n        },\n\n        setInactive: function () {\n            this.button.classList.remove(this.getEditorOption('activeButtonClass'));\n            delete this.knownState;\n        },\n\n        setActive: function () {\n            this.button.classList.add(this.getEditorOption('activeButtonClass'));\n            delete this.knownState;\n        },\n\n        queryCommandState: function () {\n            var queryState = null;\n            if (this.useQueryState) {\n                queryState = this.base.queryCommandState(this.getAction());\n            }\n            return queryState;\n        },\n\n        isAlreadyApplied: function (node) {\n            var isMatch = false,\n                tagNames = this.getTagNames(),\n                styleVals,\n                computedStyle;\n\n            if (this.knownState === false || this.knownState === true) {\n                return this.knownState;\n            }\n\n            if (tagNames && tagNames.length > 0) {\n                isMatch = tagNames.indexOf(node.nodeName.toLowerCase()) !== -1;\n            }\n\n            if (!isMatch && this.style) {\n                styleVals = this.style.value.split('|');\n                computedStyle = this.window.getComputedStyle(node, null).getPropertyValue(this.style.prop);\n                styleVals.forEach(function (val) {\n                    if (!this.knownState) {\n                        isMatch = (computedStyle.indexOf(val) !== -1);\n                        // text-decoration is not inherited by default\n                        // so if the computed style for text-decoration doesn't match\n                        // don't write to knownState so we can fallback to other checks\n                        if (isMatch || this.style.prop !== 'text-decoration') {\n                            this.knownState = isMatch;\n                        }\n                    }\n                }, this);\n            }\n\n            return isMatch;\n        }\n    });\n\n    Button.isBuiltInButton = function (name) {\n        return (typeof name === 'string') && MediumEditor.extensions.button.prototype.defaults.hasOwnProperty(name);\n    };\n\n    MediumEditor.extensions.button = Button;\n}());\n\n(function () {\n    'use strict';\n\n    /* MediumEditor.extensions.button.defaults: [Object]\n     * Set of default config options for all of the built-in MediumEditor buttons\n     */\n    MediumEditor.extensions.button.prototype.defaults = {\n        'bold': {\n            name: 'bold',\n            action: 'bold',\n            aria: 'bold',\n            tagNames: ['b', 'strong'],\n            style: {\n                prop: 'font-weight',\n                value: '700|bold'\n            },\n            useQueryState: true,\n            contentDefault: '<b>B</b>',\n            contentFA: '<i class=\"fa fa-bold\"></i>'\n        },\n        'italic': {\n            name: 'italic',\n            action: 'italic',\n            aria: 'italic',\n            tagNames: ['i', 'em'],\n            style: {\n                prop: 'font-style',\n                value: 'italic'\n            },\n            useQueryState: true,\n            contentDefault: '<b><i>I</i></b>',\n            contentFA: '<i class=\"fa fa-italic\"></i>'\n        },\n        'underline': {\n            name: 'underline',\n            action: 'underline',\n            aria: 'underline',\n            tagNames: ['u'],\n            style: {\n                prop: 'text-decoration',\n                value: 'underline'\n            },\n            useQueryState: true,\n            contentDefault: '<b><u>U</u></b>',\n            contentFA: '<i class=\"fa fa-underline\"></i>'\n        },\n        'strikethrough': {\n            name: 'strikethrough',\n            action: 'strikethrough',\n            aria: 'strike through',\n            tagNames: ['strike'],\n            style: {\n                prop: 'text-decoration',\n                value: 'line-through'\n            },\n            useQueryState: true,\n            contentDefault: '<s>A</s>',\n            contentFA: '<i class=\"fa fa-strikethrough\"></i>'\n        },\n        'superscript': {\n            name: 'superscript',\n            action: 'superscript',\n            aria: 'superscript',\n            tagNames: ['sup'],\n            /* firefox doesn't behave the way we want it to, so we CAN'T use queryCommandState for superscript\n               https://github.com/guardian/scribe/blob/master/BROWSERINCONSISTENCIES.md#documentquerycommandstate */\n            // useQueryState: true\n            contentDefault: '<b>x<sup>1</sup></b>',\n            contentFA: '<i class=\"fa fa-superscript\"></i>'\n        },\n        'subscript': {\n            name: 'subscript',\n            action: 'subscript',\n            aria: 'subscript',\n            tagNames: ['sub'],\n            /* firefox doesn't behave the way we want it to, so we CAN'T use queryCommandState for subscript\n               https://github.com/guardian/scribe/blob/master/BROWSERINCONSISTENCIES.md#documentquerycommandstate */\n            // useQueryState: true\n            contentDefault: '<b>x<sub>1</sub></b>',\n            contentFA: '<i class=\"fa fa-subscript\"></i>'\n        },\n        'image': {\n            name: 'image',\n            action: 'image',\n            aria: 'image',\n            tagNames: ['img'],\n            contentDefault: '<b>image</b>',\n            contentFA: '<i class=\"fa fa-picture-o\"></i>'\n        },\n        'html': {\n            name: 'html',\n            action: 'html',\n            aria: 'evaluate html',\n            tagNames: ['iframe', 'object'],\n            contentDefault: '<b>html</b>',\n            contentFA: '<i class=\"fa fa-code\"></i>'\n        },\n        'orderedlist': {\n            name: 'orderedlist',\n            action: 'insertorderedlist',\n            aria: 'ordered list',\n            tagNames: ['ol'],\n            useQueryState: true,\n            contentDefault: '<b>1.</b>',\n            contentFA: '<i class=\"fa fa-list-ol\"></i>'\n        },\n        'unorderedlist': {\n            name: 'unorderedlist',\n            action: 'insertunorderedlist',\n            aria: 'unordered list',\n            tagNames: ['ul'],\n            useQueryState: true,\n            contentDefault: '<b>&bull;</b>',\n            contentFA: '<i class=\"fa fa-list-ul\"></i>'\n        },\n        'indent': {\n            name: 'indent',\n            action: 'indent',\n            aria: 'indent',\n            tagNames: [],\n            contentDefault: '<b>&rarr;</b>',\n            contentFA: '<i class=\"fa fa-indent\"></i>'\n        },\n        'outdent': {\n            name: 'outdent',\n            action: 'outdent',\n            aria: 'outdent',\n            tagNames: [],\n            contentDefault: '<b>&larr;</b>',\n            contentFA: '<i class=\"fa fa-outdent\"></i>'\n        },\n        'justifyCenter': {\n            name: 'justifyCenter',\n            action: 'justifyCenter',\n            aria: 'center justify',\n            tagNames: [],\n            style: {\n                prop: 'text-align',\n                value: 'center'\n            },\n            contentDefault: '<b>C</b>',\n            contentFA: '<i class=\"fa fa-align-center\"></i>'\n        },\n        'justifyFull': {\n            name: 'justifyFull',\n            action: 'justifyFull',\n            aria: 'full justify',\n            tagNames: [],\n            style: {\n                prop: 'text-align',\n                value: 'justify'\n            },\n            contentDefault: '<b>J</b>',\n            contentFA: '<i class=\"fa fa-align-justify\"></i>'\n        },\n        'justifyLeft': {\n            name: 'justifyLeft',\n            action: 'justifyLeft',\n            aria: 'left justify',\n            tagNames: [],\n            style: {\n                prop: 'text-align',\n                value: 'left'\n            },\n            contentDefault: '<b>L</b>',\n            contentFA: '<i class=\"fa fa-align-left\"></i>'\n        },\n        'justifyRight': {\n            name: 'justifyRight',\n            action: 'justifyRight',\n            aria: 'right justify',\n            tagNames: [],\n            style: {\n                prop: 'text-align',\n                value: 'right'\n            },\n            contentDefault: '<b>R</b>',\n            contentFA: '<i class=\"fa fa-align-right\"></i>'\n        },\n        // Known inline elements that are not removed, or not removed consistantly across browsers:\n        // <span>, <label>, <br>\n        'removeFormat': {\n            name: 'removeFormat',\n            aria: 'remove formatting',\n            action: 'removeFormat',\n            contentDefault: '<b>X</b>',\n            contentFA: '<i class=\"fa fa-eraser\"></i>'\n        },\n\n        /***** Buttons for appending block elements (append-<element> action) *****/\n\n        'quote': {\n            name: 'quote',\n            action: 'append-blockquote',\n            aria: 'blockquote',\n            tagNames: ['blockquote'],\n            contentDefault: '<b>&ldquo;</b>',\n            contentFA: '<i class=\"fa fa-quote-right\"></i>'\n        },\n        'pre': {\n            name: 'pre',\n            action: 'append-pre',\n            aria: 'preformatted text',\n            tagNames: ['pre'],\n            contentDefault: '<b>0101</b>',\n            contentFA: '<i class=\"fa fa-code fa-lg\"></i>'\n        },\n        'h1': {\n            name: 'h1',\n            action: 'append-h1',\n            aria: 'header type one',\n            tagNames: ['h1'],\n            contentDefault: '<b>H1</b>',\n            contentFA: '<i class=\"fa fa-header\"><sup>1</sup>'\n        },\n        'h2': {\n            name: 'h2',\n            action: 'append-h2',\n            aria: 'header type two',\n            tagNames: ['h2'],\n            contentDefault: '<b>H2</b>',\n            contentFA: '<i class=\"fa fa-header\"><sup>2</sup>'\n        },\n        'h3': {\n            name: 'h3',\n            action: 'append-h3',\n            aria: 'header type three',\n            tagNames: ['h3'],\n            contentDefault: '<b>H3</b>',\n            contentFA: '<i class=\"fa fa-header\"><sup>3</sup>'\n        },\n        'h4': {\n            name: 'h4',\n            action: 'append-h4',\n            aria: 'header type four',\n            tagNames: ['h4'],\n            contentDefault: '<b>H4</b>',\n            contentFA: '<i class=\"fa fa-header\"><sup>4</sup>'\n        },\n        'h5': {\n            name: 'h5',\n            action: 'append-h5',\n            aria: 'header type five',\n            tagNames: ['h5'],\n            contentDefault: '<b>H5</b>',\n            contentFA: '<i class=\"fa fa-header\"><sup>5</sup>'\n        },\n        'h6': {\n            name: 'h6',\n            action: 'append-h6',\n            aria: 'header type six',\n            tagNames: ['h6'],\n            contentDefault: '<b>H6</b>',\n            contentFA: '<i class=\"fa fa-header\"><sup>6</sup>'\n        }\n    };\n\n})();\n\n(function () {\n    'use strict';\n\n    /* Base functionality for an extension which will display\n     * a 'form' inside the toolbar\n     */\n    var FormExtension = MediumEditor.extensions.button.extend({\n\n        init: function () {\n            MediumEditor.extensions.button.prototype.init.apply(this, arguments);\n        },\n\n        // default labels for the form buttons\n        formSaveLabel: '&#10003;',\n        formCloseLabel: '&times;',\n\n        /* activeClass: [string]\n         * set class which added to shown form\n         */\n        activeClass: 'medium-editor-toolbar-form-active',\n\n        /* hasForm: [boolean]\n         *\n         * Setting this to true will cause getForm() to be called\n         * when the toolbar is created, so the form can be appended\n         * inside the toolbar container\n         */\n        hasForm: true,\n\n        /* getForm: [function ()]\n         *\n         * When hasForm is true, this function must be implemented\n         * and return a DOM Element which will be appended to\n         * the toolbar container. The form should start hidden, and\n         * the extension can choose when to hide/show it\n         */\n        getForm: function () {},\n\n        /* isDisplayed: [function ()]\n         *\n         * This function should return true/false reflecting\n         * whether the form is currently displayed\n         */\n        isDisplayed: function () {\n            if (this.hasForm) {\n                return this.getForm().classList.contains(this.activeClass);\n            }\n            return false;\n        },\n\n        /* hideForm: [function ()]\n         *\n         * This function should show the form element inside\n         * the toolbar container\n         */\n        showForm: function () {\n            if (this.hasForm) {\n                this.getForm().classList.add(this.activeClass);\n            }\n        },\n\n        /* hideForm: [function ()]\n         *\n         * This function should hide the form element inside\n         * the toolbar container\n         */\n        hideForm: function () {\n            if (this.hasForm) {\n                this.getForm().classList.remove(this.activeClass);\n            }\n        },\n\n        /************************ Helpers ************************\n         * The following are helpers that are either set by MediumEditor\n         * during initialization, or are helper methods which either\n         * route calls to the MediumEditor instance or provide common\n         * functionality for all form extensions\n         *********************************************************/\n\n        /* showToolbarDefaultActions: [function ()]\n         *\n         * Helper method which will turn back the toolbar after canceling\n         * the customized form\n         */\n        showToolbarDefaultActions: function () {\n            var toolbar = this.base.getExtensionByName('toolbar');\n            if (toolbar) {\n                toolbar.showToolbarDefaultActions();\n            }\n        },\n\n        /* hideToolbarDefaultActions: [function ()]\n         *\n         * Helper function which will hide the default contents of the\n         * toolbar, but leave the toolbar container in the same state\n         * to allow a form to display its custom contents inside the toolbar\n         */\n        hideToolbarDefaultActions: function () {\n            var toolbar = this.base.getExtensionByName('toolbar');\n            if (toolbar) {\n                toolbar.hideToolbarDefaultActions();\n            }\n        },\n\n        /* setToolbarPosition: [function ()]\n         *\n         * Helper function which will update the size and position\n         * of the toolbar based on the toolbar content and the current\n         * position of the user's selection\n         */\n        setToolbarPosition: function () {\n            var toolbar = this.base.getExtensionByName('toolbar');\n            if (toolbar) {\n                toolbar.setToolbarPosition();\n            }\n        }\n    });\n\n    MediumEditor.extensions.form = FormExtension;\n})();\n(function () {\n    'use strict';\n\n    var AnchorForm = MediumEditor.extensions.form.extend({\n        /* Anchor Form Options */\n\n        /* customClassOption: [string]  (previously options.anchorButton + options.anchorButtonClass)\n         * Custom class name the user can optionally have added to their created links (ie 'button').\n         * If passed as a non-empty string, a checkbox will be displayed allowing the user to choose\n         * whether to have the class added to the created link or not.\n         */\n        customClassOption: null,\n\n        /* customClassOptionText: [string]\n         * text to be shown in the checkbox when the __customClassOption__ is being used.\n         */\n        customClassOptionText: 'Button',\n\n        /* linkValidation: [boolean]  (previously options.checkLinkFormat)\n         * enables/disables check for common URL protocols on anchor links.\n         */\n        linkValidation: false,\n\n        /* placeholderText: [string]  (previously options.anchorInputPlaceholder)\n         * text to be shown as placeholder of the anchor input.\n         */\n        placeholderText: 'Paste or type a link',\n\n        /* targetCheckbox: [boolean]  (previously options.anchorTarget)\n         * enables/disables displaying a \"Open in new window\" checkbox, which when checked\n         * changes the `target` attribute of the created link.\n         */\n        targetCheckbox: false,\n\n        /* targetCheckboxText: [string]  (previously options.anchorInputCheckboxLabel)\n         * text to be shown in the checkbox enabled via the __targetCheckbox__ option.\n         */\n        targetCheckboxText: 'Open in new window',\n\n        // Options for the Button base class\n        name: 'anchor',\n        action: 'createLink',\n        aria: 'link',\n        tagNames: ['a'],\n        contentDefault: '<b>#</b>',\n        contentFA: '<i class=\"fa fa-link\"></i>',\n\n        init: function () {\n            MediumEditor.extensions.form.prototype.init.apply(this, arguments);\n\n            this.subscribe('editableKeydown', this.handleKeydown.bind(this));\n        },\n\n        // Called when the button the toolbar is clicked\n        // Overrides ButtonExtension.handleClick\n        handleClick: function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var range = MediumEditor.selection.getSelectionRange(this.document);\n\n            if (range.startContainer.nodeName.toLowerCase() === 'a' ||\n                range.endContainer.nodeName.toLowerCase() === 'a' ||\n                MediumEditor.util.getClosestTag(MediumEditor.selection.getSelectedParentElement(range), 'a')) {\n                return this.execAction('unlink');\n            }\n\n            if (!this.isDisplayed()) {\n                this.showForm();\n            }\n\n            return false;\n        },\n\n        // Called when user hits the defined shortcut (CTRL / COMMAND + K)\n        handleKeydown: function (event) {\n            if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.K) && MediumEditor.util.isMetaCtrlKey(event) && !event.shiftKey) {\n                this.handleClick(event);\n            }\n        },\n\n        // Called by medium-editor to append form to the toolbar\n        getForm: function () {\n            if (!this.form) {\n                this.form = this.createForm();\n            }\n            return this.form;\n        },\n\n        getTemplate: function () {\n            var template = [\n                '<input type=\"text\" class=\"medium-editor-toolbar-input\" placeholder=\"', this.placeholderText, '\">'\n            ];\n\n            template.push(\n                '<a href=\"#\" class=\"medium-editor-toolbar-save\">',\n                this.getEditorOption('buttonLabels') === 'fontawesome' ? '<i class=\"fa fa-check\"></i>' : this.formSaveLabel,\n                '</a>'\n            );\n\n            template.push('<a href=\"#\" class=\"medium-editor-toolbar-close\">',\n                this.getEditorOption('buttonLabels') === 'fontawesome' ? '<i class=\"fa fa-times\"></i>' : this.formCloseLabel,\n                '</a>');\n\n            // both of these options are slightly moot with the ability to\n            // override the various form buildup/serialize functions.\n\n            if (this.targetCheckbox) {\n                // fixme: ideally, this targetCheckboxText would be a formLabel too,\n                // figure out how to deprecate? also consider `fa-` icon default implcations.\n                template.push(\n                    '<div class=\"medium-editor-toolbar-form-row\">',\n                    '<input type=\"checkbox\" class=\"medium-editor-toolbar-anchor-target\" id=\"medium-editor-toolbar-anchor-target-field-' + this.getEditorId() + '\">',\n                    '<label for=\"medium-editor-toolbar-anchor-target-field-' + this.getEditorId() + '\">',\n                    this.targetCheckboxText,\n                    '</label>',\n                    '</div>'\n                );\n            }\n\n            if (this.customClassOption) {\n                // fixme: expose this `Button` text as a formLabel property, too\n                // and provide similar access to a `fa-` icon default.\n                template.push(\n                    '<div class=\"medium-editor-toolbar-form-row\">',\n                    '<input type=\"checkbox\" class=\"medium-editor-toolbar-anchor-button\">',\n                    '<label>',\n                    this.customClassOptionText,\n                    '</label>',\n                    '</div>'\n                );\n            }\n\n            return template.join('');\n\n        },\n\n        // Used by medium-editor when the default toolbar is to be displayed\n        isDisplayed: function () {\n            return MediumEditor.extensions.form.prototype.isDisplayed.apply(this);\n        },\n\n        hideForm: function () {\n            MediumEditor.extensions.form.prototype.hideForm.apply(this);\n            this.getInput().value = '';\n        },\n\n        showForm: function (opts) {\n            var input = this.getInput(),\n                targetCheckbox = this.getAnchorTargetCheckbox(),\n                buttonCheckbox = this.getAnchorButtonCheckbox();\n\n            opts = opts || { value: '' };\n            // TODO: This is for backwards compatability\n            // We don't need to support the 'string' argument in 6.0.0\n            if (typeof opts === 'string') {\n                opts = {\n                    value: opts\n                };\n            }\n\n            this.base.saveSelection();\n            this.hideToolbarDefaultActions();\n            MediumEditor.extensions.form.prototype.showForm.apply(this);\n            this.setToolbarPosition();\n\n            input.value = opts.value;\n            input.focus();\n\n            // If we have a target checkbox, we want it to be checked/unchecked\n            // based on whether the existing link has target=_blank\n            if (targetCheckbox) {\n                targetCheckbox.checked = opts.target === '_blank';\n            }\n\n            // If we have a custom class checkbox, we want it to be checked/unchecked\n            // based on whether an existing link already has the class\n            if (buttonCheckbox) {\n                var classList = opts.buttonClass ? opts.buttonClass.split(' ') : [];\n                buttonCheckbox.checked = (classList.indexOf(this.customClassOption) !== -1);\n            }\n        },\n\n        // Called by core when tearing down medium-editor (destroy)\n        destroy: function () {\n            if (!this.form) {\n                return false;\n            }\n\n            if (this.form.parentNode) {\n                this.form.parentNode.removeChild(this.form);\n            }\n\n            delete this.form;\n        },\n\n        // core methods\n\n        getFormOpts: function () {\n            // no notion of private functions? wanted `_getFormOpts`\n            var targetCheckbox = this.getAnchorTargetCheckbox(),\n                buttonCheckbox = this.getAnchorButtonCheckbox(),\n                opts = {\n                    value: this.getInput().value.trim()\n                };\n\n            if (this.linkValidation) {\n                opts.value = this.checkLinkFormat(opts.value);\n            }\n\n            opts.target = '_self';\n            if (targetCheckbox && targetCheckbox.checked) {\n                opts.target = '_blank';\n            }\n\n            if (buttonCheckbox && buttonCheckbox.checked) {\n                opts.buttonClass = this.customClassOption;\n            }\n\n            return opts;\n        },\n\n        doFormSave: function () {\n            var opts = this.getFormOpts();\n            this.completeFormSave(opts);\n        },\n\n        completeFormSave: function (opts) {\n            this.base.restoreSelection();\n            this.execAction(this.action, opts);\n            this.base.checkSelection();\n        },\n\n        ensureEncodedUri: function (str) {\n            return str === decodeURI(str) ? encodeURI(str) : str;\n        },\n\n        ensureEncodedUriComponent: function (str) {\n            return str === decodeURIComponent(str) ? encodeURIComponent(str) : str;\n        },\n\n        ensureEncodedParam: function (param) {\n            var split = param.split('='),\n                key = split[0],\n                val = split[1];\n\n            return key + (val === undefined ? '' : '=' + this.ensureEncodedUriComponent(val));\n        },\n\n        ensureEncodedQuery: function (queryString) {\n            return queryString.split('&').map(this.ensureEncodedParam.bind(this)).join('&');\n        },\n\n        checkLinkFormat: function (value) {\n            // Matches any alphabetical characters followed by ://\n            // Matches protocol relative \"//\"\n            // Matches common external protocols \"mailto:\" \"tel:\" \"maps:\"\n            // Matches relative hash link, begins with \"#\"\n            var urlSchemeRegex = /^([a-z]+:)?\\/\\/|^(mailto|tel|maps):|^\\#/i,\n                hasScheme = urlSchemeRegex.test(value),\n                scheme = '',\n                // telRegex is a regex for checking if the string is a telephone number\n                telRegex = /^\\+?\\s?\\(?(?:\\d\\s?\\-?\\)?){3,20}$/,\n                urlParts = value.match(/^(.*?)(?:\\?(.*?))?(?:#(.*))?$/),\n                path = urlParts[1],\n                query = urlParts[2],\n                fragment = urlParts[3];\n\n            if (telRegex.test(value)) {\n                return 'tel:' + value;\n            }\n\n            if (!hasScheme) {\n                var host = path.split('/')[0];\n                // if the host part of the path looks like a hostname\n                if (host.match(/.+(\\.|:).+/) || host === 'localhost') {\n                    scheme = 'http://';\n                }\n            }\n\n            return scheme +\n                // Ensure path is encoded\n                this.ensureEncodedUri(path) +\n                // Ensure query is encoded\n                (query === undefined ? '' : '?' + this.ensureEncodedQuery(query)) +\n                // Include fragment unencoded as encodeUriComponent is too\n                // heavy handed for the many characters allowed in a fragment\n                (fragment === undefined ? '' : '#' + fragment);\n        },\n\n        doFormCancel: function () {\n            this.base.restoreSelection();\n            this.base.checkSelection();\n        },\n\n        // form creation and event handling\n        attachFormEvents: function (form) {\n            var close = form.querySelector('.medium-editor-toolbar-close'),\n                save = form.querySelector('.medium-editor-toolbar-save'),\n                input = form.querySelector('.medium-editor-toolbar-input');\n\n            // Handle clicks on the form itself\n            this.on(form, 'click', this.handleFormClick.bind(this));\n\n            // Handle typing in the textbox\n            this.on(input, 'keyup', this.handleTextboxKeyup.bind(this));\n\n            // Handle close button clicks\n            this.on(close, 'click', this.handleCloseClick.bind(this));\n\n            // Handle save button clicks (capture)\n            this.on(save, 'click', this.handleSaveClick.bind(this), true);\n\n        },\n\n        createForm: function () {\n            var doc = this.document,\n                form = doc.createElement('div');\n\n            // Anchor Form (div)\n            form.className = 'medium-editor-toolbar-form';\n            form.id = 'medium-editor-toolbar-form-anchor-' + this.getEditorId();\n            form.innerHTML = this.getTemplate();\n            this.attachFormEvents(form);\n\n            return form;\n        },\n\n        getInput: function () {\n            return this.getForm().querySelector('input.medium-editor-toolbar-input');\n        },\n\n        getAnchorTargetCheckbox: function () {\n            return this.getForm().querySelector('.medium-editor-toolbar-anchor-target');\n        },\n\n        getAnchorButtonCheckbox: function () {\n            return this.getForm().querySelector('.medium-editor-toolbar-anchor-button');\n        },\n\n        handleTextboxKeyup: function (event) {\n            // For ENTER -> create the anchor\n            if (event.keyCode === MediumEditor.util.keyCode.ENTER) {\n                event.preventDefault();\n                this.doFormSave();\n                return;\n            }\n\n            // For ESCAPE -> close the form\n            if (event.keyCode === MediumEditor.util.keyCode.ESCAPE) {\n                event.preventDefault();\n                this.doFormCancel();\n            }\n        },\n\n        handleFormClick: function (event) {\n            // make sure not to hide form when clicking inside the form\n            event.stopPropagation();\n        },\n\n        handleSaveClick: function (event) {\n            // Clicking Save -> create the anchor\n            event.preventDefault();\n            this.doFormSave();\n        },\n\n        handleCloseClick: function (event) {\n            // Click Close -> close the form\n            event.preventDefault();\n            this.doFormCancel();\n        }\n    });\n\n    MediumEditor.extensions.anchor = AnchorForm;\n}());\n\n(function () {\n    'use strict';\n\n    var AnchorPreview = MediumEditor.Extension.extend({\n        name: 'anchor-preview',\n\n        // Anchor Preview Options\n\n        /* hideDelay: [number]  (previously options.anchorPreviewHideDelay)\n         * time in milliseconds to show the anchor tag preview after the mouse has left the anchor tag.\n         */\n        hideDelay: 500,\n\n        /* previewValueSelector: [string]\n         * the default selector to locate where to put the activeAnchor value in the preview\n         */\n        previewValueSelector: 'a',\n\n        /* showWhenToolbarIsVisible: [boolean]\n         * determines whether the anchor tag preview shows up when the toolbar is visible\n         */\n        showWhenToolbarIsVisible: false,\n\n        /* showOnEmptyLinks: [boolean]\n        * determines whether the anchor tag preview shows up on links with href=\"\" or href=\"#something\"\n        */\n        showOnEmptyLinks: true,\n\n        init: function () {\n            this.anchorPreview = this.createPreview();\n\n            this.getEditorOption('elementsContainer').appendChild(this.anchorPreview);\n\n            this.attachToEditables();\n        },\n\n        getInteractionElements: function () {\n            return this.getPreviewElement();\n        },\n\n        // TODO: Remove this function in 6.0.0\n        getPreviewElement: function () {\n            return this.anchorPreview;\n        },\n\n        createPreview: function () {\n            var el = this.document.createElement('div');\n\n            el.id = 'medium-editor-anchor-preview-' + this.getEditorId();\n            el.className = 'medium-editor-anchor-preview';\n            el.innerHTML = this.getTemplate();\n\n            this.on(el, 'click', this.handleClick.bind(this));\n\n            return el;\n        },\n\n        getTemplate: function () {\n            return '<div class=\"medium-editor-toolbar-anchor-preview\" id=\"medium-editor-toolbar-anchor-preview\">' +\n                '    <a class=\"medium-editor-toolbar-anchor-preview-inner\"></a>' +\n                '</div>';\n        },\n\n        destroy: function () {\n            if (this.anchorPreview) {\n                if (this.anchorPreview.parentNode) {\n                    this.anchorPreview.parentNode.removeChild(this.anchorPreview);\n                }\n                delete this.anchorPreview;\n            }\n        },\n\n        hidePreview: function () {\n            if (this.anchorPreview) {\n                this.anchorPreview.classList.remove('medium-editor-anchor-preview-active');\n            }\n            this.activeAnchor = null;\n        },\n\n        showPreview: function (anchorEl) {\n            if (this.anchorPreview.classList.contains('medium-editor-anchor-preview-active') ||\n                    anchorEl.getAttribute('data-disable-preview')) {\n                return true;\n            }\n\n            if (this.previewValueSelector) {\n                this.anchorPreview.querySelector(this.previewValueSelector).textContent = anchorEl.attributes.href.value;\n                this.anchorPreview.querySelector(this.previewValueSelector).href = anchorEl.attributes.href.value;\n            }\n\n            this.anchorPreview.classList.add('medium-toolbar-arrow-over');\n            this.anchorPreview.classList.remove('medium-toolbar-arrow-under');\n\n            if (!this.anchorPreview.classList.contains('medium-editor-anchor-preview-active')) {\n                this.anchorPreview.classList.add('medium-editor-anchor-preview-active');\n            }\n\n            this.activeAnchor = anchorEl;\n\n            this.positionPreview();\n            this.attachPreviewHandlers();\n\n            return this;\n        },\n\n        positionPreview: function (activeAnchor) {\n            activeAnchor = activeAnchor || this.activeAnchor;\n            var containerWidth = this.window.innerWidth,\n                buttonHeight = this.anchorPreview.offsetHeight,\n                boundary = activeAnchor.getBoundingClientRect(),\n                diffLeft = this.diffLeft,\n                diffTop = this.diffTop,\n                elementsContainer = this.getEditorOption('elementsContainer'),\n                elementsContainerAbsolute = ['absolute', 'fixed'].indexOf(window.getComputedStyle(elementsContainer).getPropertyValue('position')) > -1,\n                relativeBoundary = {},\n                halfOffsetWidth, defaultLeft, middleBoundary, elementsContainerBoundary, top;\n\n            halfOffsetWidth = this.anchorPreview.offsetWidth / 2;\n            var toolbarExtension = this.base.getExtensionByName('toolbar');\n            if (toolbarExtension) {\n                diffLeft = toolbarExtension.diffLeft;\n                diffTop = toolbarExtension.diffTop;\n            }\n            defaultLeft = diffLeft - halfOffsetWidth;\n\n            // If container element is absolute / fixed, recalculate boundaries to be relative to the container\n            if (elementsContainerAbsolute) {\n                elementsContainerBoundary = elementsContainer.getBoundingClientRect();\n                ['top', 'left'].forEach(function (key) {\n                    relativeBoundary[key] = boundary[key] - elementsContainerBoundary[key];\n                });\n\n                relativeBoundary.width = boundary.width;\n                relativeBoundary.height = boundary.height;\n                boundary = relativeBoundary;\n\n                containerWidth = elementsContainerBoundary.width;\n\n                // Adjust top position according to container scroll position\n                top = elementsContainer.scrollTop;\n            } else {\n                // Adjust top position according to window scroll position\n                top = this.window.pageYOffset;\n            }\n\n            middleBoundary = boundary.left + boundary.width / 2;\n            top += buttonHeight + boundary.top + boundary.height - diffTop - this.anchorPreview.offsetHeight;\n\n            this.anchorPreview.style.top = Math.round(top) + 'px';\n            this.anchorPreview.style.right = 'initial';\n            if (middleBoundary < halfOffsetWidth) {\n                this.anchorPreview.style.left = defaultLeft + halfOffsetWidth + 'px';\n                this.anchorPreview.style.right = 'initial';\n            } else if ((containerWidth - middleBoundary) < halfOffsetWidth) {\n                this.anchorPreview.style.left = 'auto';\n                this.anchorPreview.style.right = 0;\n            } else {\n                this.anchorPreview.style.left = defaultLeft + middleBoundary + 'px';\n                this.anchorPreview.style.right = 'initial';\n            }\n        },\n\n        attachToEditables: function () {\n            this.subscribe('editableMouseover', this.handleEditableMouseover.bind(this));\n            this.subscribe('positionedToolbar', this.handlePositionedToolbar.bind(this));\n        },\n\n        handlePositionedToolbar: function () {\n            // If the toolbar is visible and positioned, we don't need to hide the preview\n            // when showWhenToolbarIsVisible is true\n            if (!this.showWhenToolbarIsVisible) {\n                this.hidePreview();\n            }\n        },\n\n        handleClick: function (event) {\n            var anchorExtension = this.base.getExtensionByName('anchor'),\n                activeAnchor = this.activeAnchor;\n\n            if (anchorExtension && activeAnchor) {\n                event.preventDefault();\n\n                this.base.selectElement(this.activeAnchor);\n\n                // Using setTimeout + delay because:\n                // We may actually be displaying the anchor form, which should be controlled by delay\n                this.base.delay(function () {\n                    if (activeAnchor) {\n                        var opts = {\n                            value: activeAnchor.attributes.href.value,\n                            target: activeAnchor.getAttribute('target'),\n                            buttonClass: activeAnchor.getAttribute('class')\n                        };\n                        anchorExtension.showForm(opts);\n                        activeAnchor = null;\n                    }\n                }.bind(this));\n            }\n\n            this.hidePreview();\n        },\n\n        handleAnchorMouseout: function () {\n            this.anchorToPreview = null;\n            this.off(this.activeAnchor, 'mouseout', this.instanceHandleAnchorMouseout);\n            this.instanceHandleAnchorMouseout = null;\n        },\n\n        handleEditableMouseover: function (event) {\n            var target = MediumEditor.util.getClosestTag(event.target, 'a');\n\n            if (false === target) {\n                return;\n            }\n\n            // Detect empty href attributes\n            // The browser will make href=\"\" or href=\"#top\"\n            // into absolute urls when accessed as event.target.href, so check the html\n            if (!this.showOnEmptyLinks &&\n                (!/href=[\"']\\S+[\"']/.test(target.outerHTML) || /href=[\"']#\\S+[\"']/.test(target.outerHTML))) {\n                return true;\n            }\n\n            // only show when toolbar is not present\n            var toolbar = this.base.getExtensionByName('toolbar');\n            if (!this.showWhenToolbarIsVisible && toolbar && toolbar.isDisplayed && toolbar.isDisplayed()) {\n                return true;\n            }\n\n            // detach handler for other anchor in case we hovered multiple anchors quickly\n            if (this.activeAnchor && this.activeAnchor !== target) {\n                this.detachPreviewHandlers();\n            }\n\n            this.anchorToPreview = target;\n\n            this.instanceHandleAnchorMouseout = this.handleAnchorMouseout.bind(this);\n            this.on(this.anchorToPreview, 'mouseout', this.instanceHandleAnchorMouseout);\n            // Using setTimeout + delay because:\n            // - We're going to show the anchor preview according to the configured delay\n            //   if the mouse has not left the anchor tag in that time\n            this.base.delay(function () {\n                if (this.anchorToPreview) {\n                    this.showPreview(this.anchorToPreview);\n                }\n            }.bind(this));\n        },\n\n        handlePreviewMouseover: function () {\n            this.lastOver = (new Date()).getTime();\n            this.hovering = true;\n        },\n\n        handlePreviewMouseout: function (event) {\n            if (!event.relatedTarget || !/anchor-preview/.test(event.relatedTarget.className)) {\n                this.hovering = false;\n            }\n        },\n\n        updatePreview: function () {\n            if (this.hovering) {\n                return true;\n            }\n            var durr = (new Date()).getTime() - this.lastOver;\n            if (durr > this.hideDelay) {\n                // hide the preview 1/2 second after mouse leaves the link\n                this.detachPreviewHandlers();\n            }\n        },\n\n        detachPreviewHandlers: function () {\n            // cleanup\n            clearInterval(this.intervalTimer);\n            if (this.instanceHandlePreviewMouseover) {\n                this.off(this.anchorPreview, 'mouseover', this.instanceHandlePreviewMouseover);\n                this.off(this.anchorPreview, 'mouseout', this.instanceHandlePreviewMouseout);\n                if (this.activeAnchor) {\n                    this.off(this.activeAnchor, 'mouseover', this.instanceHandlePreviewMouseover);\n                    this.off(this.activeAnchor, 'mouseout', this.instanceHandlePreviewMouseout);\n                }\n            }\n\n            this.hidePreview();\n\n            this.hovering = this.instanceHandlePreviewMouseover = this.instanceHandlePreviewMouseout = null;\n        },\n\n        // TODO: break up method and extract out handlers\n        attachPreviewHandlers: function () {\n            this.lastOver = (new Date()).getTime();\n            this.hovering = true;\n\n            this.instanceHandlePreviewMouseover = this.handlePreviewMouseover.bind(this);\n            this.instanceHandlePreviewMouseout = this.handlePreviewMouseout.bind(this);\n\n            this.intervalTimer = setInterval(this.updatePreview.bind(this), 200);\n\n            this.on(this.anchorPreview, 'mouseover', this.instanceHandlePreviewMouseover);\n            this.on(this.anchorPreview, 'mouseout', this.instanceHandlePreviewMouseout);\n            this.on(this.activeAnchor, 'mouseover', this.instanceHandlePreviewMouseover);\n            this.on(this.activeAnchor, 'mouseout', this.instanceHandlePreviewMouseout);\n        }\n    });\n\n    MediumEditor.extensions.anchorPreview = AnchorPreview;\n}());\n\n(function () {\n    'use strict';\n\n    var WHITESPACE_CHARS,\n        KNOWN_TLDS_FRAGMENT,\n        LINK_REGEXP_TEXT,\n        KNOWN_TLDS_REGEXP,\n        LINK_REGEXP;\n\n    WHITESPACE_CHARS = [' ', '\\t', '\\n', '\\r', '\\u00A0', '\\u2000', '\\u2001', '\\u2002', '\\u2003',\n                                    '\\u2028', '\\u2029'];\n    KNOWN_TLDS_FRAGMENT = 'com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|' +\n        'xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|' +\n        'bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|' +\n        'fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|' +\n        'is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|' +\n        'mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|' +\n        'pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|' +\n        'tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw';\n\n    LINK_REGEXP_TEXT =\n        '(' +\n        // Version of Gruber URL Regexp optimized for JS: http://stackoverflow.com/a/17733640\n        '((?:(https?://|ftps?://|nntp://)|www\\\\d{0,3}[.]|[a-z0-9.\\\\-]+[.](' + KNOWN_TLDS_FRAGMENT + ')\\\\\\/)\\\\S+(?:[^\\\\s`!\\\\[\\\\]{};:\\'\\\".,?\\u00AB\\u00BB\\u201C\\u201D\\u2018\\u2019]))' +\n        // Addition to above Regexp to support bare domains/one level subdomains with common non-i18n TLDs and without www prefix:\n        ')|(([a-z0-9\\\\-]+\\\\.)?[a-z0-9\\\\-]+\\\\.(' + KNOWN_TLDS_FRAGMENT + '))';\n\n    KNOWN_TLDS_REGEXP = new RegExp('^(' + KNOWN_TLDS_FRAGMENT + ')$', 'i');\n\n    LINK_REGEXP = new RegExp(LINK_REGEXP_TEXT, 'gi');\n\n    function nodeIsNotInsideAnchorTag(node) {\n        return !MediumEditor.util.getClosestTag(node, 'a');\n    }\n\n    var AutoLink = MediumEditor.Extension.extend({\n        init: function () {\n            MediumEditor.Extension.prototype.init.apply(this, arguments);\n\n            this.disableEventHandling = false;\n            this.subscribe('editableKeypress', this.onKeypress.bind(this));\n            this.subscribe('editableBlur', this.onBlur.bind(this));\n            // MS IE has it's own auto-URL detect feature but ours is better in some ways. Be consistent.\n            this.document.execCommand('AutoUrlDetect', false, false);\n        },\n\n        isLastInstance: function () {\n            var activeInstances = 0;\n            for (var i = 0; i < this.window._mediumEditors.length; i++) {\n                var editor = this.window._mediumEditors[i];\n                if (editor !== null && editor.getExtensionByName('autoLink') !== undefined) {\n                    activeInstances++;\n                }\n            }\n            return activeInstances === 1;\n        },\n\n        destroy: function () {\n            // Turn AutoUrlDetect back on\n            if (this.document.queryCommandSupported('AutoUrlDetect') && this.isLastInstance()) {\n                this.document.execCommand('AutoUrlDetect', false, true);\n            }\n        },\n\n        onBlur: function (blurEvent, editable) {\n            this.performLinking(editable);\n        },\n\n        onKeypress: function (keyPressEvent) {\n            if (this.disableEventHandling) {\n                return;\n            }\n\n            if (MediumEditor.util.isKey(keyPressEvent, [MediumEditor.util.keyCode.SPACE, MediumEditor.util.keyCode.ENTER])) {\n                clearTimeout(this.performLinkingTimeout);\n                // Saving/restoring the selection in the middle of a keypress doesn't work well...\n                this.performLinkingTimeout = setTimeout(function () {\n                    try {\n                        var sel = this.base.exportSelection();\n                        if (this.performLinking(keyPressEvent.target)) {\n                            // pass true for favorLaterSelectionAnchor - this is needed for links at the end of a\n                            // paragraph in MS IE, or MS IE causes the link to be deleted right after adding it.\n                            this.base.importSelection(sel, true);\n                        }\n                    } catch (e) {\n                        if (window.console) {\n                            window.console.error('Failed to perform linking', e);\n                        }\n                        this.disableEventHandling = true;\n                    }\n                }.bind(this), 0);\n            }\n        },\n\n        performLinking: function (contenteditable) {\n            /*\n            Perform linking on blockElement basis, blockElements are HTML elements with text content and without\n            child element.\n\n            Example:\n            - HTML content\n            <blockquote>\n              <p>link.</p>\n              <p>my</p>\n            </blockquote>\n\n            - blockElements\n            [<p>link.</p>, <p>my</p>]\n\n            otherwise the detection can wrongly find the end of one paragraph and the beginning of another paragraph\n            to constitute a link, such as a paragraph ending \"link.\" and the next paragraph beginning with \"my\" is\n            interpreted into \"link.my\" and the code tries to create a link across blockElements - which doesn't work\n            and is terrible.\n            (Medium deletes the spaces/returns between P tags so the textContent ends up without paragraph spacing)\n            */\n            var blockElements = MediumEditor.util.splitByBlockElements(contenteditable),\n                documentModified = false;\n            if (blockElements.length === 0) {\n                blockElements = [contenteditable];\n            }\n            for (var i = 0; i < blockElements.length; i++) {\n                documentModified = this.removeObsoleteAutoLinkSpans(blockElements[i]) || documentModified;\n                documentModified = this.performLinkingWithinElement(blockElements[i]) || documentModified;\n            }\n            this.base.events.updateInput(contenteditable, { target: contenteditable, currentTarget: contenteditable });\n            return documentModified;\n        },\n\n        removeObsoleteAutoLinkSpans: function (element) {\n            if (!element || element.nodeType === 3) {\n                return false;\n            }\n\n            var spans = element.querySelectorAll('span[data-auto-link=\"true\"]'),\n                documentModified = false;\n\n            for (var i = 0; i < spans.length; i++) {\n                var textContent = spans[i].textContent;\n                if (textContent.indexOf('://') === -1) {\n                    textContent = MediumEditor.util.ensureUrlHasProtocol(textContent);\n                }\n                if (spans[i].getAttribute('data-href') !== textContent && nodeIsNotInsideAnchorTag(spans[i])) {\n                    documentModified = true;\n                    var trimmedTextContent = textContent.replace(/\\s+$/, '');\n                    if (spans[i].getAttribute('data-href') === trimmedTextContent) {\n                        var charactersTrimmed = textContent.length - trimmedTextContent.length,\n                            subtree = MediumEditor.util.splitOffDOMTree(spans[i], this.splitTextBeforeEnd(spans[i], charactersTrimmed));\n                        spans[i].parentNode.insertBefore(subtree, spans[i].nextSibling);\n                    } else {\n                        // Some editing has happened to the span, so just remove it entirely. The user can put it back\n                        // around just the href content if they need to prevent it from linking\n                        MediumEditor.util.unwrap(spans[i], this.document);\n                    }\n                }\n            }\n            return documentModified;\n        },\n\n        splitTextBeforeEnd: function (element, characterCount) {\n            var treeWalker = this.document.createTreeWalker(element, NodeFilter.SHOW_TEXT, null, false),\n                lastChildNotExhausted = true;\n\n            // Start the tree walker at the last descendant of the span\n            while (lastChildNotExhausted) {\n                lastChildNotExhausted = treeWalker.lastChild() !== null;\n            }\n\n            var currentNode,\n                currentNodeValue,\n                previousNode;\n            while (characterCount > 0 && previousNode !== null) {\n                currentNode = treeWalker.currentNode;\n                currentNodeValue = currentNode.nodeValue;\n                if (currentNodeValue.length > characterCount) {\n                    previousNode = currentNode.splitText(currentNodeValue.length - characterCount);\n                    characterCount = 0;\n                } else {\n                    previousNode = treeWalker.previousNode();\n                    characterCount -= currentNodeValue.length;\n                }\n            }\n            return previousNode;\n        },\n\n        performLinkingWithinElement: function (element) {\n            var matches = this.findLinkableText(element),\n                linkCreated = false;\n\n            for (var matchIndex = 0; matchIndex < matches.length; matchIndex++) {\n                var matchingTextNodes = MediumEditor.util.findOrCreateMatchingTextNodes(this.document, element,\n                        matches[matchIndex]);\n                if (this.shouldNotLink(matchingTextNodes)) {\n                    continue;\n                }\n                this.createAutoLink(matchingTextNodes, matches[matchIndex].href);\n            }\n            return linkCreated;\n        },\n\n        shouldNotLink: function (textNodes) {\n            var shouldNotLink = false;\n            for (var i = 0; i < textNodes.length && shouldNotLink === false; i++) {\n                // Do not link if the text node is either inside an anchor or inside span[data-auto-link]\n                shouldNotLink = !!MediumEditor.util.traverseUp(textNodes[i], function (node) {\n                    return node.nodeName.toLowerCase() === 'a' ||\n                        (node.getAttribute && node.getAttribute('data-auto-link') === 'true');\n                });\n            }\n            return shouldNotLink;\n        },\n\n        findLinkableText: function (contenteditable) {\n            var textContent = contenteditable.textContent,\n                match = null,\n                matches = [];\n\n            while ((match = LINK_REGEXP.exec(textContent)) !== null) {\n                var matchOk = true,\n                    matchEnd = match.index + match[0].length;\n                // If the regexp detected something as a link that has text immediately preceding/following it, bail out.\n                matchOk = (match.index === 0 || WHITESPACE_CHARS.indexOf(textContent[match.index - 1]) !== -1) &&\n                    (matchEnd === textContent.length || WHITESPACE_CHARS.indexOf(textContent[matchEnd]) !== -1);\n                // If the regexp detected a bare domain that doesn't use one of our expected TLDs, bail out.\n                matchOk = matchOk && (match[0].indexOf('/') !== -1 ||\n                    KNOWN_TLDS_REGEXP.test(match[0].split('.').pop().split('?').shift()));\n\n                if (matchOk) {\n                    matches.push({\n                        href: match[0],\n                        start: match.index,\n                        end: matchEnd\n                    });\n                }\n            }\n            return matches;\n        },\n\n        createAutoLink: function (textNodes, href) {\n            href = MediumEditor.util.ensureUrlHasProtocol(href);\n            var anchor = MediumEditor.util.createLink(this.document, textNodes, href, this.getEditorOption('targetBlank') ? '_blank' : null),\n                span = this.document.createElement('span');\n            span.setAttribute('data-auto-link', 'true');\n            span.setAttribute('data-href', href);\n            anchor.insertBefore(span, anchor.firstChild);\n            while (anchor.childNodes.length > 1) {\n                span.appendChild(anchor.childNodes[1]);\n            }\n        }\n\n    });\n\n    MediumEditor.extensions.autoLink = AutoLink;\n}());\n\n(function () {\n    'use strict';\n\n    var CLASS_DRAG_OVER = 'medium-editor-dragover';\n\n    function clearClassNames(element) {\n        var editable = MediumEditor.util.getContainerEditorElement(element),\n            existing = Array.prototype.slice.call(editable.parentElement.querySelectorAll('.' + CLASS_DRAG_OVER));\n\n        existing.forEach(function (el) {\n            el.classList.remove(CLASS_DRAG_OVER);\n        });\n    }\n\n    var FileDragging = MediumEditor.Extension.extend({\n        name: 'fileDragging',\n\n        allowedTypes: ['image'],\n\n        init: function () {\n            MediumEditor.Extension.prototype.init.apply(this, arguments);\n\n            this.subscribe('editableDrag', this.handleDrag.bind(this));\n            this.subscribe('editableDrop', this.handleDrop.bind(this));\n        },\n\n        handleDrag: function (event) {\n            event.preventDefault();\n            event.dataTransfer.dropEffect = 'copy';\n\n            var target = event.target.classList ? event.target : event.target.parentElement;\n\n            // Ensure the class gets removed from anything that had it before\n            clearClassNames(target);\n\n            if (event.type === 'dragover') {\n                target.classList.add(CLASS_DRAG_OVER);\n            }\n        },\n\n        handleDrop: function (event) {\n            // Prevent file from opening in the current window\n            event.preventDefault();\n            event.stopPropagation();\n            // Select the dropping target, and set the selection to the end of the target\n            // https://github.com/yabwe/medium-editor/issues/980\n            this.base.selectElement(event.target);\n            var selection = this.base.exportSelection();\n            selection.start = selection.end;\n            this.base.importSelection(selection);\n            // IE9 does not support the File API, so prevent file from opening in the window\n            // but also don't try to actually get the file\n            if (event.dataTransfer.files) {\n                Array.prototype.slice.call(event.dataTransfer.files).forEach(function (file) {\n                    if (this.isAllowedFile(file)) {\n                        if (file.type.match('image')) {\n                            this.insertImageFile(file);\n                        }\n                    }\n                }, this);\n            }\n\n            // Make sure we remove our class from everything\n            clearClassNames(event.target);\n        },\n\n        isAllowedFile: function (file) {\n            return this.allowedTypes.some(function (fileType) {\n                return !!file.type.match(fileType);\n            });\n        },\n\n        insertImageFile: function (file) {\n            if (typeof FileReader !== 'function') {\n                return;\n            }\n            var fileReader = new FileReader();\n            fileReader.readAsDataURL(file);\n\n            // attach the onload event handler, makes it easier to listen in with jasmine\n            fileReader.addEventListener('load', function (e) {\n                var addImageElement = this.document.createElement('img');\n                addImageElement.src = e.target.result;\n                MediumEditor.util.insertHTMLCommand(this.document, addImageElement.outerHTML);\n            }.bind(this));\n        }\n    });\n\n    MediumEditor.extensions.fileDragging = FileDragging;\n}());\n\n(function () {\n    'use strict';\n\n    var KeyboardCommands = MediumEditor.Extension.extend({\n        name: 'keyboard-commands',\n\n        /* KeyboardCommands Options */\n\n        /* commands: [Array]\n         * Array of objects describing each command and the combination of keys that will trigger it\n         * Required for each object:\n         *   command [String] (argument passed to editor.execAction())\n         *   key [String] (keyboard character that triggers this command)\n         *   meta [boolean] (whether the ctrl/meta key has to be active or inactive)\n         *   shift [boolean] (whether the shift key has to be active or inactive)\n         *   alt [boolean] (whether the alt key has to be active or inactive)\n         */\n        commands: [\n            {\n                command: 'bold',\n                key: 'B',\n                meta: true,\n                shift: false,\n                alt: false\n            },\n            {\n                command: 'italic',\n                key: 'I',\n                meta: true,\n                shift: false,\n                alt: false\n            },\n            {\n                command: 'underline',\n                key: 'U',\n                meta: true,\n                shift: false,\n                alt: false\n            }\n        ],\n\n        init: function () {\n            MediumEditor.Extension.prototype.init.apply(this, arguments);\n\n            this.subscribe('editableKeydown', this.handleKeydown.bind(this));\n            this.keys = {};\n            this.commands.forEach(function (command) {\n                var keyCode = command.key.charCodeAt(0);\n                if (!this.keys[keyCode]) {\n                    this.keys[keyCode] = [];\n                }\n                this.keys[keyCode].push(command);\n            }, this);\n        },\n\n        handleKeydown: function (event) {\n            var keyCode = MediumEditor.util.getKeyCode(event);\n            if (!this.keys[keyCode]) {\n                return;\n            }\n\n            var isMeta = MediumEditor.util.isMetaCtrlKey(event),\n                isShift = !!event.shiftKey,\n                isAlt = !!event.altKey;\n\n            this.keys[keyCode].forEach(function (data) {\n                if (data.meta === isMeta &&\n                    data.shift === isShift &&\n                    (data.alt === isAlt ||\n                     undefined === data.alt)) { // TODO deprecated: remove check for undefined === data.alt when jumping to 6.0.0\n                    event.preventDefault();\n                    event.stopPropagation();\n\n                    // command can be a function to execute\n                    if (typeof data.command === 'function') {\n                        data.command.apply(this);\n                    }\n                    // command can be false so the shortcut is just disabled\n                    else if (false !== data.command) {\n                        this.execAction(data.command);\n                    }\n                }\n            }, this);\n        }\n    });\n\n    MediumEditor.extensions.keyboardCommands = KeyboardCommands;\n}());\n\n(function () {\n    'use strict';\n\n    var FontNameForm = MediumEditor.extensions.form.extend({\n\n        name: 'fontname',\n        action: 'fontName',\n        aria: 'change font name',\n        contentDefault: '&#xB1;', // \n        contentFA: '<i class=\"fa fa-font\"></i>',\n\n        fonts: ['', 'Arial', 'Verdana', 'Times New Roman'],\n\n        init: function () {\n            MediumEditor.extensions.form.prototype.init.apply(this, arguments);\n        },\n\n        // Called when the button the toolbar is clicked\n        // Overrides ButtonExtension.handleClick\n        handleClick: function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            if (!this.isDisplayed()) {\n                // Get FontName of current selection (convert to string since IE returns this as number)\n                var fontName = this.document.queryCommandValue('fontName') + '';\n                this.showForm(fontName);\n            }\n\n            return false;\n        },\n\n        // Called by medium-editor to append form to the toolbar\n        getForm: function () {\n            if (!this.form) {\n                this.form = this.createForm();\n            }\n            return this.form;\n        },\n\n        // Used by medium-editor when the default toolbar is to be displayed\n        isDisplayed: function () {\n            return this.getForm().style.display === 'block';\n        },\n\n        hideForm: function () {\n            this.getForm().style.display = 'none';\n            this.getSelect().value = '';\n        },\n\n        showForm: function (fontName) {\n            var select = this.getSelect();\n\n            this.base.saveSelection();\n            this.hideToolbarDefaultActions();\n            this.getForm().style.display = 'block';\n            this.setToolbarPosition();\n\n            select.value = fontName || '';\n            select.focus();\n        },\n\n        // Called by core when tearing down medium-editor (destroy)\n        destroy: function () {\n            if (!this.form) {\n                return false;\n            }\n\n            if (this.form.parentNode) {\n                this.form.parentNode.removeChild(this.form);\n            }\n\n            delete this.form;\n        },\n\n        // core methods\n\n        doFormSave: function () {\n            this.base.restoreSelection();\n            this.base.checkSelection();\n        },\n\n        doFormCancel: function () {\n            this.base.restoreSelection();\n            this.clearFontName();\n            this.base.checkSelection();\n        },\n\n        // form creation and event handling\n        createForm: function () {\n            var doc = this.document,\n                form = doc.createElement('div'),\n                select = doc.createElement('select'),\n                close = doc.createElement('a'),\n                save = doc.createElement('a'),\n                option;\n\n            // Font Name Form (div)\n            form.className = 'medium-editor-toolbar-form';\n            form.id = 'medium-editor-toolbar-form-fontname-' + this.getEditorId();\n\n            // Handle clicks on the form itself\n            this.on(form, 'click', this.handleFormClick.bind(this));\n\n            // Add font names\n            for (var i = 0; i<this.fonts.length; i++) {\n                option = doc.createElement('option');\n                option.innerHTML = this.fonts[i];\n                option.value = this.fonts[i];\n                select.appendChild(option);\n            }\n\n            select.className = 'medium-editor-toolbar-select';\n            form.appendChild(select);\n\n            // Handle typing in the textbox\n            this.on(select, 'change', this.handleFontChange.bind(this));\n\n            // Add save buton\n            save.setAttribute('href', '#');\n            save.className = 'medium-editor-toobar-save';\n            save.innerHTML = this.getEditorOption('buttonLabels') === 'fontawesome' ?\n                             '<i class=\"fa fa-check\"></i>' :\n                             '&#10003;';\n            form.appendChild(save);\n\n            // Handle save button clicks (capture)\n            this.on(save, 'click', this.handleSaveClick.bind(this), true);\n\n            // Add close button\n            close.setAttribute('href', '#');\n            close.className = 'medium-editor-toobar-close';\n            close.innerHTML = this.getEditorOption('buttonLabels') === 'fontawesome' ?\n                              '<i class=\"fa fa-times\"></i>' :\n                              '&times;';\n            form.appendChild(close);\n\n            // Handle close button clicks\n            this.on(close, 'click', this.handleCloseClick.bind(this));\n\n            return form;\n        },\n\n        getSelect: function () {\n            return this.getForm().querySelector('select.medium-editor-toolbar-select');\n        },\n\n        clearFontName: function () {\n            MediumEditor.selection.getSelectedElements(this.document).forEach(function (el) {\n                if (el.nodeName.toLowerCase() === 'font' && el.hasAttribute('face')) {\n                    el.removeAttribute('face');\n                }\n            });\n        },\n\n        handleFontChange: function () {\n            var font = this.getSelect().value;\n            if (font === '') {\n                this.clearFontName();\n            } else {\n                this.execAction('fontName', { value: font });\n            }\n        },\n\n        handleFormClick: function (event) {\n            // make sure not to hide form when clicking inside the form\n            event.stopPropagation();\n        },\n\n        handleSaveClick: function (event) {\n            // Clicking Save -> create the font size\n            event.preventDefault();\n            this.doFormSave();\n        },\n\n        handleCloseClick: function (event) {\n            // Click Close -> close the form\n            event.preventDefault();\n            this.doFormCancel();\n        }\n    });\n\n    MediumEditor.extensions.fontName = FontNameForm;\n}());\n\n(function () {\n    'use strict';\n\n    var FontSizeForm = MediumEditor.extensions.form.extend({\n\n        name: 'fontsize',\n        action: 'fontSize',\n        aria: 'increase/decrease font size',\n        contentDefault: '&#xB1;', // \n        contentFA: '<i class=\"fa fa-text-height\"></i>',\n\n        init: function () {\n            MediumEditor.extensions.form.prototype.init.apply(this, arguments);\n        },\n\n        // Called when the button the toolbar is clicked\n        // Overrides ButtonExtension.handleClick\n        handleClick: function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            if (!this.isDisplayed()) {\n                // Get fontsize of current selection (convert to string since IE returns this as number)\n                var fontSize = this.document.queryCommandValue('fontSize') + '';\n                this.showForm(fontSize);\n            }\n\n            return false;\n        },\n\n        // Called by medium-editor to append form to the toolbar\n        getForm: function () {\n            if (!this.form) {\n                this.form = this.createForm();\n            }\n            return this.form;\n        },\n\n        // Used by medium-editor when the default toolbar is to be displayed\n        isDisplayed: function () {\n            return this.getForm().style.display === 'block';\n        },\n\n        hideForm: function () {\n            this.getForm().style.display = 'none';\n            this.getInput().value = '';\n        },\n\n        showForm: function (fontSize) {\n            var input = this.getInput();\n\n            this.base.saveSelection();\n            this.hideToolbarDefaultActions();\n            this.getForm().style.display = 'block';\n            this.setToolbarPosition();\n\n            input.value = fontSize || '';\n            input.focus();\n        },\n\n        // Called by core when tearing down medium-editor (destroy)\n        destroy: function () {\n            if (!this.form) {\n                return false;\n            }\n\n            if (this.form.parentNode) {\n                this.form.parentNode.removeChild(this.form);\n            }\n\n            delete this.form;\n        },\n\n        // core methods\n\n        doFormSave: function () {\n            this.base.restoreSelection();\n            this.base.checkSelection();\n        },\n\n        doFormCancel: function () {\n            this.base.restoreSelection();\n            this.clearFontSize();\n            this.base.checkSelection();\n        },\n\n        // form creation and event handling\n        createForm: function () {\n            var doc = this.document,\n                form = doc.createElement('div'),\n                input = doc.createElement('input'),\n                close = doc.createElement('a'),\n                save = doc.createElement('a');\n\n            // Font Size Form (div)\n            form.className = 'medium-editor-toolbar-form';\n            form.id = 'medium-editor-toolbar-form-fontsize-' + this.getEditorId();\n\n            // Handle clicks on the form itself\n            this.on(form, 'click', this.handleFormClick.bind(this));\n\n            // Add font size slider\n            input.setAttribute('type', 'range');\n            input.setAttribute('min', '1');\n            input.setAttribute('max', '7');\n            input.className = 'medium-editor-toolbar-input';\n            form.appendChild(input);\n\n            // Handle typing in the textbox\n            this.on(input, 'change', this.handleSliderChange.bind(this));\n\n            // Add save buton\n            save.setAttribute('href', '#');\n            save.className = 'medium-editor-toobar-save';\n            save.innerHTML = this.getEditorOption('buttonLabels') === 'fontawesome' ?\n                             '<i class=\"fa fa-check\"></i>' :\n                             '&#10003;';\n            form.appendChild(save);\n\n            // Handle save button clicks (capture)\n            this.on(save, 'click', this.handleSaveClick.bind(this), true);\n\n            // Add close button\n            close.setAttribute('href', '#');\n            close.className = 'medium-editor-toobar-close';\n            close.innerHTML = this.getEditorOption('buttonLabels') === 'fontawesome' ?\n                              '<i class=\"fa fa-times\"></i>' :\n                              '&times;';\n            form.appendChild(close);\n\n            // Handle close button clicks\n            this.on(close, 'click', this.handleCloseClick.bind(this));\n\n            return form;\n        },\n\n        getInput: function () {\n            return this.getForm().querySelector('input.medium-editor-toolbar-input');\n        },\n\n        clearFontSize: function () {\n            MediumEditor.selection.getSelectedElements(this.document).forEach(function (el) {\n                if (el.nodeName.toLowerCase() === 'font' && el.hasAttribute('size')) {\n                    el.removeAttribute('size');\n                }\n            });\n        },\n\n        handleSliderChange: function () {\n            var size = this.getInput().value;\n            if (size === '4') {\n                this.clearFontSize();\n            } else {\n                this.execAction('fontSize', { value: size });\n            }\n        },\n\n        handleFormClick: function (event) {\n            // make sure not to hide form when clicking inside the form\n            event.stopPropagation();\n        },\n\n        handleSaveClick: function (event) {\n            // Clicking Save -> create the font size\n            event.preventDefault();\n            this.doFormSave();\n        },\n\n        handleCloseClick: function (event) {\n            // Click Close -> close the form\n            event.preventDefault();\n            this.doFormCancel();\n        }\n    });\n\n    MediumEditor.extensions.fontSize = FontSizeForm;\n}());\n(function () {\n    'use strict';\n\n    /* Helpers and internal variables that don't need to be members of actual paste handler */\n\n    var pasteBinDefaultContent = '%ME_PASTEBIN%',\n        lastRange = null,\n        keyboardPasteEditable = null,\n        stopProp = function (event) {\n            event.stopPropagation();\n        };\n\n    /*jslint regexp: true*/\n    /*\n        jslint does not allow character negation, because the negation\n        will not match any unicode characters. In the regexes in this\n        block, negation is used specifically to match the end of an html\n        tag, and in fact unicode characters *should* be allowed.\n    */\n    function createReplacements() {\n        return [\n            // Remove anything but the contents within the BODY element\n            [new RegExp(/^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/g), ''],\n\n            // cleanup comments added by Chrome when pasting html\n            [new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g), ''],\n\n            // Trailing BR elements\n            [new RegExp(/<br>$/i), ''],\n\n            // replace two bogus tags that begin pastes from google docs\n            [new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi), ''],\n            [new RegExp(/<\\/b>(<br[^>]*>)?$/gi), ''],\n\n             // un-html spaces and newlines inserted by OS X\n            [new RegExp(/<span class=\"Apple-converted-space\">\\s+<\\/span>/g), ' '],\n            [new RegExp(/<br class=\"Apple-interchange-newline\">/g), '<br>'],\n\n            // replace google docs italics+bold with a span to be replaced once the html is inserted\n            [new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi), '<span class=\"replace-with italic bold\">'],\n\n            // replace google docs italics with a span to be replaced once the html is inserted\n            [new RegExp(/<span[^>]*font-style:italic[^>]*>/gi), '<span class=\"replace-with italic\">'],\n\n            //[replace google docs bolds with a span to be replaced once the html is inserted\n            [new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi), '<span class=\"replace-with bold\">'],\n\n             // replace manually entered b/i/a tags with real ones\n            [new RegExp(/&lt;(\\/?)(i|b|a)&gt;/gi), '<$1$2>'],\n\n             // replace manually a tags with real ones, converting smart-quotes from google docs\n            [new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|\"||)(((?!&quot;|&rdquo;|&ldquo;|\"||).)*)(?:&quot;|&rdquo;|&ldquo;|\"||)(?:(?!&gt;).)*&gt;/gi), '<a href=\"$1\">'],\n\n            // Newlines between paragraphs in html have no syntactic value,\n            // but then have a tendency to accidentally become additional paragraphs down the line\n            [new RegExp(/<\\/p>\\n+/gi), '</p>'],\n            [new RegExp(/\\n+<p/gi), '<p'],\n\n            // Microsoft Word makes these odd tags, like <o:p></o:p>\n            [new RegExp(/<\\/?o:[a-z]*>/gi), ''],\n\n            // Microsoft Word adds some special elements around list items\n            [new RegExp(/<!\\[if !supportLists\\]>(((?!<!).)*)<!\\[endif]\\>/gi), '$1']\n        ];\n    }\n    /*jslint regexp: false*/\n\n    /**\n     * Gets various content types out of the Clipboard API. It will also get the\n     * plain text using older IE and WebKit API.\n     *\n     * @param {event} event Event fired on paste.\n     * @param {win} reference to window\n     * @param {doc} reference to document\n     * @return {Object} Object with mime types and data for those mime types.\n     */\n    function getClipboardContent(event, win, doc) {\n        var dataTransfer = event.clipboardData || win.clipboardData || doc.dataTransfer,\n            data = {};\n\n        if (!dataTransfer) {\n            return data;\n        }\n\n        // Use old WebKit/IE API\n        if (dataTransfer.getData) {\n            var legacyText = dataTransfer.getData('Text');\n            if (legacyText && legacyText.length > 0) {\n                data['text/plain'] = legacyText;\n            }\n        }\n\n        if (dataTransfer.types) {\n            for (var i = 0; i < dataTransfer.types.length; i++) {\n                var contentType = dataTransfer.types[i];\n                data[contentType] = dataTransfer.getData(contentType);\n            }\n        }\n\n        return data;\n    }\n\n    var PasteHandler = MediumEditor.Extension.extend({\n        /* Paste Options */\n\n        /* forcePlainText: [boolean]\n         * Forces pasting as plain text.\n         */\n        forcePlainText: true,\n\n        /* cleanPastedHTML: [boolean]\n         * cleans pasted content from different sources, like google docs etc.\n         */\n        cleanPastedHTML: false,\n\n        /* preCleanReplacements: [Array]\n         * custom pairs (2 element arrays) of RegExp and replacement text to use during past when\n         * __forcePlainText__ or __cleanPastedHTML__ are `true` OR when calling `cleanPaste(text)` helper method.\n         * These replacements are executed before any medium editor defined replacements.\n         */\n        preCleanReplacements: [],\n\n        /* cleanReplacements: [Array]\n         * custom pairs (2 element arrays) of RegExp and replacement text to use during paste when\n         * __forcePlainText__ or __cleanPastedHTML__ are `true` OR when calling `cleanPaste(text)` helper method.\n         * These replacements are executed after any medium editor defined replacements.\n         */\n        cleanReplacements: [],\n\n        /* cleanAttrs:: [Array]\n         * list of element attributes to remove during paste when __cleanPastedHTML__ is `true` or when\n         * calling `cleanPaste(text)` or `pasteHTML(html, options)` helper methods.\n         */\n        cleanAttrs: ['class', 'style', 'dir'],\n\n        /* cleanTags: [Array]\n         * list of element tag names to remove during paste when __cleanPastedHTML__ is `true` or when\n         * calling `cleanPaste(text)` or `pasteHTML(html, options)` helper methods.\n         */\n        cleanTags: ['meta'],\n\n        /* unwrapTags: [Array]\n         * list of element tag names to unwrap (remove the element tag but retain its child elements)\n         * during paste when __cleanPastedHTML__ is `true` or when\n         * calling `cleanPaste(text)` or `pasteHTML(html, options)` helper methods.\n         */\n        unwrapTags: [],\n\n        init: function () {\n            MediumEditor.Extension.prototype.init.apply(this, arguments);\n\n            if (this.forcePlainText || this.cleanPastedHTML) {\n                this.subscribe('editableKeydown', this.handleKeydown.bind(this));\n                // We need access to the full event data in paste\n                // so we can't use the editablePaste event here\n                this.getEditorElements().forEach(function (element) {\n                    this.on(element, 'paste', this.handlePaste.bind(this));\n                }, this);\n                this.subscribe('addElement', this.handleAddElement.bind(this));\n            }\n        },\n\n        handleAddElement: function (event, editable) {\n            this.on(editable, 'paste', this.handlePaste.bind(this));\n        },\n\n        destroy: function () {\n            // Make sure pastebin is destroyed in case it's still around for some reason\n            if (this.forcePlainText || this.cleanPastedHTML) {\n                this.removePasteBin();\n            }\n        },\n\n        handlePaste: function (event, editable) {\n            if (event.defaultPrevented) {\n                return;\n            }\n\n            var clipboardContent = getClipboardContent(event, this.window, this.document),\n                pastedHTML = clipboardContent['text/html'],\n                pastedPlain = clipboardContent['text/plain'];\n\n            if (this.window.clipboardData && event.clipboardData === undefined && !pastedHTML) {\n                // If window.clipboardData exists, but event.clipboardData doesn't exist,\n                // we're probably in IE. IE only has two possibilities for clipboard\n                // data format: 'Text' and 'URL'.\n                //\n                // For IE, we'll fallback to 'Text' for text/html\n                pastedHTML = pastedPlain;\n            }\n\n            if (pastedHTML || pastedPlain) {\n                event.preventDefault();\n\n                this.doPaste(pastedHTML, pastedPlain, editable);\n            }\n        },\n\n        doPaste: function (pastedHTML, pastedPlain, editable) {\n            var paragraphs,\n                html = '',\n                p;\n\n            if (this.cleanPastedHTML && pastedHTML) {\n                return this.cleanPaste(pastedHTML);\n            }\n\n            if (!pastedPlain) {\n                return;\n            }\n\n            if (!(this.getEditorOption('disableReturn') || (editable && editable.getAttribute('data-disable-return')))) {\n                paragraphs = pastedPlain.split(/[\\r\\n]+/g);\n                // If there are no \\r\\n in data, don't wrap in <p>\n                if (paragraphs.length > 1) {\n                    for (p = 0; p < paragraphs.length; p += 1) {\n                        if (paragraphs[p] !== '') {\n                            html += '<p>' + MediumEditor.util.htmlEntities(paragraphs[p]) + '</p>';\n                        }\n                    }\n                } else {\n                    html = MediumEditor.util.htmlEntities(paragraphs[0]);\n                }\n            } else {\n                html = MediumEditor.util.htmlEntities(pastedPlain);\n            }\n            MediumEditor.util.insertHTMLCommand(this.document, html);\n        },\n\n        handlePasteBinPaste: function (event) {\n            if (event.defaultPrevented) {\n                this.removePasteBin();\n                return;\n            }\n\n            var clipboardContent = getClipboardContent(event, this.window, this.document),\n                pastedHTML = clipboardContent['text/html'],\n                pastedPlain = clipboardContent['text/plain'],\n                editable = keyboardPasteEditable;\n\n            // If we have valid html already, or we're not in cleanPastedHTML mode\n            // we can ignore the paste bin and just paste now\n            if (!this.cleanPastedHTML || pastedHTML) {\n                event.preventDefault();\n                this.removePasteBin();\n                this.doPaste(pastedHTML, pastedPlain, editable);\n\n                // The event handling code listens for paste on the editable element\n                // in order to trigger the editablePaste event.  Since this paste event\n                // is happening on the pastebin, the event handling code never knows about it\n                // So, we have to trigger editablePaste manually\n                this.trigger('editablePaste', { currentTarget: editable, target: editable }, editable);\n                return;\n            }\n\n            // We need to look at the paste bin, so do a setTimeout to let the paste\n            // fall through into the paste bin\n            setTimeout(function () {\n                // Only look for HTML if we're in cleanPastedHTML mode\n                if (this.cleanPastedHTML) {\n                    // If clipboard didn't have HTML, try the paste bin\n                    pastedHTML = this.getPasteBinHtml();\n                }\n\n                // If we needed the paste bin, we're done with it now, remove it\n                this.removePasteBin();\n\n                // Handle the paste with the html from the paste bin\n                this.doPaste(pastedHTML, pastedPlain, editable);\n\n                // The event handling code listens for paste on the editable element\n                // in order to trigger the editablePaste event.  Since this paste event\n                // is happening on the pastebin, the event handling code never knows about it\n                // So, we have to trigger editablePaste manually\n                this.trigger('editablePaste', { currentTarget: editable, target: editable }, editable);\n            }.bind(this), 0);\n        },\n\n        handleKeydown: function (event, editable) {\n            // if it's not Ctrl+V, do nothing\n            if (!(MediumEditor.util.isKey(event, MediumEditor.util.keyCode.V) && MediumEditor.util.isMetaCtrlKey(event))) {\n                return;\n            }\n\n            event.stopImmediatePropagation();\n\n            this.removePasteBin();\n            this.createPasteBin(editable);\n        },\n\n        createPasteBin: function (editable) {\n            var rects,\n                range = MediumEditor.selection.getSelectionRange(this.document),\n                top = this.window.pageYOffset;\n\n            keyboardPasteEditable = editable;\n\n            if (range) {\n                rects = range.getClientRects();\n\n                // on empty line, rects is empty so we grab information from the first container of the range\n                if (rects.length) {\n                    top += rects[0].top;\n                } else if (range.startContainer.getBoundingClientRect !== undefined) {\n                    top += range.startContainer.getBoundingClientRect().top;\n                } else {\n                    top += range.getBoundingClientRect().top;\n                }\n            }\n\n            lastRange = range;\n\n            var pasteBinElm = this.document.createElement('div');\n            pasteBinElm.id = this.pasteBinId = 'medium-editor-pastebin-' + (+Date.now());\n            pasteBinElm.setAttribute('style', 'border: 1px red solid; position: absolute; top: ' + top + 'px; width: 10px; height: 10px; overflow: hidden; opacity: 0');\n            pasteBinElm.setAttribute('contentEditable', true);\n            pasteBinElm.innerHTML = pasteBinDefaultContent;\n\n            this.document.body.appendChild(pasteBinElm);\n\n            // avoid .focus() to stop other event (actually the paste event)\n            this.on(pasteBinElm, 'focus', stopProp);\n            this.on(pasteBinElm, 'focusin', stopProp);\n            this.on(pasteBinElm, 'focusout', stopProp);\n\n            pasteBinElm.focus();\n\n            MediumEditor.selection.selectNode(pasteBinElm, this.document);\n\n            if (!this.boundHandlePaste) {\n                this.boundHandlePaste = this.handlePasteBinPaste.bind(this);\n            }\n\n            this.on(pasteBinElm, 'paste', this.boundHandlePaste);\n        },\n\n        removePasteBin: function () {\n            if (null !== lastRange) {\n                MediumEditor.selection.selectRange(this.document, lastRange);\n                lastRange = null;\n            }\n\n            if (null !== keyboardPasteEditable) {\n                keyboardPasteEditable = null;\n            }\n\n            var pasteBinElm = this.getPasteBin();\n            if (!pasteBinElm) {\n                return;\n            }\n\n            if (pasteBinElm) {\n                this.off(pasteBinElm, 'focus', stopProp);\n                this.off(pasteBinElm, 'focusin', stopProp);\n                this.off(pasteBinElm, 'focusout', stopProp);\n                this.off(pasteBinElm, 'paste', this.boundHandlePaste);\n                pasteBinElm.parentElement.removeChild(pasteBinElm);\n            }\n        },\n\n        getPasteBin: function () {\n            return this.document.getElementById(this.pasteBinId);\n        },\n\n        getPasteBinHtml: function () {\n            var pasteBinElm = this.getPasteBin();\n\n            if (!pasteBinElm) {\n                return false;\n            }\n\n            // WebKit has a nice bug where it clones the paste bin if you paste from for example notepad\n            // so we need to force plain text mode in this case\n            if (pasteBinElm.firstChild && pasteBinElm.firstChild.id === 'mcepastebin') {\n                return false;\n            }\n\n            var pasteBinHtml = pasteBinElm.innerHTML;\n\n            // If paste bin is empty try using plain text mode\n            // since that is better than nothing right\n            if (!pasteBinHtml || pasteBinHtml === pasteBinDefaultContent) {\n                return false;\n            }\n\n            return pasteBinHtml;\n        },\n\n        cleanPaste: function (text) {\n            var i, elList, tmp, workEl,\n                multiline = /<p|<br|<div/.test(text),\n                replacements = [].concat(\n                    this.preCleanReplacements || [],\n                    createReplacements(),\n                    this.cleanReplacements || []);\n\n            for (i = 0; i < replacements.length; i += 1) {\n                text = text.replace(replacements[i][0], replacements[i][1]);\n            }\n\n            if (!multiline) {\n                return this.pasteHTML(text);\n            }\n\n            // create a temporary div to cleanup block elements\n            tmp = this.document.createElement('div');\n\n            // double br's aren't converted to p tags, but we want paragraphs.\n            tmp.innerHTML = '<p>' + text.split('<br><br>').join('</p><p>') + '</p>';\n\n            // block element cleanup\n            elList = tmp.querySelectorAll('a,p,div,br');\n            for (i = 0; i < elList.length; i += 1) {\n                workEl = elList[i];\n\n                // Microsoft Word replaces some spaces with newlines.\n                // While newlines between block elements are meaningless, newlines within\n                // elements are sometimes actually spaces.\n                workEl.innerHTML = workEl.innerHTML.replace(/\\n/gi, ' ');\n\n                switch (workEl.nodeName.toLowerCase()) {\n                    case 'p':\n                    case 'div':\n                        this.filterCommonBlocks(workEl);\n                        break;\n                    case 'br':\n                        this.filterLineBreak(workEl);\n                        break;\n                }\n            }\n\n            this.pasteHTML(tmp.innerHTML);\n        },\n\n        pasteHTML: function (html, options) {\n            options = MediumEditor.util.defaults({}, options, {\n                cleanAttrs: this.cleanAttrs,\n                cleanTags: this.cleanTags,\n                unwrapTags: this.unwrapTags\n            });\n\n            var elList, workEl, i, fragmentBody, pasteBlock = this.document.createDocumentFragment();\n\n            pasteBlock.appendChild(this.document.createElement('body'));\n\n            fragmentBody = pasteBlock.querySelector('body');\n            fragmentBody.innerHTML = html;\n\n            this.cleanupSpans(fragmentBody);\n\n            elList = fragmentBody.querySelectorAll('*');\n            for (i = 0; i < elList.length; i += 1) {\n                workEl = elList[i];\n\n                if ('a' === workEl.nodeName.toLowerCase() && this.getEditorOption('targetBlank')) {\n                    MediumEditor.util.setTargetBlank(workEl);\n                }\n\n                MediumEditor.util.cleanupAttrs(workEl, options.cleanAttrs);\n                MediumEditor.util.cleanupTags(workEl, options.cleanTags);\n                MediumEditor.util.unwrapTags(workEl, options.unwrapTags);\n            }\n\n            MediumEditor.util.insertHTMLCommand(this.document, fragmentBody.innerHTML.replace(/&nbsp;/g, ' '));\n        },\n\n        // TODO (6.0): Make this an internal helper instead of member of paste handler\n        isCommonBlock: function (el) {\n            return (el && (el.nodeName.toLowerCase() === 'p' || el.nodeName.toLowerCase() === 'div'));\n        },\n\n        // TODO (6.0): Make this an internal helper instead of member of paste handler\n        filterCommonBlocks: function (el) {\n            if (/^\\s*$/.test(el.textContent) && el.parentNode) {\n                el.parentNode.removeChild(el);\n            }\n        },\n\n        // TODO (6.0): Make this an internal helper instead of member of paste handler\n        filterLineBreak: function (el) {\n            if (this.isCommonBlock(el.previousElementSibling)) {\n                // remove stray br's following common block elements\n                this.removeWithParent(el);\n            } else if (this.isCommonBlock(el.parentNode) && (el.parentNode.firstChild === el || el.parentNode.lastChild === el)) {\n                // remove br's just inside open or close tags of a div/p\n                this.removeWithParent(el);\n            } else if (el.parentNode && el.parentNode.childElementCount === 1 && el.parentNode.textContent === '') {\n                // and br's that are the only child of elements other than div/p\n                this.removeWithParent(el);\n            }\n        },\n\n        // TODO (6.0): Make this an internal helper instead of member of paste handler\n        // remove an element, including its parent, if it is the only element within its parent\n        removeWithParent: function (el) {\n            if (el && el.parentNode) {\n                if (el.parentNode.parentNode && el.parentNode.childElementCount === 1) {\n                    el.parentNode.parentNode.removeChild(el.parentNode);\n                } else {\n                    el.parentNode.removeChild(el);\n                }\n            }\n        },\n\n        // TODO (6.0): Make this an internal helper instead of member of paste handler\n        cleanupSpans: function (containerEl) {\n            var i,\n                el,\n                newEl,\n                spans = containerEl.querySelectorAll('.replace-with'),\n                isCEF = function (el) {\n                    return (el && el.nodeName !== '#text' && el.getAttribute('contenteditable') === 'false');\n                };\n\n            for (i = 0; i < spans.length; i += 1) {\n                el = spans[i];\n                newEl = this.document.createElement(el.classList.contains('bold') ? 'b' : 'i');\n\n                if (el.classList.contains('bold') && el.classList.contains('italic')) {\n                    // add an i tag as well if this has both italics and bold\n                    newEl.innerHTML = '<i>' + el.innerHTML + '</i>';\n                } else {\n                    newEl.innerHTML = el.innerHTML;\n                }\n                el.parentNode.replaceChild(newEl, el);\n            }\n\n            spans = containerEl.querySelectorAll('span');\n            for (i = 0; i < spans.length; i += 1) {\n                el = spans[i];\n\n                // bail if span is in contenteditable = false\n                if (MediumEditor.util.traverseUp(el, isCEF)) {\n                    return false;\n                }\n\n                // remove empty spans, replace others with their contents\n                MediumEditor.util.unwrap(el, this.document);\n            }\n        }\n    });\n\n    MediumEditor.extensions.paste = PasteHandler;\n}());\n\n(function () {\n    'use strict';\n\n    var Placeholder = MediumEditor.Extension.extend({\n        name: 'placeholder',\n\n        /* Placeholder Options */\n\n        /* text: [string]\n         * Text to display in the placeholder\n         */\n        text: 'Type your text',\n\n        /* hideOnClick: [boolean]\n         * Should we hide the placeholder on click (true) or when user starts typing (false)\n         */\n        hideOnClick: true,\n\n        init: function () {\n            MediumEditor.Extension.prototype.init.apply(this, arguments);\n\n            this.initPlaceholders();\n            this.attachEventHandlers();\n        },\n\n        initPlaceholders: function () {\n            this.getEditorElements().forEach(this.initElement, this);\n        },\n\n        handleAddElement: function (event, editable) {\n            this.initElement(editable);\n        },\n\n        initElement: function (el) {\n            if (!el.getAttribute('data-placeholder')) {\n                el.setAttribute('data-placeholder', this.text);\n            }\n            this.updatePlaceholder(el);\n        },\n\n        destroy: function () {\n            this.getEditorElements().forEach(this.cleanupElement, this);\n        },\n\n        handleRemoveElement: function (event, editable) {\n            this.cleanupElement(editable);\n        },\n\n        cleanupElement: function (el) {\n            if (el.getAttribute('data-placeholder') === this.text) {\n                el.removeAttribute('data-placeholder');\n            }\n        },\n\n        showPlaceholder: function (el) {\n            if (el) {\n                // https://github.com/yabwe/medium-editor/issues/234\n                // In firefox, styling the placeholder with an absolutely positioned\n                // pseudo element causes the cursor to appear in a bad location\n                // when the element is completely empty, so apply a different class to\n                // style it with a relatively positioned pseudo element\n                if (MediumEditor.util.isFF && el.childNodes.length === 0) {\n                    el.classList.add('medium-editor-placeholder-relative');\n                    el.classList.remove('medium-editor-placeholder');\n                } else {\n                    el.classList.add('medium-editor-placeholder');\n                    el.classList.remove('medium-editor-placeholder-relative');\n                }\n            }\n        },\n\n        hidePlaceholder: function (el) {\n            if (el) {\n                el.classList.remove('medium-editor-placeholder');\n                el.classList.remove('medium-editor-placeholder-relative');\n            }\n        },\n\n        updatePlaceholder: function (el, dontShow) {\n            // If the element has content, hide the placeholder\n            if (el.querySelector('img, blockquote, ul, ol, table') || (el.textContent.replace(/^\\s+|\\s+$/g, '') !== '')) {\n                return this.hidePlaceholder(el);\n            }\n\n            if (!dontShow) {\n                this.showPlaceholder(el);\n            }\n        },\n\n        attachEventHandlers: function () {\n            if (this.hideOnClick) {\n                // For the 'hideOnClick' option, the placeholder should always be hidden on focus\n                this.subscribe('focus', this.handleFocus.bind(this));\n            }\n\n            // If the editor has content, it should always hide the placeholder\n            this.subscribe('editableInput', this.handleInput.bind(this));\n\n            // When the editor loses focus, check if the placeholder should be visible\n            this.subscribe('blur', this.handleBlur.bind(this));\n\n            // Need to know when elements are added/removed from the editor\n            this.subscribe('addElement', this.handleAddElement.bind(this));\n            this.subscribe('removeElement', this.handleRemoveElement.bind(this));\n        },\n\n        handleInput: function (event, element) {\n            // If the placeholder should be hidden on focus and the\n            // element has focus, don't show the placeholder\n            var dontShow = this.hideOnClick && (element === this.base.getFocusedElement());\n\n            // Editor's content has changed, check if the placeholder should be hidden\n            this.updatePlaceholder(element, dontShow);\n        },\n\n        handleFocus: function (event, element) {\n            // Editor has focus, hide the placeholder\n            this.hidePlaceholder(element);\n        },\n\n        handleBlur: function (event, element) {\n            // Editor has lost focus, check if the placeholder should be shown\n            this.updatePlaceholder(element);\n        }\n    });\n\n    MediumEditor.extensions.placeholder = Placeholder;\n}());\n\n(function () {\n    'use strict';\n\n    var Toolbar = MediumEditor.Extension.extend({\n        name: 'toolbar',\n\n        /* Toolbar Options */\n\n        /* align: ['left'|'center'|'right']\n         * When the __static__ option is true, this aligns the static toolbar\n         * relative to the medium-editor element.\n         */\n        align: 'center',\n\n        /* allowMultiParagraphSelection: [boolean]\n         * enables/disables whether the toolbar should be displayed when\n         * selecting multiple paragraphs/block elements\n         */\n        allowMultiParagraphSelection: true,\n\n        /* buttons: [Array]\n         * the names of the set of buttons to display on the toolbar.\n         */\n        buttons: ['bold', 'italic', 'underline', 'anchor', 'h2', 'h3', 'quote'],\n\n        /* diffLeft: [Number]\n         * value in pixels to be added to the X axis positioning of the toolbar.\n         */\n        diffLeft: 0,\n\n        /* diffTop: [Number]\n         * value in pixels to be added to the Y axis positioning of the toolbar.\n         */\n        diffTop: -10,\n\n        /* firstButtonClass: [string]\n         * CSS class added to the first button in the toolbar.\n         */\n        firstButtonClass: 'medium-editor-button-first',\n\n        /* lastButtonClass: [string]\n         * CSS class added to the last button in the toolbar.\n         */\n        lastButtonClass: 'medium-editor-button-last',\n\n        /* standardizeSelectionStart: [boolean]\n         * enables/disables standardizing how the beginning of a range is decided\n         * between browsers whenever the selected text is analyzed for updating toolbar buttons status.\n         */\n        standardizeSelectionStart: false,\n\n        /* static: [boolean]\n         * enable/disable the toolbar always displaying in the same location\n         * relative to the medium-editor element.\n         */\n        static: false,\n\n        /* sticky: [boolean]\n         * When the __static__ option is true, this enables/disables the toolbar\n         * \"sticking\" to the viewport and staying visible on the screen while\n         * the page scrolls.\n         */\n        sticky: false,\n\n        /* stickyTopOffset: [Number]\n         * Value in pixel of the top offset above the toolbar\n         */\n        stickyTopOffset: 0,\n\n        /* updateOnEmptySelection: [boolean]\n         * When the __static__ option is true, this enables/disables updating\n         * the state of the toolbar buttons even when the selection is collapsed\n         * (there is no selection, just a cursor).\n         */\n        updateOnEmptySelection: false,\n\n        /* relativeContainer: [node]\n         * appending the toolbar to a given node instead of body\n         */\n        relativeContainer: null,\n\n        init: function () {\n            MediumEditor.Extension.prototype.init.apply(this, arguments);\n\n            this.initThrottledMethods();\n\n            if (!this.relativeContainer) {\n                this.getEditorOption('elementsContainer').appendChild(this.getToolbarElement());\n            } else {\n                this.relativeContainer.appendChild(this.getToolbarElement());\n            }\n        },\n\n        // Helper method to execute method for every extension, but ignoring the toolbar extension\n        forEachExtension: function (iterator, context) {\n            return this.base.extensions.forEach(function (command) {\n                if (command === this) {\n                    return;\n                }\n                return iterator.apply(context || this, arguments);\n            }, this);\n        },\n\n        // Toolbar creation/deletion\n\n        createToolbar: function () {\n            var toolbar = this.document.createElement('div');\n\n            toolbar.id = 'medium-editor-toolbar-' + this.getEditorId();\n            toolbar.className = 'medium-editor-toolbar';\n\n            if (this.static) {\n                toolbar.className += ' static-toolbar';\n            } else if (this.relativeContainer) {\n                toolbar.className += ' medium-editor-relative-toolbar';\n            } else {\n                toolbar.className += ' medium-editor-stalker-toolbar';\n            }\n\n            toolbar.appendChild(this.createToolbarButtons());\n\n            // Add any forms that extensions may have\n            this.forEachExtension(function (extension) {\n                if (extension.hasForm) {\n                    toolbar.appendChild(extension.getForm());\n                }\n            });\n\n            this.attachEventHandlers();\n\n            return toolbar;\n        },\n\n        createToolbarButtons: function () {\n            var ul = this.document.createElement('ul'),\n                li,\n                btn,\n                buttons,\n                extension,\n                buttonName,\n                buttonOpts;\n\n            ul.id = 'medium-editor-toolbar-actions' + this.getEditorId();\n            ul.className = 'medium-editor-toolbar-actions';\n            ul.style.display = 'block';\n\n            this.buttons.forEach(function (button) {\n                if (typeof button === 'string') {\n                    buttonName = button;\n                    buttonOpts = null;\n                } else {\n                    buttonName = button.name;\n                    buttonOpts = button;\n                }\n\n                // If the button already exists as an extension, it'll be returned\n                // othwerise it'll create the default built-in button\n                extension = this.base.addBuiltInExtension(buttonName, buttonOpts);\n\n                if (extension && typeof extension.getButton === 'function') {\n                    btn = extension.getButton(this.base);\n                    li = this.document.createElement('li');\n                    if (MediumEditor.util.isElement(btn)) {\n                        li.appendChild(btn);\n                    } else {\n                        li.innerHTML = btn;\n                    }\n                    ul.appendChild(li);\n                }\n            }, this);\n\n            buttons = ul.querySelectorAll('button');\n            if (buttons.length > 0) {\n                buttons[0].classList.add(this.firstButtonClass);\n                buttons[buttons.length - 1].classList.add(this.lastButtonClass);\n            }\n\n            return ul;\n        },\n\n        destroy: function () {\n            if (this.toolbar) {\n                if (this.toolbar.parentNode) {\n                    this.toolbar.parentNode.removeChild(this.toolbar);\n                }\n                delete this.toolbar;\n            }\n        },\n\n        // Toolbar accessors\n\n        getInteractionElements: function () {\n            return this.getToolbarElement();\n        },\n\n        getToolbarElement: function () {\n            if (!this.toolbar) {\n                this.toolbar = this.createToolbar();\n            }\n\n            return this.toolbar;\n        },\n\n        getToolbarActionsElement: function () {\n            return this.getToolbarElement().querySelector('.medium-editor-toolbar-actions');\n        },\n\n        // Toolbar event handlers\n\n        initThrottledMethods: function () {\n            // throttledPositionToolbar is throttled because:\n            // - It will be called when the browser is resizing, which can fire many times very quickly\n            // - For some event (like resize) a slight lag in UI responsiveness is OK and provides performance benefits\n            this.throttledPositionToolbar = MediumEditor.util.throttle(function () {\n                if (this.base.isActive) {\n                    this.positionToolbarIfShown();\n                }\n            }.bind(this));\n        },\n\n        attachEventHandlers: function () {\n            // MediumEditor custom events for when user beings and ends interaction with a contenteditable and its elements\n            this.subscribe('blur', this.handleBlur.bind(this));\n            this.subscribe('focus', this.handleFocus.bind(this));\n\n            // Updating the state of the toolbar as things change\n            this.subscribe('editableClick', this.handleEditableClick.bind(this));\n            this.subscribe('editableKeyup', this.handleEditableKeyup.bind(this));\n\n            // Handle mouseup on document for updating the selection in the toolbar\n            this.on(this.document.documentElement, 'mouseup', this.handleDocumentMouseup.bind(this));\n\n            // Add a scroll event for sticky toolbar\n            if (this.static && this.sticky) {\n                // On scroll (capture), re-position the toolbar\n                this.on(this.window, 'scroll', this.handleWindowScroll.bind(this), true);\n            }\n\n            // On resize, re-position the toolbar\n            this.on(this.window, 'resize', this.handleWindowResize.bind(this));\n        },\n\n        handleWindowScroll: function () {\n            this.positionToolbarIfShown();\n        },\n\n        handleWindowResize: function () {\n            this.throttledPositionToolbar();\n        },\n\n        handleDocumentMouseup: function (event) {\n            // Do not trigger checkState when mouseup fires over the toolbar\n            if (event &&\n                    event.target &&\n                    MediumEditor.util.isDescendant(this.getToolbarElement(), event.target)) {\n                return false;\n            }\n            this.checkState();\n        },\n\n        handleEditableClick: function () {\n            // Delay the call to checkState to handle bug where selection is empty\n            // immediately after clicking inside a pre-existing selection\n            setTimeout(function () {\n                this.checkState();\n            }.bind(this), 0);\n        },\n\n        handleEditableKeyup: function () {\n            this.checkState();\n        },\n\n        handleBlur: function () {\n            // Kill any previously delayed calls to hide the toolbar\n            clearTimeout(this.hideTimeout);\n\n            // Blur may fire even if we have a selection, so we want to prevent any delayed showToolbar\n            // calls from happening in this specific case\n            clearTimeout(this.delayShowTimeout);\n\n            // Delay the call to hideToolbar to handle bug with multiple editors on the page at once\n            this.hideTimeout = setTimeout(function () {\n                this.hideToolbar();\n            }.bind(this), 1);\n        },\n\n        handleFocus: function () {\n            this.checkState();\n        },\n\n        // Hiding/showing toolbar\n\n        isDisplayed: function () {\n            return this.getToolbarElement().classList.contains('medium-editor-toolbar-active');\n        },\n\n        showToolbar: function () {\n            clearTimeout(this.hideTimeout);\n            if (!this.isDisplayed()) {\n                this.getToolbarElement().classList.add('medium-editor-toolbar-active');\n                this.trigger('showToolbar', {}, this.base.getFocusedElement());\n            }\n        },\n\n        hideToolbar: function () {\n            if (this.isDisplayed()) {\n                this.getToolbarElement().classList.remove('medium-editor-toolbar-active');\n                this.trigger('hideToolbar', {}, this.base.getFocusedElement());\n            }\n        },\n\n        isToolbarDefaultActionsDisplayed: function () {\n            return this.getToolbarActionsElement().style.display === 'block';\n        },\n\n        hideToolbarDefaultActions: function () {\n            if (this.isToolbarDefaultActionsDisplayed()) {\n                this.getToolbarActionsElement().style.display = 'none';\n            }\n        },\n\n        showToolbarDefaultActions: function () {\n            this.hideExtensionForms();\n\n            if (!this.isToolbarDefaultActionsDisplayed()) {\n                this.getToolbarActionsElement().style.display = 'block';\n            }\n\n            // Using setTimeout + options.delay because:\n            // We will actually be displaying the toolbar, which should be controlled by options.delay\n            this.delayShowTimeout = this.base.delay(function () {\n                this.showToolbar();\n            }.bind(this));\n        },\n\n        hideExtensionForms: function () {\n            // Hide all extension forms\n            this.forEachExtension(function (extension) {\n                if (extension.hasForm && extension.isDisplayed()) {\n                    extension.hideForm();\n                }\n            });\n        },\n\n        // Responding to changes in user selection\n\n        // Checks for existance of multiple block elements in the current selection\n        multipleBlockElementsSelected: function () {\n            var regexEmptyHTMLTags = /<[^\\/>][^>]*><\\/[^>]+>/gim, // http://stackoverflow.com/questions/3129738/remove-empty-tags-using-regex\n                regexBlockElements = new RegExp('<(' + MediumEditor.util.blockContainerElementNames.join('|') + ')[^>]*>', 'g'),\n                selectionHTML = MediumEditor.selection.getSelectionHtml(this.document).replace(regexEmptyHTMLTags, ''), // Filter out empty blocks from selection\n                hasMultiParagraphs = selectionHTML.match(regexBlockElements); // Find how many block elements are within the html\n\n            return !!hasMultiParagraphs && hasMultiParagraphs.length > 1;\n        },\n\n        modifySelection: function () {\n            var selection = this.window.getSelection(),\n                selectionRange = selection.getRangeAt(0);\n\n            /*\n            * In firefox, there are cases (ie doubleclick of a word) where the selectionRange start\n            * will be at the very end of an element.  In other browsers, the selectionRange start\n            * would instead be at the very beginning of an element that actually has content.\n            * example:\n            *   <span>foo</span><span>bar</span>\n            *\n            * If the text 'bar' is selected, most browsers will have the selectionRange start at the beginning\n            * of the 'bar' span.  However, there are cases where firefox will have the selectionRange start\n            * at the end of the 'foo' span.  The contenteditable behavior will be ok, but if there are any\n            * properties on the 'bar' span, they won't be reflected accurately in the toolbar\n            * (ie 'Bold' button wouldn't be active)\n            *\n            * So, for cases where the selectionRange start is at the end of an element/node, find the next\n            * adjacent text node that actually has content in it, and move the selectionRange start there.\n            */\n            if (this.standardizeSelectionStart &&\n                    selectionRange.startContainer.nodeValue &&\n                    (selectionRange.startOffset === selectionRange.startContainer.nodeValue.length)) {\n                var adjacentNode = MediumEditor.util.findAdjacentTextNodeWithContent(MediumEditor.selection.getSelectionElement(this.window), selectionRange.startContainer, this.document);\n                if (adjacentNode) {\n                    var offset = 0;\n                    while (adjacentNode.nodeValue.substr(offset, 1).trim().length === 0) {\n                        offset = offset + 1;\n                    }\n                    selectionRange = MediumEditor.selection.select(this.document, adjacentNode, offset,\n                        selectionRange.endContainer, selectionRange.endOffset);\n                }\n            }\n        },\n\n        checkState: function () {\n            if (this.base.preventSelectionUpdates) {\n                return;\n            }\n\n            // If no editable has focus OR selection is inside contenteditable = false\n            // hide toolbar\n            if (!this.base.getFocusedElement() ||\n                    MediumEditor.selection.selectionInContentEditableFalse(this.window)) {\n                return this.hideToolbar();\n            }\n\n            // If there's no selection element, selection element doesn't belong to this editor\n            // or toolbar is disabled for this selection element\n            // hide toolbar\n            var selectionElement = MediumEditor.selection.getSelectionElement(this.window);\n            if (!selectionElement ||\n                    this.getEditorElements().indexOf(selectionElement) === -1 ||\n                    selectionElement.getAttribute('data-disable-toolbar')) {\n                return this.hideToolbar();\n            }\n\n            // Now we know there's a focused editable with a selection\n\n            // If the updateOnEmptySelection option is true, show the toolbar\n            if (this.updateOnEmptySelection && this.static) {\n                return this.showAndUpdateToolbar();\n            }\n\n            // If we don't have a 'valid' selection -> hide toolbar\n            if (!MediumEditor.selection.selectionContainsContent(this.document) ||\n                (this.allowMultiParagraphSelection === false && this.multipleBlockElementsSelected())) {\n                return this.hideToolbar();\n            }\n\n            this.showAndUpdateToolbar();\n        },\n\n        // Updating the toolbar\n\n        showAndUpdateToolbar: function () {\n            this.modifySelection();\n            this.setToolbarButtonStates();\n            this.trigger('positionToolbar', {}, this.base.getFocusedElement());\n            this.showToolbarDefaultActions();\n            this.setToolbarPosition();\n        },\n\n        setToolbarButtonStates: function () {\n            this.forEachExtension(function (extension) {\n                if (typeof extension.isActive === 'function' &&\n                    typeof extension.setInactive === 'function') {\n                    extension.setInactive();\n                }\n            });\n\n            this.checkActiveButtons();\n        },\n\n        checkActiveButtons: function () {\n            var manualStateChecks = [],\n                queryState = null,\n                selectionRange = MediumEditor.selection.getSelectionRange(this.document),\n                parentNode,\n                updateExtensionState = function (extension) {\n                    if (typeof extension.checkState === 'function') {\n                        extension.checkState(parentNode);\n                    } else if (typeof extension.isActive === 'function' &&\n                               typeof extension.isAlreadyApplied === 'function' &&\n                               typeof extension.setActive === 'function') {\n                        if (!extension.isActive() && extension.isAlreadyApplied(parentNode)) {\n                            extension.setActive();\n                        }\n                    }\n                };\n\n            if (!selectionRange) {\n                return;\n            }\n\n            // Loop through all extensions\n            this.forEachExtension(function (extension) {\n                // For those extensions where we can use document.queryCommandState(), do so\n                if (typeof extension.queryCommandState === 'function') {\n                    queryState = extension.queryCommandState();\n                    // If queryCommandState returns a valid value, we can trust the browser\n                    // and don't need to do our manual checks\n                    if (queryState !== null) {\n                        if (queryState && typeof extension.setActive === 'function') {\n                            extension.setActive();\n                        }\n                        return;\n                    }\n                }\n                // We can't use queryCommandState for this extension, so add to manualStateChecks\n                manualStateChecks.push(extension);\n            });\n\n            parentNode = MediumEditor.selection.getSelectedParentElement(selectionRange);\n\n            // Make sure the selection parent isn't outside of the contenteditable\n            if (!this.getEditorElements().some(function (element) {\n                    return MediumEditor.util.isDescendant(element, parentNode, true);\n                })) {\n                return;\n            }\n\n            // Climb up the DOM and do manual checks for whether a certain extension is currently enabled for this node\n            while (parentNode) {\n                manualStateChecks.forEach(updateExtensionState);\n\n                // we can abort the search upwards if we leave the contentEditable element\n                if (MediumEditor.util.isMediumEditorElement(parentNode)) {\n                    break;\n                }\n                parentNode = parentNode.parentNode;\n            }\n        },\n\n        // Positioning toolbar\n\n        positionToolbarIfShown: function () {\n            if (this.isDisplayed()) {\n                this.setToolbarPosition();\n            }\n        },\n\n        setToolbarPosition: function () {\n            var container = this.base.getFocusedElement(),\n                selection = this.window.getSelection();\n\n            // If there isn't a valid selection, bail\n            if (!container) {\n                return this;\n            }\n\n            if (this.static || !selection.isCollapsed) {\n                this.showToolbar();\n\n                // we don't need any absolute positioning if relativeContainer is set\n                if (!this.relativeContainer) {\n                    if (this.static) {\n                        this.positionStaticToolbar(container);\n                    } else {\n                        this.positionToolbar(selection);\n                    }\n                }\n\n                this.trigger('positionedToolbar', {}, this.base.getFocusedElement());\n            }\n        },\n\n        positionStaticToolbar: function (container) {\n            // position the toolbar at left 0, so we can get the real width of the toolbar\n            this.getToolbarElement().style.left = '0';\n\n            // document.documentElement for IE 9\n            var scrollTop = (this.document.documentElement && this.document.documentElement.scrollTop) || this.document.body.scrollTop,\n                windowWidth = this.window.innerWidth,\n                toolbarElement = this.getToolbarElement(),\n                containerRect = container.getBoundingClientRect(),\n                containerTop = containerRect.top + scrollTop,\n                containerCenter = (containerRect.left + (containerRect.width / 2)),\n                toolbarHeight = toolbarElement.offsetHeight,\n                toolbarWidth = toolbarElement.offsetWidth,\n                halfOffsetWidth = toolbarWidth / 2,\n                targetLeft;\n\n            if (this.sticky) {\n                // If it's beyond the height of the editor, position it at the bottom of the editor\n                if (scrollTop > (containerTop + container.offsetHeight - toolbarHeight - this.stickyTopOffset)) {\n                    toolbarElement.style.top = (containerTop + container.offsetHeight - toolbarHeight) + 'px';\n                    toolbarElement.classList.remove('medium-editor-sticky-toolbar');\n                // Stick the toolbar to the top of the window\n                } else if (scrollTop > (containerTop - toolbarHeight - this.stickyTopOffset)) {\n                    toolbarElement.classList.add('medium-editor-sticky-toolbar');\n                    toolbarElement.style.top = this.stickyTopOffset + 'px';\n                // Normal static toolbar position\n                } else {\n                    toolbarElement.classList.remove('medium-editor-sticky-toolbar');\n                    toolbarElement.style.top = containerTop - toolbarHeight + 'px';\n                }\n            } else {\n                toolbarElement.style.top = containerTop - toolbarHeight + 'px';\n            }\n\n            switch (this.align) {\n                case 'left':\n                    targetLeft = containerRect.left;\n                    break;\n\n                case 'right':\n                    targetLeft = containerRect.right - toolbarWidth;\n                    break;\n\n                case 'center':\n                    targetLeft = containerCenter - halfOffsetWidth;\n                    break;\n            }\n\n            if (targetLeft < 0) {\n                targetLeft = 0;\n            } else if ((targetLeft + toolbarWidth) > windowWidth) {\n                targetLeft = (windowWidth - Math.ceil(toolbarWidth) - 1);\n            }\n\n            toolbarElement.style.left = targetLeft + 'px';\n        },\n\n        positionToolbar: function (selection) {\n            // position the toolbar at left 0, so we can get the real width of the toolbar\n            this.getToolbarElement().style.left = '0';\n            this.getToolbarElement().style.right = 'initial';\n\n            var range = selection.getRangeAt(0),\n                boundary = range.getBoundingClientRect();\n\n            // Handle selections with just images\n            if (!boundary || ((boundary.height === 0 && boundary.width === 0) && range.startContainer === range.endContainer)) {\n                // If there's a nested image, use that for the bounding rectangle\n                if (range.startContainer.nodeType === 1 && range.startContainer.querySelector('img')) {\n                    boundary = range.startContainer.querySelector('img').getBoundingClientRect();\n                } else {\n                    boundary = range.startContainer.getBoundingClientRect();\n                }\n            }\n\n            var containerWidth = this.window.innerWidth,\n                toolbarElement = this.getToolbarElement(),\n                toolbarHeight = toolbarElement.offsetHeight,\n                toolbarWidth = toolbarElement.offsetWidth,\n                halfOffsetWidth = toolbarWidth / 2,\n                buttonHeight = 50,\n                defaultLeft = this.diffLeft - halfOffsetWidth,\n                elementsContainer = this.getEditorOption('elementsContainer'),\n                elementsContainerAbsolute = ['absolute', 'fixed'].indexOf(window.getComputedStyle(elementsContainer).getPropertyValue('position')) > -1,\n                positions = {},\n                relativeBoundary = {},\n                middleBoundary, elementsContainerBoundary;\n\n            // If container element is absolute / fixed, recalculate boundaries to be relative to the container\n            if (elementsContainerAbsolute) {\n                elementsContainerBoundary = elementsContainer.getBoundingClientRect();\n                ['top', 'left'].forEach(function (key) {\n                    relativeBoundary[key] = boundary[key] - elementsContainerBoundary[key];\n                });\n\n                relativeBoundary.width = boundary.width;\n                relativeBoundary.height = boundary.height;\n                boundary = relativeBoundary;\n\n                containerWidth = elementsContainerBoundary.width;\n\n                // Adjust top position according to container scroll position\n                positions.top = elementsContainer.scrollTop;\n            } else {\n                // Adjust top position according to window scroll position\n                positions.top = this.window.pageYOffset;\n            }\n\n            middleBoundary = boundary.left + boundary.width / 2;\n            positions.top += boundary.top - toolbarHeight;\n\n            if (boundary.top < buttonHeight) {\n                toolbarElement.classList.add('medium-toolbar-arrow-over');\n                toolbarElement.classList.remove('medium-toolbar-arrow-under');\n                positions.top += buttonHeight + boundary.height - this.diffTop;\n            } else {\n                toolbarElement.classList.add('medium-toolbar-arrow-under');\n                toolbarElement.classList.remove('medium-toolbar-arrow-over');\n                positions.top += this.diffTop;\n            }\n\n            if (middleBoundary < halfOffsetWidth) {\n                positions.left = defaultLeft + halfOffsetWidth;\n                positions.right = 'initial';\n            } else if ((containerWidth - middleBoundary) < halfOffsetWidth) {\n                positions.left = 'auto';\n                positions.right = 0;\n            } else {\n                positions.left = defaultLeft + middleBoundary;\n                positions.right = 'initial';\n            }\n\n            ['top', 'left', 'right'].forEach(function (key) {\n                toolbarElement.style[key] = positions[key] + (isNaN(positions[key]) ? '' : 'px');\n            });\n        }\n    });\n\n    MediumEditor.extensions.toolbar = Toolbar;\n}());\n\n(function () {\n    'use strict';\n\n    var ImageDragging = MediumEditor.Extension.extend({\n        init: function () {\n            MediumEditor.Extension.prototype.init.apply(this, arguments);\n\n            this.subscribe('editableDrag', this.handleDrag.bind(this));\n            this.subscribe('editableDrop', this.handleDrop.bind(this));\n        },\n\n        handleDrag: function (event) {\n            var className = 'medium-editor-dragover';\n            event.preventDefault();\n            event.dataTransfer.dropEffect = 'copy';\n\n            if (event.type === 'dragover') {\n                event.target.classList.add(className);\n            } else if (event.type === 'dragleave') {\n                event.target.classList.remove(className);\n            }\n        },\n\n        handleDrop: function (event) {\n            var className = 'medium-editor-dragover',\n                files;\n            event.preventDefault();\n            event.stopPropagation();\n\n            // IE9 does not support the File API, so prevent file from opening in a new window\n            // but also don't try to actually get the file\n            if (event.dataTransfer.files) {\n                files = Array.prototype.slice.call(event.dataTransfer.files, 0);\n                files.some(function (file) {\n                    if (file.type.match('image')) {\n                        var fileReader, id;\n                        fileReader = new FileReader();\n                        fileReader.readAsDataURL(file);\n\n                        id = 'medium-img-' + (+new Date());\n                        MediumEditor.util.insertHTMLCommand(this.document, '<img class=\"medium-editor-image-loading\" id=\"' + id + '\" />');\n\n                        fileReader.onload = function () {\n                            var img = this.document.getElementById(id);\n                            if (img) {\n                                img.removeAttribute('id');\n                                img.removeAttribute('class');\n                                img.src = fileReader.result;\n                            }\n                        }.bind(this);\n                    }\n                }.bind(this));\n            }\n            event.target.classList.remove(className);\n        }\n    });\n\n    MediumEditor.extensions.imageDragging = ImageDragging;\n}());\n\n(function () {\n    'use strict';\n\n    // Event handlers that shouldn't be exposed externally\n\n    function handleDisableExtraSpaces(event) {\n        var node = MediumEditor.selection.getSelectionStart(this.options.ownerDocument),\n            textContent = node.textContent,\n            caretPositions = MediumEditor.selection.getCaretOffsets(node);\n\n        if ((textContent[caretPositions.left - 1] === undefined) || (textContent[caretPositions.left - 1].trim() === '') || (textContent[caretPositions.left] !== undefined && textContent[caretPositions.left].trim() === '')) {\n            event.preventDefault();\n        }\n    }\n\n    function handleDisabledEnterKeydown(event, element) {\n        if (this.options.disableReturn || element.getAttribute('data-disable-return')) {\n            event.preventDefault();\n        } else if (this.options.disableDoubleReturn || element.getAttribute('data-disable-double-return')) {\n            var node = MediumEditor.selection.getSelectionStart(this.options.ownerDocument);\n\n            // if current text selection is empty OR previous sibling text is empty OR it is not a list\n            if ((node && node.textContent.trim() === '' && node.nodeName.toLowerCase() !== 'li') ||\n                (node.previousElementSibling && node.previousElementSibling.nodeName.toLowerCase() !== 'br' &&\n                 node.previousElementSibling.textContent.trim() === '')) {\n                event.preventDefault();\n            }\n        }\n    }\n\n    function handleTabKeydown(event) {\n        // Override tab only for pre nodes\n        var node = MediumEditor.selection.getSelectionStart(this.options.ownerDocument),\n            tag = node && node.nodeName.toLowerCase();\n\n        if (tag === 'pre') {\n            event.preventDefault();\n            MediumEditor.util.insertHTMLCommand(this.options.ownerDocument, '    ');\n        }\n\n        // Tab to indent list structures!\n        if (MediumEditor.util.isListItem(node)) {\n            event.preventDefault();\n\n            // If Shift is down, outdent, otherwise indent\n            if (event.shiftKey) {\n                this.options.ownerDocument.execCommand('outdent', false, null);\n            } else {\n                this.options.ownerDocument.execCommand('indent', false, null);\n            }\n        }\n    }\n\n    function handleBlockDeleteKeydowns(event) {\n        var p, node = MediumEditor.selection.getSelectionStart(this.options.ownerDocument),\n            tagName = node.nodeName.toLowerCase(),\n            isEmpty = /^(\\s+|<br\\/?>)?$/i,\n            isHeader = /h\\d/i;\n\n        if (MediumEditor.util.isKey(event, [MediumEditor.util.keyCode.BACKSPACE, MediumEditor.util.keyCode.ENTER]) &&\n                // has a preceeding sibling\n                node.previousElementSibling &&\n                // in a header\n                isHeader.test(tagName) &&\n                // at the very end of the block\n                MediumEditor.selection.getCaretOffsets(node).left === 0) {\n            if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.BACKSPACE) && isEmpty.test(node.previousElementSibling.innerHTML)) {\n                // backspacing the begining of a header into an empty previous element will\n                // change the tagName of the current node to prevent one\n                // instead delete previous node and cancel the event.\n                node.previousElementSibling.parentNode.removeChild(node.previousElementSibling);\n                event.preventDefault();\n            } else if (!this.options.disableDoubleReturn && MediumEditor.util.isKey(event, MediumEditor.util.keyCode.ENTER)) {\n                // hitting return in the begining of a header will create empty header elements before the current one\n                // instead, make \"<p><br></p>\" element, which are what happens if you hit return in an empty paragraph\n                p = this.options.ownerDocument.createElement('p');\n                p.innerHTML = '<br>';\n                node.previousElementSibling.parentNode.insertBefore(p, node);\n                event.preventDefault();\n            }\n        } else if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.DELETE) &&\n                    // between two sibling elements\n                    node.nextElementSibling &&\n                    node.previousElementSibling &&\n                    // not in a header\n                    !isHeader.test(tagName) &&\n                    // in an empty tag\n                    isEmpty.test(node.innerHTML) &&\n                    // when the next tag *is* a header\n                    isHeader.test(node.nextElementSibling.nodeName.toLowerCase())) {\n            // hitting delete in an empty element preceding a header, ex:\n            //  <p>[CURSOR]</p><h1>Header</h1>\n            // Will cause the h1 to become a paragraph.\n            // Instead, delete the paragraph node and move the cursor to the begining of the h1\n\n            // remove node and move cursor to start of header\n            MediumEditor.selection.moveCursor(this.options.ownerDocument, node.nextElementSibling);\n\n            node.previousElementSibling.parentNode.removeChild(node);\n\n            event.preventDefault();\n        } else if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.BACKSPACE) &&\n                tagName === 'li' &&\n                // hitting backspace inside an empty li\n                isEmpty.test(node.innerHTML) &&\n                // is first element (no preceeding siblings)\n                !node.previousElementSibling &&\n                // parent also does not have a sibling\n                !node.parentElement.previousElementSibling &&\n                // is not the only li in a list\n                node.nextElementSibling &&\n                node.nextElementSibling.nodeName.toLowerCase() === 'li') {\n            // backspacing in an empty first list element in the first list (with more elements) ex:\n            //  <ul><li>[CURSOR]</li><li>List Item 2</li></ul>\n            // will remove the first <li> but add some extra element before (varies based on browser)\n            // Instead, this will:\n            // 1) remove the list element\n            // 2) create a paragraph before the list\n            // 3) move the cursor into the paragraph\n\n            // create a paragraph before the list\n            p = this.options.ownerDocument.createElement('p');\n            p.innerHTML = '<br>';\n            node.parentElement.parentElement.insertBefore(p, node.parentElement);\n\n            // move the cursor into the new paragraph\n            MediumEditor.selection.moveCursor(this.options.ownerDocument, p);\n\n            // remove the list element\n            node.parentElement.removeChild(node);\n\n            event.preventDefault();\n        } else if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.BACKSPACE) &&\n                (MediumEditor.util.getClosestTag(node, 'blockquote') !== false) &&\n                MediumEditor.selection.getCaretOffsets(node).left === 0) {\n\n            // when cursor is at the begining of the element and the element is <blockquote>\n            // then pressing backspace key should change the <blockquote> to a <p> tag\n            event.preventDefault();\n            MediumEditor.util.execFormatBlock(this.options.ownerDocument, 'p');\n        } else if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.ENTER) &&\n                (MediumEditor.util.getClosestTag(node, 'blockquote') !== false) &&\n                MediumEditor.selection.getCaretOffsets(node).right === 0) {\n\n            // when cursor is at the end of <blockquote>,\n            // then pressing enter key should create <p> tag, not <blockquote>\n            p = this.options.ownerDocument.createElement('p');\n            p.innerHTML = '<br>';\n            node.parentElement.insertBefore(p, node.nextSibling);\n\n            // move the cursor into the new paragraph\n            MediumEditor.selection.moveCursor(this.options.ownerDocument, p);\n\n            event.preventDefault();\n        } else if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.BACKSPACE) &&\n                MediumEditor.util.isMediumEditorElement(node.parentElement) &&\n                !node.previousElementSibling &&\n                node.nextElementSibling &&\n                isEmpty.test(node.innerHTML)) {\n\n            // when cursor is in the first element, it's empty and user presses backspace,\n            // do delete action instead to get rid of the first element and move caret to 2nd\n            event.preventDefault();\n            MediumEditor.selection.moveCursor(this.options.ownerDocument, node.nextSibling);\n            node.parentElement.removeChild(node);\n        }\n    }\n\n    function handleKeyup(event) {\n        var node = MediumEditor.selection.getSelectionStart(this.options.ownerDocument),\n            tagName;\n\n        if (!node) {\n            return;\n        }\n\n        // https://github.com/yabwe/medium-editor/issues/994\n        // Firefox thrown an error when calling `formatBlock` on an empty editable blockContainer that's not a <div>\n        if (MediumEditor.util.isMediumEditorElement(node) && node.children.length === 0 && !MediumEditor.util.isBlockContainer(node)) {\n            this.options.ownerDocument.execCommand('formatBlock', false, 'p');\n        }\n\n        // https://github.com/yabwe/medium-editor/issues/834\n        // https://github.com/yabwe/medium-editor/pull/382\n        // Don't call format block if this is a block element (ie h1, figCaption, etc.)\n        if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.ENTER) &&\n            !MediumEditor.util.isListItem(node) &&\n            !MediumEditor.util.isBlockContainer(node)) {\n\n            tagName = node.nodeName.toLowerCase();\n            // For anchor tags, unlink\n            if (tagName === 'a') {\n                this.options.ownerDocument.execCommand('unlink', false, null);\n            } else if (!event.shiftKey && !event.ctrlKey) {\n                this.options.ownerDocument.execCommand('formatBlock', false, 'p');\n            }\n        }\n    }\n\n    function handleEditableInput(event, editable) {\n        var textarea = editable.parentNode.querySelector('textarea[medium-editor-textarea-id=\"' + editable.getAttribute('medium-editor-textarea-id') + '\"]');\n        if (textarea) {\n            textarea.value = editable.innerHTML.trim();\n        }\n    }\n\n    // Internal helper methods which shouldn't be exposed externally\n\n    function addToEditors(win) {\n        if (!win._mediumEditors) {\n            // To avoid breaking users who are assuming that the unique id on\n            // medium-editor elements will start at 1, inserting a 'null' in the\n            // array so the unique-id can always map to the index of the editor instance\n            win._mediumEditors = [null];\n        }\n\n        // If this already has a unique id, re-use it\n        if (!this.id) {\n            this.id = win._mediumEditors.length;\n        }\n\n        win._mediumEditors[this.id] = this;\n    }\n\n    function removeFromEditors(win) {\n        if (!win._mediumEditors || !win._mediumEditors[this.id]) {\n            return;\n        }\n\n        /* Setting the instance to null in the array instead of deleting it allows:\n         * 1) Each instance to preserve its own unique-id, even after being destroyed\n         *    and initialized again\n         * 2) The unique-id to always correspond to an index in the array of medium-editor\n         *    instances. Thus, we will be able to look at a contenteditable, and determine\n         *    which instance it belongs to, by indexing into the global array.\n         */\n        win._mediumEditors[this.id] = null;\n    }\n\n    function createElementsArray(selector, doc, filterEditorElements) {\n        var elements = [];\n\n        if (!selector) {\n            selector = [];\n        }\n        // If string, use as query selector\n        if (typeof selector === 'string') {\n            selector = doc.querySelectorAll(selector);\n        }\n        // If element, put into array\n        if (MediumEditor.util.isElement(selector)) {\n            selector = [selector];\n        }\n\n        if (filterEditorElements) {\n            // Remove elements that have already been initialized by the editor\n            // selecotr might not be an array (ie NodeList) so use for loop\n            for (var i = 0; i < selector.length; i++) {\n                var el = selector[i];\n                if (MediumEditor.util.isElement(el) &&\n                    !el.getAttribute('data-medium-editor-element') &&\n                    !el.getAttribute('medium-editor-textarea-id')) {\n                    elements.push(el);\n                }\n            }\n        } else {\n            // Convert NodeList (or other array like object) into an array\n            elements = Array.prototype.slice.apply(selector);\n        }\n\n        return elements;\n    }\n\n    function cleanupTextareaElement(element) {\n        var textarea = element.parentNode.querySelector('textarea[medium-editor-textarea-id=\"' + element.getAttribute('medium-editor-textarea-id') + '\"]');\n        if (textarea) {\n            // Un-hide the textarea\n            textarea.classList.remove('medium-editor-hidden');\n            textarea.removeAttribute('medium-editor-textarea-id');\n        }\n        if (element.parentNode) {\n            element.parentNode.removeChild(element);\n        }\n    }\n\n    function setExtensionDefaults(extension, defaults) {\n        Object.keys(defaults).forEach(function (prop) {\n            if (extension[prop] === undefined) {\n                extension[prop] = defaults[prop];\n            }\n        });\n        return extension;\n    }\n\n    function initExtension(extension, name, instance) {\n        var extensionDefaults = {\n            'window': instance.options.contentWindow,\n            'document': instance.options.ownerDocument,\n            'base': instance\n        };\n\n        // Add default options into the extension\n        extension = setExtensionDefaults(extension, extensionDefaults);\n\n        // Call init on the extension\n        if (typeof extension.init === 'function') {\n            extension.init();\n        }\n\n        // Set extension name (if not already set)\n        if (!extension.name) {\n            extension.name = name;\n        }\n        return extension;\n    }\n\n    function isToolbarEnabled() {\n        // If any of the elements don't have the toolbar disabled\n        // We need a toolbar\n        if (this.elements.every(function (element) {\n                return !!element.getAttribute('data-disable-toolbar');\n            })) {\n            return false;\n        }\n\n        return this.options.toolbar !== false;\n    }\n\n    function isAnchorPreviewEnabled() {\n        // If toolbar is disabled, don't add\n        if (!isToolbarEnabled.call(this)) {\n            return false;\n        }\n\n        return this.options.anchorPreview !== false;\n    }\n\n    function isPlaceholderEnabled() {\n        return this.options.placeholder !== false;\n    }\n\n    function isAutoLinkEnabled() {\n        return this.options.autoLink !== false;\n    }\n\n    function isImageDraggingEnabled() {\n        return this.options.imageDragging !== false;\n    }\n\n    function isKeyboardCommandsEnabled() {\n        return this.options.keyboardCommands !== false;\n    }\n\n    function shouldUseFileDraggingExtension() {\n        // Since the file-dragging extension replaces the image-dragging extension,\n        // we need to check if the user passed an overrided image-dragging extension.\n        // If they have, to avoid breaking users, we won't use file-dragging extension.\n        return !this.options.extensions['imageDragging'];\n    }\n\n    function createContentEditable(textarea) {\n        var div = this.options.ownerDocument.createElement('div'),\n            now = Date.now(),\n            uniqueId = 'medium-editor-' + now,\n            atts = textarea.attributes;\n\n        // Some browsers can move pretty fast, since we're using a timestamp\n        // to make a unique-id, ensure that the id is actually unique on the page\n        while (this.options.ownerDocument.getElementById(uniqueId)) {\n            now++;\n            uniqueId = 'medium-editor-' + now;\n        }\n\n        div.className = textarea.className;\n        div.id = uniqueId;\n        div.innerHTML = textarea.value;\n\n        textarea.setAttribute('medium-editor-textarea-id', uniqueId);\n\n        // re-create all attributes from the textearea to the new created div\n        for (var i = 0, n = atts.length; i < n; i++) {\n            // do not re-create existing attributes\n            if (!div.hasAttribute(atts[i].nodeName)) {\n                div.setAttribute(atts[i].nodeName, atts[i].value);\n            }\n        }\n\n        // If textarea has a form, listen for reset on the form to clear\n        // the content of the created div\n        if (textarea.form) {\n            this.on(textarea.form, 'reset', function (event) {\n                if (!event.defaultPrevented) {\n                    this.resetContent(this.options.ownerDocument.getElementById(uniqueId));\n                }\n            }.bind(this));\n        }\n\n        textarea.classList.add('medium-editor-hidden');\n        textarea.parentNode.insertBefore(\n            div,\n            textarea\n        );\n\n        return div;\n    }\n\n    function initElement(element, editorId) {\n        if (!element.getAttribute('data-medium-editor-element')) {\n            if (element.nodeName.toLowerCase() === 'textarea') {\n                element = createContentEditable.call(this, element);\n\n                // Make sure we only attach to editableInput once for <textarea> elements\n                if (!this.instanceHandleEditableInput) {\n                    this.instanceHandleEditableInput = handleEditableInput.bind(this);\n                    this.subscribe('editableInput', this.instanceHandleEditableInput);\n                }\n            }\n\n            if (!this.options.disableEditing && !element.getAttribute('data-disable-editing')) {\n                element.setAttribute('contentEditable', true);\n                element.setAttribute('spellcheck', this.options.spellcheck);\n            }\n\n            // Make sure we only attach to editableKeydownEnter once for disable-return options\n            if (!this.instanceHandleEditableKeydownEnter) {\n                if (element.getAttribute('data-disable-return') || element.getAttribute('data-disable-double-return')) {\n                    this.instanceHandleEditableKeydownEnter = handleDisabledEnterKeydown.bind(this);\n                    this.subscribe('editableKeydownEnter', this.instanceHandleEditableKeydownEnter);\n                }\n            }\n\n            // if we're not disabling return, add a handler to help handle cleanup\n            // for certain cases when enter is pressed\n            if (!this.options.disableReturn && !element.getAttribute('data-disable-return')) {\n                this.on(element, 'keyup', handleKeyup.bind(this));\n            }\n\n            var elementId = MediumEditor.util.guid();\n\n            element.setAttribute('data-medium-editor-element', true);\n            element.classList.add('medium-editor-element');\n            element.setAttribute('role', 'textbox');\n            element.setAttribute('aria-multiline', true);\n            element.setAttribute('data-medium-editor-editor-index', editorId);\n            // TODO: Merge data-medium-editor-element and medium-editor-index attributes for 6.0.0\n            // medium-editor-index is not named correctly anymore and can be re-purposed to signify\n            // whether the element has been initialized or not\n            element.setAttribute('medium-editor-index', elementId);\n            initialContent[elementId] = element.innerHTML;\n\n            this.events.attachAllEventsToElement(element);\n        }\n\n        return element;\n    }\n\n    function attachHandlers() {\n        // attach to tabs\n        this.subscribe('editableKeydownTab', handleTabKeydown.bind(this));\n\n        // Bind keys which can create or destroy a block element: backspace, delete, return\n        this.subscribe('editableKeydownDelete', handleBlockDeleteKeydowns.bind(this));\n        this.subscribe('editableKeydownEnter', handleBlockDeleteKeydowns.bind(this));\n\n        // Bind double space event\n        if (this.options.disableExtraSpaces) {\n            this.subscribe('editableKeydownSpace', handleDisableExtraSpaces.bind(this));\n        }\n\n        // Make sure we only attach to editableKeydownEnter once for disable-return options\n        if (!this.instanceHandleEditableKeydownEnter) {\n            // disabling return or double return\n            if (this.options.disableReturn || this.options.disableDoubleReturn) {\n                this.instanceHandleEditableKeydownEnter = handleDisabledEnterKeydown.bind(this);\n                this.subscribe('editableKeydownEnter', this.instanceHandleEditableKeydownEnter);\n            }\n        }\n    }\n\n    function initExtensions() {\n\n        this.extensions = [];\n\n        // Passed in extensions\n        Object.keys(this.options.extensions).forEach(function (name) {\n            // Always save the toolbar extension for last\n            if (name !== 'toolbar' && this.options.extensions[name]) {\n                this.extensions.push(initExtension(this.options.extensions[name], name, this));\n            }\n        }, this);\n\n        // 4 Cases for imageDragging + fileDragging extensons:\n        //\n        // 1. ImageDragging ON + No Custom Image Dragging Extension:\n        //    * Use fileDragging extension (default options)\n        // 2. ImageDragging OFF + No Custom Image Dragging Extension:\n        //    * Use fileDragging extension w/ images turned off\n        // 3. ImageDragging ON + Custom Image Dragging Extension:\n        //    * Don't use fileDragging (could interfere with custom image dragging extension)\n        // 4. ImageDragging OFF + Custom Image Dragging:\n        //    * Don't use fileDragging (could interfere with custom image dragging extension)\n        if (shouldUseFileDraggingExtension.call(this)) {\n            var opts = this.options.fileDragging;\n            if (!opts) {\n                opts = {};\n\n                // Image is in the 'allowedTypes' list by default.\n                // If imageDragging is off override the 'allowedTypes' list with an empty one\n                if (!isImageDraggingEnabled.call(this)) {\n                    opts.allowedTypes = [];\n                }\n            }\n            this.addBuiltInExtension('fileDragging', opts);\n        }\n\n        // Built-in extensions\n        var builtIns = {\n            paste: true,\n            'anchor-preview': isAnchorPreviewEnabled.call(this),\n            autoLink: isAutoLinkEnabled.call(this),\n            keyboardCommands: isKeyboardCommandsEnabled.call(this),\n            placeholder: isPlaceholderEnabled.call(this)\n        };\n        Object.keys(builtIns).forEach(function (name) {\n            if (builtIns[name]) {\n                this.addBuiltInExtension(name);\n            }\n        }, this);\n\n        // Users can pass in a custom toolbar extension\n        // so check for that first and if it's not present\n        // just create the default toolbar\n        var toolbarExtension = this.options.extensions['toolbar'];\n        if (!toolbarExtension && isToolbarEnabled.call(this)) {\n            // Backwards compatability\n            var toolbarOptions = MediumEditor.util.extend({}, this.options.toolbar, {\n                allowMultiParagraphSelection: this.options.allowMultiParagraphSelection // deprecated\n            });\n            toolbarExtension = new MediumEditor.extensions.toolbar(toolbarOptions);\n        }\n\n        // If the toolbar is not disabled, so we actually have an extension\n        // initialize it and add it to the extensions array\n        if (toolbarExtension) {\n            this.extensions.push(initExtension(toolbarExtension, 'toolbar', this));\n        }\n    }\n\n    function mergeOptions(defaults, options) {\n        var deprecatedProperties = [\n            ['allowMultiParagraphSelection', 'toolbar.allowMultiParagraphSelection']\n        ];\n        // warn about using deprecated properties\n        if (options) {\n            deprecatedProperties.forEach(function (pair) {\n                if (options.hasOwnProperty(pair[0]) && options[pair[0]] !== undefined) {\n                    MediumEditor.util.deprecated(pair[0], pair[1], 'v6.0.0');\n                }\n            });\n        }\n\n        return MediumEditor.util.defaults({}, options, defaults);\n    }\n\n    function execActionInternal(action, opts) {\n        /*jslint regexp: true*/\n        var appendAction = /^append-(.+)$/gi,\n            justifyAction = /justify([A-Za-z]*)$/g, /* Detecting if is justifyCenter|Right|Left */\n            match,\n            cmdValueArgument;\n        /*jslint regexp: false*/\n\n        // Actions starting with 'append-' should attempt to format a block of text ('formatBlock') using a specific\n        // type of block element (ie append-blockquote, append-h1, append-pre, etc.)\n        match = appendAction.exec(action);\n        if (match) {\n            return MediumEditor.util.execFormatBlock(this.options.ownerDocument, match[1]);\n        }\n\n        if (action === 'fontSize') {\n            // TODO: Deprecate support for opts.size in 6.0.0\n            if (opts.size) {\n                MediumEditor.util.deprecated('.size option for fontSize command', '.value', '6.0.0');\n            }\n            cmdValueArgument = opts.value || opts.size;\n            return this.options.ownerDocument.execCommand('fontSize', false, cmdValueArgument);\n        }\n\n        if (action === 'fontName') {\n            // TODO: Deprecate support for opts.name in 6.0.0\n            if (opts.name) {\n                MediumEditor.util.deprecated('.name option for fontName command', '.value', '6.0.0');\n            }\n            cmdValueArgument = opts.value || opts.name;\n            return this.options.ownerDocument.execCommand('fontName', false, cmdValueArgument);\n        }\n\n        if (action === 'createLink') {\n            return this.createLink(opts);\n        }\n\n        if (action === 'image') {\n            var src = this.options.contentWindow.getSelection().toString().trim();\n            return this.options.ownerDocument.execCommand('insertImage', false, src);\n        }\n\n        if (action === 'html') {\n            var html = this.options.contentWindow.getSelection().toString().trim();\n            return MediumEditor.util.insertHTMLCommand(this.options.ownerDocument, html);\n        }\n\n        /* Issue: https://github.com/yabwe/medium-editor/issues/595\n         * If the action is to justify the text */\n        if (justifyAction.exec(action)) {\n            var result = this.options.ownerDocument.execCommand(action, false, null),\n                parentNode = MediumEditor.selection.getSelectedParentElement(MediumEditor.selection.getSelectionRange(this.options.ownerDocument));\n            if (parentNode) {\n                cleanupJustifyDivFragments.call(this, MediumEditor.util.getTopBlockContainer(parentNode));\n            }\n\n            return result;\n        }\n\n        cmdValueArgument = opts && opts.value;\n        return this.options.ownerDocument.execCommand(action, false, cmdValueArgument);\n    }\n\n    /* If we've just justified text within a container block\n     * Chrome may have removed <br> elements and instead wrapped lines in <div> elements\n     * with a text-align property.  If so, we want to fix this\n     */\n    function cleanupJustifyDivFragments(blockContainer) {\n        if (!blockContainer) {\n            return;\n        }\n\n        var textAlign,\n            childDivs = Array.prototype.slice.call(blockContainer.childNodes).filter(function (element) {\n                var isDiv = element.nodeName.toLowerCase() === 'div';\n                if (isDiv && !textAlign) {\n                    textAlign = element.style.textAlign;\n                }\n                return isDiv;\n            });\n\n        /* If we found child <div> elements with text-align style attributes\n         * we should fix this by:\n         *\n         * 1) Unwrapping each <div> which has a text-align style\n         * 2) Insert a <br> element after each set of 'unwrapped' div children\n         * 3) Set the text-align style of the parent block element\n         */\n        if (childDivs.length) {\n            // Since we're mucking with the HTML, preserve selection\n            this.saveSelection();\n            childDivs.forEach(function (div) {\n                if (div.style.textAlign === textAlign) {\n                    var lastChild = div.lastChild;\n                    if (lastChild) {\n                        // Instead of a div, extract the child elements and add a <br>\n                        MediumEditor.util.unwrap(div, this.options.ownerDocument);\n                        var br = this.options.ownerDocument.createElement('BR');\n                        lastChild.parentNode.insertBefore(br, lastChild.nextSibling);\n                    }\n                }\n            }, this);\n            blockContainer.style.textAlign = textAlign;\n            // We're done, so restore selection\n            this.restoreSelection();\n        }\n    }\n\n    var initialContent = {};\n\n    MediumEditor.prototype = {\n        // NOT DOCUMENTED - exposed for backwards compatability\n        init: function (elements, options) {\n            this.options = mergeOptions.call(this, this.defaults, options);\n            this.origElements = elements;\n\n            if (!this.options.elementsContainer) {\n                this.options.elementsContainer = this.options.ownerDocument.body;\n            }\n\n            return this.setup();\n        },\n\n        setup: function () {\n            if (this.isActive) {\n                return;\n            }\n\n            addToEditors.call(this, this.options.contentWindow);\n            this.events = new MediumEditor.Events(this);\n            this.elements = [];\n\n            this.addElements(this.origElements);\n\n            if (this.elements.length === 0) {\n                return;\n            }\n\n            this.isActive = true;\n\n            // Call initialization helpers\n            initExtensions.call(this);\n            attachHandlers.call(this);\n        },\n\n        destroy: function () {\n            if (!this.isActive) {\n                return;\n            }\n\n            this.isActive = false;\n\n            this.extensions.forEach(function (extension) {\n                if (typeof extension.destroy === 'function') {\n                    extension.destroy();\n                }\n            }, this);\n\n            this.events.destroy();\n\n            this.elements.forEach(function (element) {\n                // Reset elements content, fix for issue where after editor destroyed the red underlines on spelling errors are left\n                if (this.options.spellcheck) {\n                    element.innerHTML = element.innerHTML;\n                }\n\n                // cleanup extra added attributes\n                element.removeAttribute('contentEditable');\n                element.removeAttribute('spellcheck');\n                element.removeAttribute('data-medium-editor-element');\n                element.classList.remove('medium-editor-element');\n                element.removeAttribute('role');\n                element.removeAttribute('aria-multiline');\n                element.removeAttribute('medium-editor-index');\n                element.removeAttribute('data-medium-editor-editor-index');\n\n                // Remove any elements created for textareas\n                if (element.getAttribute('medium-editor-textarea-id')) {\n                    cleanupTextareaElement(element);\n                }\n            }, this);\n            this.elements = [];\n            this.instanceHandleEditableKeydownEnter = null;\n            this.instanceHandleEditableInput = null;\n\n            removeFromEditors.call(this, this.options.contentWindow);\n        },\n\n        on: function (target, event, listener, useCapture) {\n            this.events.attachDOMEvent(target, event, listener, useCapture);\n\n            return this;\n        },\n\n        off: function (target, event, listener, useCapture) {\n            this.events.detachDOMEvent(target, event, listener, useCapture);\n\n            return this;\n        },\n\n        subscribe: function (event, listener) {\n            this.events.attachCustomEvent(event, listener);\n\n            return this;\n        },\n\n        unsubscribe: function (event, listener) {\n            this.events.detachCustomEvent(event, listener);\n\n            return this;\n        },\n\n        trigger: function (name, data, editable) {\n            this.events.triggerCustomEvent(name, data, editable);\n\n            return this;\n        },\n\n        delay: function (fn) {\n            var self = this;\n            return setTimeout(function () {\n                if (self.isActive) {\n                    fn();\n                }\n            }, this.options.delay);\n        },\n\n        serialize: function () {\n            var i,\n                elementid,\n                content = {},\n                len = this.elements.length;\n\n            for (i = 0; i < len; i += 1) {\n                elementid = (this.elements[i].id !== '') ? this.elements[i].id : 'element-' + i;\n                content[elementid] = {\n                    value: this.elements[i].innerHTML.trim()\n                };\n            }\n            return content;\n        },\n\n        getExtensionByName: function (name) {\n            var extension;\n            if (this.extensions && this.extensions.length) {\n                this.extensions.some(function (ext) {\n                    if (ext.name === name) {\n                        extension = ext;\n                        return true;\n                    }\n                    return false;\n                });\n            }\n            return extension;\n        },\n\n        /**\n         * NOT DOCUMENTED - exposed as a helper for other extensions to use\n         */\n        addBuiltInExtension: function (name, opts) {\n            var extension = this.getExtensionByName(name),\n                merged;\n            if (extension) {\n                return extension;\n            }\n\n            switch (name) {\n                case 'anchor':\n                    merged = MediumEditor.util.extend({}, this.options.anchor, opts);\n                    extension = new MediumEditor.extensions.anchor(merged);\n                    break;\n                case 'anchor-preview':\n                    extension = new MediumEditor.extensions.anchorPreview(this.options.anchorPreview);\n                    break;\n                case 'autoLink':\n                    extension = new MediumEditor.extensions.autoLink();\n                    break;\n                case 'fileDragging':\n                    extension = new MediumEditor.extensions.fileDragging(opts);\n                    break;\n                case 'fontname':\n                    extension = new MediumEditor.extensions.fontName(this.options.fontName);\n                    break;\n                case 'fontsize':\n                    extension = new MediumEditor.extensions.fontSize(opts);\n                    break;\n                case 'keyboardCommands':\n                    extension = new MediumEditor.extensions.keyboardCommands(this.options.keyboardCommands);\n                    break;\n                case 'paste':\n                    extension = new MediumEditor.extensions.paste(this.options.paste);\n                    break;\n                case 'placeholder':\n                    extension = new MediumEditor.extensions.placeholder(this.options.placeholder);\n                    break;\n                default:\n                    // All of the built-in buttons for MediumEditor are extensions\n                    // so check to see if the extension we're creating is a built-in button\n                    if (MediumEditor.extensions.button.isBuiltInButton(name)) {\n                        if (opts) {\n                            merged = MediumEditor.util.defaults({}, opts, MediumEditor.extensions.button.prototype.defaults[name]);\n                            extension = new MediumEditor.extensions.button(merged);\n                        } else {\n                            extension = new MediumEditor.extensions.button(name);\n                        }\n                    }\n            }\n\n            if (extension) {\n                this.extensions.push(initExtension(extension, name, this));\n            }\n\n            return extension;\n        },\n\n        stopSelectionUpdates: function () {\n            this.preventSelectionUpdates = true;\n        },\n\n        startSelectionUpdates: function () {\n            this.preventSelectionUpdates = false;\n        },\n\n        checkSelection: function () {\n            var toolbar = this.getExtensionByName('toolbar');\n            if (toolbar) {\n                toolbar.checkState();\n            }\n            return this;\n        },\n\n        // Wrapper around document.queryCommandState for checking whether an action has already\n        // been applied to the current selection\n        queryCommandState: function (action) {\n            var fullAction = /^full-(.+)$/gi,\n                match,\n                queryState = null;\n\n            // Actions starting with 'full-' need to be modified since this is a medium-editor concept\n            match = fullAction.exec(action);\n            if (match) {\n                action = match[1];\n            }\n\n            try {\n                queryState = this.options.ownerDocument.queryCommandState(action);\n            } catch (exc) {\n                queryState = null;\n            }\n\n            return queryState;\n        },\n\n        execAction: function (action, opts) {\n            /*jslint regexp: true*/\n            var fullAction = /^full-(.+)$/gi,\n                match,\n                result;\n            /*jslint regexp: false*/\n\n            // Actions starting with 'full-' should be applied to to the entire contents of the editable element\n            // (ie full-bold, full-append-pre, etc.)\n            match = fullAction.exec(action);\n            if (match) {\n                // Store the current selection to be restored after applying the action\n                this.saveSelection();\n                // Select all of the contents before calling the action\n                this.selectAllContents();\n                result = execActionInternal.call(this, match[1], opts);\n                // Restore the previous selection\n                this.restoreSelection();\n            } else {\n                result = execActionInternal.call(this, action, opts);\n            }\n\n            // do some DOM clean-up for known browser issues after the action\n            if (action === 'insertunorderedlist' || action === 'insertorderedlist') {\n                MediumEditor.util.cleanListDOM(this.options.ownerDocument, this.getSelectedParentElement());\n            }\n\n            this.checkSelection();\n            return result;\n        },\n\n        getSelectedParentElement: function (range) {\n            if (range === undefined) {\n                range = this.options.contentWindow.getSelection().getRangeAt(0);\n            }\n            return MediumEditor.selection.getSelectedParentElement(range);\n        },\n\n        selectAllContents: function () {\n            var currNode = MediumEditor.selection.getSelectionElement(this.options.contentWindow);\n\n            if (currNode) {\n                // Move to the lowest descendant node that still selects all of the contents\n                while (currNode.children.length === 1) {\n                    currNode = currNode.children[0];\n                }\n\n                this.selectElement(currNode);\n            }\n        },\n\n        selectElement: function (element) {\n            MediumEditor.selection.selectNode(element, this.options.ownerDocument);\n\n            var selElement = MediumEditor.selection.getSelectionElement(this.options.contentWindow);\n            if (selElement) {\n                this.events.focusElement(selElement);\n            }\n        },\n\n        getFocusedElement: function () {\n            var focused;\n            this.elements.some(function (element) {\n                // Find the element that has focus\n                if (!focused && element.getAttribute('data-medium-focused')) {\n                    focused = element;\n                }\n\n                // bail if we found the element that had focus\n                return !!focused;\n            }, this);\n\n            return focused;\n        },\n\n        // Export the state of the selection in respect to one of this\n        // instance of MediumEditor's elements\n        exportSelection: function () {\n            var selectionElement = MediumEditor.selection.getSelectionElement(this.options.contentWindow),\n                editableElementIndex = this.elements.indexOf(selectionElement),\n                selectionState = null;\n\n            if (editableElementIndex >= 0) {\n                selectionState = MediumEditor.selection.exportSelection(selectionElement, this.options.ownerDocument);\n            }\n\n            if (selectionState !== null && editableElementIndex !== 0) {\n                selectionState.editableElementIndex = editableElementIndex;\n            }\n\n            return selectionState;\n        },\n\n        saveSelection: function () {\n            this.selectionState = this.exportSelection();\n        },\n\n        // Restore a selection based on a selectionState returned by a call\n        // to MediumEditor.exportSelection\n        importSelection: function (selectionState, favorLaterSelectionAnchor) {\n            if (!selectionState) {\n                return;\n            }\n\n            var editableElement = this.elements[selectionState.editableElementIndex || 0];\n            MediumEditor.selection.importSelection(selectionState, editableElement, this.options.ownerDocument, favorLaterSelectionAnchor);\n        },\n\n        restoreSelection: function () {\n            this.importSelection(this.selectionState);\n        },\n\n        createLink: function (opts) {\n            var currentEditor = MediumEditor.selection.getSelectionElement(this.options.contentWindow),\n                customEvent = {},\n                targetUrl;\n\n            // Make sure the selection is within an element this editor is tracking\n            if (this.elements.indexOf(currentEditor) === -1) {\n                return;\n            }\n\n            try {\n                this.events.disableCustomEvent('editableInput');\n                // TODO: Deprecate support for opts.url in 6.0.0\n                if (opts.url) {\n                    MediumEditor.util.deprecated('.url option for createLink', '.value', '6.0.0');\n                }\n                targetUrl = opts.url || opts.value;\n                if (targetUrl && targetUrl.trim().length > 0) {\n                    var currentSelection = this.options.contentWindow.getSelection();\n                    if (currentSelection) {\n                        var currRange = currentSelection.getRangeAt(0),\n                            commonAncestorContainer = currRange.commonAncestorContainer,\n                            exportedSelection,\n                            startContainerParentElement,\n                            endContainerParentElement,\n                            textNodes;\n\n                        // If the selection is contained within a single text node\n                        // and the selection starts at the beginning of the text node,\n                        // MSIE still says the startContainer is the parent of the text node.\n                        // If the selection is contained within a single text node, we\n                        // want to just use the default browser 'createLink', so we need\n                        // to account for this case and adjust the commonAncestorContainer accordingly\n                        if (currRange.endContainer.nodeType === 3 &&\n                            currRange.startContainer.nodeType !== 3 &&\n                            currRange.startOffset === 0 &&\n                            currRange.startContainer.firstChild === currRange.endContainer) {\n                            commonAncestorContainer = currRange.endContainer;\n                        }\n\n                        startContainerParentElement = MediumEditor.util.getClosestBlockContainer(currRange.startContainer);\n                        endContainerParentElement = MediumEditor.util.getClosestBlockContainer(currRange.endContainer);\n\n                        // If the selection is not contained within a single text node\n                        // but the selection is contained within the same block element\n                        // we want to make sure we create a single link, and not multiple links\n                        // which can happen with the built in browser functionality\n                        if (commonAncestorContainer.nodeType !== 3 && commonAncestorContainer.textContent.length !== 0 && startContainerParentElement === endContainerParentElement) {\n                            var parentElement = (startContainerParentElement || currentEditor),\n                                fragment = this.options.ownerDocument.createDocumentFragment();\n\n                            // since we are going to create a link from an extracted text,\n                            // be sure that if we are updating a link, we won't let an empty link behind (see #754)\n                            // (Workaroung for Chrome)\n                            this.execAction('unlink');\n\n                            exportedSelection = this.exportSelection();\n                            fragment.appendChild(parentElement.cloneNode(true));\n\n                            if (currentEditor === parentElement) {\n                                // We have to avoid the editor itself being wiped out when it's the only block element,\n                                // as our reference inside this.elements gets detached from the page when insertHTML runs.\n                                // If we just use [parentElement, 0] and [parentElement, parentElement.childNodes.length]\n                                // as the range boundaries, this happens whenever parentElement === currentEditor.\n                                // The tradeoff to this workaround is that a orphaned tag can sometimes be left behind at\n                                // the end of the editor's content.\n                                // In Gecko:\n                                // as an empty <strong></strong> if parentElement.lastChild is a <strong> tag.\n                                // In WebKit:\n                                // an invented <br /> tag at the end in the same situation\n                                MediumEditor.selection.select(\n                                    this.options.ownerDocument,\n                                    parentElement.firstChild,\n                                    0,\n                                    parentElement.lastChild,\n                                    parentElement.lastChild.nodeType === 3 ?\n                                    parentElement.lastChild.nodeValue.length : parentElement.lastChild.childNodes.length\n                                );\n                            } else {\n                                MediumEditor.selection.select(\n                                    this.options.ownerDocument,\n                                    parentElement,\n                                    0,\n                                    parentElement,\n                                    parentElement.childNodes.length\n                                );\n                            }\n\n                            var modifiedExportedSelection = this.exportSelection();\n\n                            textNodes = MediumEditor.util.findOrCreateMatchingTextNodes(\n                                this.options.ownerDocument,\n                                fragment,\n                                {\n                                    start: exportedSelection.start - modifiedExportedSelection.start,\n                                    end: exportedSelection.end - modifiedExportedSelection.start,\n                                    editableElementIndex: exportedSelection.editableElementIndex\n                                }\n                            );\n                            // If textNodes are not present, when changing link on images\n                            // ex: <a><img src=\"http://image.test.com\"></a>, change fragment to currRange.startContainer\n                            // and set textNodes array to [imageElement, imageElement]\n                            if (textNodes.length === 0) {\n                                fragment = this.options.ownerDocument.createDocumentFragment();\n                                fragment.appendChild(commonAncestorContainer.cloneNode(true));\n                                textNodes = [fragment.firstChild.firstChild, fragment.firstChild.lastChild];\n                            }\n\n                            // Creates the link in the document fragment\n                            MediumEditor.util.createLink(this.options.ownerDocument, textNodes, targetUrl.trim());\n\n                            // Chrome trims the leading whitespaces when inserting HTML, which messes up restoring the selection.\n                            var leadingWhitespacesCount = (fragment.firstChild.innerHTML.match(/^\\s+/) || [''])[0].length;\n\n                            // Now move the created link back into the original document in a way to preserve undo/redo history\n                            MediumEditor.util.insertHTMLCommand(this.options.ownerDocument, fragment.firstChild.innerHTML.replace(/^\\s+/, ''));\n                            exportedSelection.start -= leadingWhitespacesCount;\n                            exportedSelection.end -= leadingWhitespacesCount;\n\n                            this.importSelection(exportedSelection);\n                        } else {\n                            this.options.ownerDocument.execCommand('createLink', false, targetUrl);\n                        }\n\n                        if (this.options.targetBlank || opts.target === '_blank') {\n                            MediumEditor.util.setTargetBlank(MediumEditor.selection.getSelectionStart(this.options.ownerDocument), targetUrl);\n                        } else {\n                            MediumEditor.util.removeTargetBlank(MediumEditor.selection.getSelectionStart(this.options.ownerDocument), targetUrl);\n                        }\n\n                        if (opts.buttonClass) {\n                            MediumEditor.util.addClassToAnchors(MediumEditor.selection.getSelectionStart(this.options.ownerDocument), opts.buttonClass);\n                        }\n                    }\n                }\n                // Fire input event for backwards compatibility if anyone was listening directly to the DOM input event\n                if (this.options.targetBlank || opts.target === '_blank' || opts.buttonClass) {\n                    customEvent = this.options.ownerDocument.createEvent('HTMLEvents');\n                    customEvent.initEvent('input', true, true, this.options.contentWindow);\n                    for (var i = 0, len = this.elements.length; i < len; i += 1) {\n                        this.elements[i].dispatchEvent(customEvent);\n                    }\n                }\n            } finally {\n                this.events.enableCustomEvent('editableInput');\n            }\n            // Fire our custom editableInput event\n            this.events.triggerCustomEvent('editableInput', customEvent, currentEditor);\n        },\n\n        cleanPaste: function (text) {\n            this.getExtensionByName('paste').cleanPaste(text);\n        },\n\n        pasteHTML: function (html, options) {\n            this.getExtensionByName('paste').pasteHTML(html, options);\n        },\n\n        setContent: function (html, index) {\n            index = index || 0;\n\n            if (this.elements[index]) {\n                var target = this.elements[index];\n                target.innerHTML = html;\n                this.checkContentChanged(target);\n            }\n        },\n\n        getContent: function (index) {\n            index = index || 0;\n\n            if (this.elements[index]) {\n                return this.elements[index].innerHTML.trim();\n            }\n            return null;\n        },\n\n        checkContentChanged: function (editable) {\n            editable = editable || MediumEditor.selection.getSelectionElement(this.options.contentWindow);\n            this.events.updateInput(editable, { target: editable, currentTarget: editable });\n        },\n\n        resetContent: function (element) {\n            // For all elements that exist in the this.elements array, we can assume:\n            // - Its initial content has been set in the initialContent object\n            // - It has a medium-editor-index attribute which is the key value in the initialContent object\n\n            if (element) {\n                var index = this.elements.indexOf(element);\n                if (index !== -1) {\n                    this.setContent(initialContent[element.getAttribute('medium-editor-index')], index);\n                }\n                return;\n            }\n\n            this.elements.forEach(function (el, idx) {\n                this.setContent(initialContent[el.getAttribute('medium-editor-index')], idx);\n            }, this);\n        },\n\n        addElements: function (selector) {\n            // Convert elements into an array\n            var elements = createElementsArray(selector, this.options.ownerDocument, true);\n\n            // Do we have elements to add now?\n            if (elements.length === 0) {\n                return false;\n            }\n\n            elements.forEach(function (element) {\n                // Initialize all new elements (we check that in those functions don't worry)\n                element = initElement.call(this, element, this.id);\n\n                // Add new elements to our internal elements array\n                this.elements.push(element);\n\n                // Trigger event so extensions can know when an element has been added\n                this.trigger('addElement', { target: element, currentTarget: element }, element);\n            }, this);\n        },\n\n        removeElements: function (selector) {\n            // Convert elements into an array\n            var elements = createElementsArray(selector, this.options.ownerDocument),\n                toRemove = elements.map(function (el) {\n                    // For textareas, make sure we're looking at the editor div and not the textarea itself\n                    if (el.getAttribute('medium-editor-textarea-id') && el.parentNode) {\n                        return el.parentNode.querySelector('div[medium-editor-textarea-id=\"' + el.getAttribute('medium-editor-textarea-id') + '\"]');\n                    } else {\n                        return el;\n                    }\n                });\n\n            this.elements = this.elements.filter(function (element) {\n                // If this is an element we want to remove\n                if (toRemove.indexOf(element) !== -1) {\n                    this.events.cleanupElement(element);\n                    if (element.getAttribute('medium-editor-textarea-id')) {\n                        cleanupTextareaElement(element);\n                    }\n                    // Trigger event so extensions can clean-up elements that are being removed\n                    this.trigger('removeElement', { target: element, currentTarget: element }, element);\n                    return false;\n                }\n                return true;\n            }, this);\n        }\n    };\n\n    MediumEditor.getEditorFromElement = function (element) {\n        var index = element.getAttribute('data-medium-editor-editor-index'),\n            win = element && element.ownerDocument && (element.ownerDocument.defaultView || element.ownerDocument.parentWindow);\n        if (win && win._mediumEditors && win._mediumEditors[index]) {\n            return win._mediumEditors[index];\n        }\n        return null;\n    };\n}());\n\n(function () {\n    // summary: The default options hash used by the Editor\n\n    MediumEditor.prototype.defaults = {\n        activeButtonClass: 'medium-editor-button-active',\n        buttonLabels: false,\n        delay: 0,\n        disableReturn: false,\n        disableDoubleReturn: false,\n        disableExtraSpaces: false,\n        disableEditing: false,\n        autoLink: false,\n        elementsContainer: false,\n        contentWindow: window,\n        ownerDocument: document,\n        targetBlank: false,\n        extensions: {},\n        spellcheck: true\n    };\n})();\n\nMediumEditor.parseVersionString = function (release) {\n    var split = release.split('-'),\n        version = split[0].split('.'),\n        preRelease = (split.length > 1) ? split[1] : '';\n    return {\n        major: parseInt(version[0], 10),\n        minor: parseInt(version[1], 10),\n        revision: parseInt(version[2], 10),\n        preRelease: preRelease,\n        toString: function () {\n            return [version[0], version[1], version[2]].join('.') + (preRelease ? '-' + preRelease : '');\n        }\n    };\n};\n\nMediumEditor.version = MediumEditor.parseVersionString.call(this, ({\n    // grunt-bump looks for this:\n    'version': '5.23.3'\n}).version);\n\n    return MediumEditor;\n}()));\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar fast_deep_equal_1 = __importDefault(require(\"fast-deep-equal\"));\nvar PropTypes = __importStar(require(\"prop-types\"));\nfunction normalizeHtml(str) {\n    return str && str.replace(/&nbsp;|\\u202F|\\u00A0/g, ' ');\n}\nfunction findLastTextNode(node) {\n    if (node.nodeType === Node.TEXT_NODE)\n        return node;\n    var children = node.childNodes;\n    for (var i = children.length - 1; i >= 0; i--) {\n        var textNode = findLastTextNode(children[i]);\n        if (textNode !== null)\n            return textNode;\n    }\n    return null;\n}\nfunction replaceCaret(htmlEl) {\n    // Place the caret at the end of the element\n    var target = findLastTextNode(htmlEl);\n    if (target !== null && target.nodeValue !== null) {\n        var range = document.createRange();\n        var sel = window.getSelection();\n        range.setStart(target, target.nodeValue.length);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n        if (htmlEl instanceof HTMLElement)\n            htmlEl.focus();\n    }\n}\n/**\n * A simple component for an html element with editable contents.\n */\nvar ContentEditable = /** @class */ (function (_super) {\n    __extends(ContentEditable, _super);\n    function ContentEditable(props) {\n        var _this = _super.call(this, props) || this;\n        _this.htmlEl = null;\n        _this.emitChange = _this.emitChange.bind(_this);\n        _this.lastHtml = props.html;\n        return _this;\n    }\n    ContentEditable.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, tagName = _a.tagName, html = _a.html, props = __rest(_a, [\"tagName\", \"html\"]);\n        return React.createElement(tagName || 'div', __assign({}, props, { ref: function (e) { return _this.htmlEl = e; }, onInput: this.emitChange, onBlur: this.props.onBlur || this.emitChange, contentEditable: !this.props.disabled, dangerouslySetInnerHTML: { __html: html } }), this.props.children);\n    };\n    ContentEditable.prototype.shouldComponentUpdate = function (nextProps) {\n        var _a = this, props = _a.props, htmlEl = _a.htmlEl;\n        // We need not rerender if the change of props simply reflects the user's edits.\n        // Rerendering in this case would make the cursor/caret jump\n        // Rerender if there is no element yet... (somehow?)\n        if (!htmlEl) {\n            return true;\n        }\n        // ...or if html really changed... (programmatically, not by user edit)\n        if (normalizeHtml(nextProps.html) !== normalizeHtml(htmlEl.innerHTML)) {\n            return true;\n        }\n        // Handle additional properties\n        return props.disabled !== nextProps.disabled ||\n            props.tagName !== nextProps.tagName ||\n            props.className !== nextProps.className ||\n            !fast_deep_equal_1.default(props.style, nextProps.style);\n    };\n    ContentEditable.prototype.componentDidUpdate = function () {\n        if (this.htmlEl !== null) {\n            // Perhaps React (whose VDOM gets outdated because we often prevent\n            // rerendering) did not update the DOM. So we update it manually now.\n            if (this.props.html !== this.htmlEl.innerHTML) {\n                this.htmlEl.innerHTML = this.lastHtml = this.props.html;\n            }\n            replaceCaret(this.htmlEl);\n        }\n    };\n    ContentEditable.prototype.emitChange = function (originalEvt) {\n        if (!this.htmlEl)\n            return;\n        var html = this.htmlEl.innerHTML;\n        if (this.props.onChange && html !== this.lastHtml) {\n            // Clone event with Object.assign to avoid \n            // \"Cannot assign to read only property 'target' of object\"\n            var evt = Object.assign({}, originalEvt, {\n                target: {\n                    value: html\n                }\n            });\n            this.props.onChange(evt);\n        }\n        this.lastHtml = html;\n    };\n    ContentEditable.propTypes = {\n        html: PropTypes.string.isRequired,\n        onChange: PropTypes.func,\n        onBlur: PropTypes.func,\n        disabled: PropTypes.bool,\n        tagName: PropTypes.string,\n        className: PropTypes.string,\n        style: PropTypes.object\n    };\n    return ContentEditable;\n}(React.Component));\nexports.default = ContentEditable;\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","/** @license React v16.13.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),n=require(\"object-assign\"),r=require(\"scheduler\");function u(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(u(227));\nfunction ba(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var da=!1,ea=null,fa=!1,ha=null,ia={onError:function(a){da=!0;ea=a}};function ja(a,b,c,d,e,f,g,h,k){da=!1;ea=null;ba.apply(ia,arguments)}function ka(a,b,c,d,e,f,g,h,k){ja.apply(this,arguments);if(da){if(da){var l=ea;da=!1;ea=null}else throw Error(u(198));fa||(fa=!0,ha=l)}}var la=null,ma=null,na=null;\nfunction oa(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=na(c);ka(d,b,void 0,a);a.currentTarget=null}var pa=null,qa={};\nfunction ra(){if(pa)for(var a in qa){var b=qa[a],c=pa.indexOf(a);if(!(-1<c))throw Error(u(96,a));if(!sa[c]){if(!b.extractEvents)throw Error(u(97,a));sa[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;if(ta.hasOwnProperty(h))throw Error(u(99,h));ta[h]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&ua(k[e],g,h);e=!0}else f.registrationName?(ua(f.registrationName,g,h),e=!0):e=!1;if(!e)throw Error(u(98,d,a));}}}}\nfunction ua(a,b,c){if(va[a])throw Error(u(100,a));va[a]=b;wa[a]=b.eventTypes[c].dependencies}var sa=[],ta={},va={},wa={};function xa(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(!qa.hasOwnProperty(c)||qa[c]!==d){if(qa[c])throw Error(u(102,c));qa[c]=d;b=!0}}b&&ra()}var ya=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),za=null,Aa=null,Ba=null;\nfunction Ca(a){if(a=ma(a)){if(\"function\"!==typeof za)throw Error(u(280));var b=a.stateNode;b&&(b=la(b),za(a.stateNode,a.type,b))}}function Da(a){Aa?Ba?Ba.push(a):Ba=[a]:Aa=a}function Ea(){if(Aa){var a=Aa,b=Ba;Ba=Aa=null;Ca(a);if(b)for(a=0;a<b.length;a++)Ca(b[a])}}function Fa(a,b){return a(b)}function Ga(a,b,c,d,e){return a(b,c,d,e)}function Ha(){}var Ia=Fa,Ja=!1,Ka=!1;function La(){if(null!==Aa||null!==Ba)Ha(),Ea()}\nfunction Ma(a,b,c){if(Ka)return a(b,c);Ka=!0;try{return Ia(a,b,c)}finally{Ka=!1,La()}}var Na=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,Oa=Object.prototype.hasOwnProperty,Pa={},Qa={};\nfunction Ra(a){if(Oa.call(Qa,a))return!0;if(Oa.call(Pa,a))return!1;if(Na.test(a))return Qa[a]=!0;Pa[a]=!0;return!1}function Sa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction Ta(a,b,c,d){if(null===b||\"undefined\"===typeof b||Sa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f}var C={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){C[a]=new v(a,0,!1,a,null,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];C[b]=new v(b,1,!1,a[1],null,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){C[a]=new v(a,2,!1,a.toLowerCase(),null,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){C[a]=new v(a,2,!1,a,null,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){C[a]=new v(a,3,!1,a.toLowerCase(),null,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){C[a]=new v(a,3,!0,a,null,!1)});[\"capture\",\"download\"].forEach(function(a){C[a]=new v(a,4,!1,a,null,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){C[a]=new v(a,6,!1,a,null,!1)});[\"rowSpan\",\"start\"].forEach(function(a){C[a]=new v(a,5,!1,a.toLowerCase(),null,!1)});var Ua=/[\\-:]([a-z])/g;function Va(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(Ua,\nVa);C[b]=new v(b,1,!1,a,null,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(Ua,Va);C[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(Ua,Va);C[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){C[a]=new v(a,1,!1,a.toLowerCase(),null,!1)});\nC.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){C[a]=new v(a,1,!1,a.toLowerCase(),null,!0)});var Wa=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Wa.hasOwnProperty(\"ReactCurrentDispatcher\")||(Wa.ReactCurrentDispatcher={current:null});Wa.hasOwnProperty(\"ReactCurrentBatchConfig\")||(Wa.ReactCurrentBatchConfig={suspense:null});\nfunction Xa(a,b,c,d){var e=C.hasOwnProperty(b)?C[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(Ta(b,c,e,d)&&(c=null),d||null===e?Ra(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar Ya=/^(.*)[\\\\\\/]/,E=\"function\"===typeof Symbol&&Symbol.for,Za=E?Symbol.for(\"react.element\"):60103,$a=E?Symbol.for(\"react.portal\"):60106,ab=E?Symbol.for(\"react.fragment\"):60107,bb=E?Symbol.for(\"react.strict_mode\"):60108,cb=E?Symbol.for(\"react.profiler\"):60114,db=E?Symbol.for(\"react.provider\"):60109,eb=E?Symbol.for(\"react.context\"):60110,fb=E?Symbol.for(\"react.concurrent_mode\"):60111,gb=E?Symbol.for(\"react.forward_ref\"):60112,hb=E?Symbol.for(\"react.suspense\"):60113,ib=E?Symbol.for(\"react.suspense_list\"):\n60120,jb=E?Symbol.for(\"react.memo\"):60115,kb=E?Symbol.for(\"react.lazy\"):60116,lb=E?Symbol.for(\"react.block\"):60121,mb=\"function\"===typeof Symbol&&Symbol.iterator;function nb(a){if(null===a||\"object\"!==typeof a)return null;a=mb&&a[mb]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function ob(a){if(-1===a._status){a._status=0;var b=a._ctor;b=b();a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}}\nfunction pb(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ab:return\"Fragment\";case $a:return\"Portal\";case cb:return\"Profiler\";case bb:return\"StrictMode\";case hb:return\"Suspense\";case ib:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case eb:return\"Context.Consumer\";case db:return\"Context.Provider\";case gb:var b=a.render;b=b.displayName||b.name||\"\";return a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\n\"ForwardRef\");case jb:return pb(a.type);case lb:return pb(a.render);case kb:if(a=1===a._status?a._result:null)return pb(a)}return null}function qb(a){var b=\"\";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c=\"\";break a;default:var d=a._debugOwner,e=a._debugSource,f=pb(a.type);c=null;d&&(c=pb(d.type));d=f;f=\"\";e?f=\" (at \"+e.fileName.replace(Ya,\"\")+\":\"+e.lineNumber+\")\":c&&(f=\" (created by \"+c+\")\");c=\"\\n    in \"+(d||\"Unknown\")+f}b+=c;a=a.return}while(a);return b}\nfunction rb(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function sb(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction tb(a){var b=sb(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function xb(a){a._valueTracker||(a._valueTracker=tb(a))}function yb(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=sb(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function zb(a,b){var c=b.checked;return n({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}\nfunction Ab(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=rb(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function Bb(a,b){b=b.checked;null!=b&&Xa(a,\"checked\",b,!1)}\nfunction Cb(a,b){Bb(a,b);var c=rb(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?Db(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&Db(a,b.type,rb(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction Eb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction Db(a,b,c){if(\"number\"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function Fb(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function Gb(a,b){a=n({children:void 0},b);if(b=Fb(b.children))a.children=b;return a}\nfunction Hb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+rb(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction Ib(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(u(91));return n({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function Jb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(u(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(u(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:rb(c)}}\nfunction Kb(a,b){var c=rb(b.value),d=rb(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function Lb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var Mb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction Nb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function Ob(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?Nb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar Pb,Qb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==Mb.svg||\"innerHTML\"in a)a.innerHTML=b;else{Pb=Pb||document.createElement(\"div\");Pb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=Pb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction Rb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}function Sb(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Tb={animationend:Sb(\"Animation\",\"AnimationEnd\"),animationiteration:Sb(\"Animation\",\"AnimationIteration\"),animationstart:Sb(\"Animation\",\"AnimationStart\"),transitionend:Sb(\"Transition\",\"TransitionEnd\")},Ub={},Vb={};\nya&&(Vb=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Tb.animationend.animation,delete Tb.animationiteration.animation,delete Tb.animationstart.animation),\"TransitionEvent\"in window||delete Tb.transitionend.transition);function Wb(a){if(Ub[a])return Ub[a];if(!Tb[a])return a;var b=Tb[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Vb)return Ub[a]=b[c];return a}\nvar Xb=Wb(\"animationend\"),Yb=Wb(\"animationiteration\"),Zb=Wb(\"animationstart\"),$b=Wb(\"transitionend\"),ac=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),bc=new (\"function\"===typeof WeakMap?WeakMap:Map);function cc(a){var b=bc.get(a);void 0===b&&(b=new Map,bc.set(a,b));return b}\nfunction dc(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.effectTag&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function ec(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function fc(a){if(dc(a)!==a)throw Error(u(188));}\nfunction gc(a){var b=a.alternate;if(!b){b=dc(a);if(null===b)throw Error(u(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return fc(e),a;if(f===d)return fc(e),b;f=f.sibling}throw Error(u(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(u(189));}}if(c.alternate!==d)throw Error(u(190));}if(3!==c.tag)throw Error(u(188));return c.stateNode.current===c?a:b}function hc(a){a=gc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction ic(a,b){if(null==b)throw Error(u(30));if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}function jc(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var kc=null;\nfunction lc(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)oa(a,b[d],c[d]);else b&&oa(a,b,c);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}}function mc(a){null!==a&&(kc=ic(kc,a));a=kc;kc=null;if(a){jc(a,lc);if(kc)throw Error(u(95));if(fa)throw a=ha,fa=!1,ha=null,a;}}\nfunction nc(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function oc(a){if(!ya)return!1;a=\"on\"+a;var b=a in document;b||(b=document.createElement(\"div\"),b.setAttribute(a,\"return;\"),b=\"function\"===typeof b[a]);return b}var pc=[];function qc(a){a.topLevelType=null;a.nativeEvent=null;a.targetInst=null;a.ancestors.length=0;10>pc.length&&pc.push(a)}\nfunction rc(a,b,c,d){if(pc.length){var e=pc.pop();e.topLevelType=a;e.eventSystemFlags=d;e.nativeEvent=b;e.targetInst=c;return e}return{topLevelType:a,eventSystemFlags:d,nativeEvent:b,targetInst:c,ancestors:[]}}\nfunction sc(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d=c;if(3===d.tag)d=d.stateNode.containerInfo;else{for(;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo}if(!d)break;b=c.tag;5!==b&&6!==b||a.ancestors.push(c);c=tc(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=nc(a.nativeEvent);d=a.topLevelType;var f=a.nativeEvent,g=a.eventSystemFlags;0===c&&(g|=64);for(var h=null,k=0;k<sa.length;k++){var l=sa[k];l&&(l=l.extractEvents(d,b,f,e,g))&&(h=\nic(h,l))}mc(h)}}function uc(a,b,c){if(!c.has(a)){switch(a){case \"scroll\":vc(b,\"scroll\",!0);break;case \"focus\":case \"blur\":vc(b,\"focus\",!0);vc(b,\"blur\",!0);c.set(\"blur\",null);c.set(\"focus\",null);break;case \"cancel\":case \"close\":oc(a)&&vc(b,a,!0);break;case \"invalid\":case \"submit\":case \"reset\":break;default:-1===ac.indexOf(a)&&F(a,b)}c.set(a,null)}}\nvar wc,xc,yc,zc=!1,Ac=[],Bc=null,Cc=null,Dc=null,Ec=new Map,Fc=new Map,Gc=[],Hc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit\".split(\" \"),Ic=\"focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture\".split(\" \");\nfunction Jc(a,b){var c=cc(b);Hc.forEach(function(a){uc(a,b,c)});Ic.forEach(function(a){uc(a,b,c)})}function Kc(a,b,c,d,e){return{blockedOn:a,topLevelType:b,eventSystemFlags:c|32,nativeEvent:e,container:d}}\nfunction Lc(a,b){switch(a){case \"focus\":case \"blur\":Bc=null;break;case \"dragenter\":case \"dragleave\":Cc=null;break;case \"mouseover\":case \"mouseout\":Dc=null;break;case \"pointerover\":case \"pointerout\":Ec.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Fc.delete(b.pointerId)}}function Mc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=Kc(b,c,d,e,f),null!==b&&(b=Nc(b),null!==b&&xc(b)),a;a.eventSystemFlags|=d;return a}\nfunction Oc(a,b,c,d,e){switch(b){case \"focus\":return Bc=Mc(Bc,a,b,c,d,e),!0;case \"dragenter\":return Cc=Mc(Cc,a,b,c,d,e),!0;case \"mouseover\":return Dc=Mc(Dc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Ec.set(f,Mc(Ec.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Fc.set(f,Mc(Fc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Pc(a){var b=tc(a.target);if(null!==b){var c=dc(b);if(null!==c)if(b=c.tag,13===b){if(b=ec(c),null!==b){a.blockedOn=b;r.unstable_runWithPriority(a.priority,function(){yc(c)});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}function Qc(a){if(null!==a.blockedOn)return!1;var b=Rc(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);if(null!==b){var c=Nc(b);null!==c&&xc(c);a.blockedOn=b;return!1}return!0}\nfunction Sc(a,b,c){Qc(a)&&c.delete(b)}function Tc(){for(zc=!1;0<Ac.length;){var a=Ac[0];if(null!==a.blockedOn){a=Nc(a.blockedOn);null!==a&&wc(a);break}var b=Rc(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);null!==b?a.blockedOn=b:Ac.shift()}null!==Bc&&Qc(Bc)&&(Bc=null);null!==Cc&&Qc(Cc)&&(Cc=null);null!==Dc&&Qc(Dc)&&(Dc=null);Ec.forEach(Sc);Fc.forEach(Sc)}function Uc(a,b){a.blockedOn===b&&(a.blockedOn=null,zc||(zc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tc)))}\nfunction Vc(a){function b(b){return Uc(b,a)}if(0<Ac.length){Uc(Ac[0],a);for(var c=1;c<Ac.length;c++){var d=Ac[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Bc&&Uc(Bc,a);null!==Cc&&Uc(Cc,a);null!==Dc&&Uc(Dc,a);Ec.forEach(b);Fc.forEach(b);for(c=0;c<Gc.length;c++)d=Gc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Gc.length&&(c=Gc[0],null===c.blockedOn);)Pc(c),null===c.blockedOn&&Gc.shift()}\nvar Wc={},Yc=new Map,Zc=new Map,$c=[\"abort\",\"abort\",Xb,\"animationEnd\",Yb,\"animationIteration\",Zb,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\n\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",$b,\"transitionEnd\",\"waiting\",\"waiting\"];function ad(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1],f=\"on\"+(e[0].toUpperCase()+e.slice(1));f={phasedRegistrationNames:{bubbled:f,captured:f+\"Capture\"},dependencies:[d],eventPriority:b};Zc.set(d,b);Yc.set(d,f);Wc[e]=f}}\nad(\"blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),0);\nad(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);ad($c,2);for(var bd=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),cd=0;cd<bd.length;cd++)Zc.set(bd[cd],0);\nvar dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function F(a,b){vc(b,a,!1)}function vc(a,b,c){var d=Zc.get(b);switch(void 0===d?2:d){case 0:d=gd.bind(null,b,1,a);break;case 1:d=hd.bind(null,b,1,a);break;default:d=id.bind(null,b,1,a)}c?a.addEventListener(b,d,!0):a.addEventListener(b,d,!1)}function gd(a,b,c,d){Ja||Ha();var e=id,f=Ja;Ja=!0;try{Ga(e,a,b,c,d)}finally{(Ja=f)||La()}}function hd(a,b,c,d){ed(dd,id.bind(null,a,b,c,d))}\nfunction id(a,b,c,d){if(fd)if(0<Ac.length&&-1<Hc.indexOf(a))a=Kc(null,a,b,c,d),Ac.push(a);else{var e=Rc(a,b,c,d);if(null===e)Lc(a,d);else if(-1<Hc.indexOf(a))a=Kc(e,a,b,c,d),Ac.push(a);else if(!Oc(e,a,b,c,d)){Lc(a,d);a=rc(a,d,null,b);try{Ma(sc,a)}finally{qc(a)}}}}\nfunction Rc(a,b,c,d){c=nc(d);c=tc(c);if(null!==c){var e=dc(c);if(null===e)c=null;else{var f=e.tag;if(13===f){c=ec(e);if(null!==c)return c;c=null}else if(3===f){if(e.stateNode.hydrate)return 3===e.tag?e.stateNode.containerInfo:null;c=null}else e!==c&&(c=null)}}a=rc(a,d,c,b);try{Ma(sc,a)}finally{qc(a)}return null}\nvar jd={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kd=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(jd).forEach(function(a){kd.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);jd[b]=jd[a]})});function ld(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||jd.hasOwnProperty(a)&&jd[a]?(\"\"+b).trim():b+\"px\"}\nfunction md(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=ld(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var nd=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction od(a,b){if(b){if(nd[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(u(137,a,\"\"));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(u(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(u(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(u(62,\"\"));}}\nfunction pd(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var qd=Mb.html;function rd(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=cc(a);b=wa[b];for(var d=0;d<b.length;d++)uc(b[d],a,c)}function sd(){}\nfunction td(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function ud(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function vd(a,b){var c=ud(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=ud(c)}}\nfunction wd(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?wd(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function xd(){for(var a=window,b=td();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=td(a.document)}return b}\nfunction yd(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}var zd=\"$\",Ad=\"/$\",Bd=\"$?\",Cd=\"$!\",Dd=null,Ed=null;function Fd(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction Gd(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var Hd=\"function\"===typeof setTimeout?setTimeout:void 0,Id=\"function\"===typeof clearTimeout?clearTimeout:void 0;function Jd(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}\nfunction Kd(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(c===zd||c===Cd||c===Bd){if(0===b)return a;b--}else c===Ad&&b++}a=a.previousSibling}return null}var Ld=Math.random().toString(36).slice(2),Md=\"__reactInternalInstance$\"+Ld,Nd=\"__reactEventHandlers$\"+Ld,Od=\"__reactContainere$\"+Ld;\nfunction tc(a){var b=a[Md];if(b)return b;for(var c=a.parentNode;c;){if(b=c[Od]||c[Md]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Kd(a);null!==a;){if(c=a[Md])return c;a=Kd(a)}return b}a=c;c=a.parentNode}return null}function Nc(a){a=a[Md]||a[Od];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function Pd(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(u(33));}function Qd(a){return a[Nd]||null}\nfunction Rd(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction Sd(a,b){var c=a.stateNode;if(!c)return null;var d=la(c);if(!d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==typeof c)throw Error(u(231,\nb,typeof c));return c}function Td(a,b,c){if(b=Sd(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=ic(c._dispatchListeners,b),c._dispatchInstances=ic(c._dispatchInstances,a)}function Ud(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=Rd(b);for(b=c.length;0<b--;)Td(c[b],\"captured\",a);for(b=0;b<c.length;b++)Td(c[b],\"bubbled\",a)}}\nfunction Vd(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Sd(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=ic(c._dispatchListeners,b),c._dispatchInstances=ic(c._dispatchInstances,a))}function Wd(a){a&&a.dispatchConfig.registrationName&&Vd(a._targetInst,null,a)}function Xd(a){jc(a,Ud)}var Yd=null,Zd=null,$d=null;\nfunction ae(){if($d)return $d;var a,b=Zd,c=b.length,d,e=\"value\"in Yd?Yd.value:Yd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return $d=e.slice(a,1<d?1-d:void 0)}function be(){return!0}function ce(){return!1}\nfunction G(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):\"target\"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?be:ce;this.isPropagationStopped=ce;return this}\nn(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=be)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=be)},persist:function(){this.isPersistent=be},isPersistent:ce,destructor:function(){var a=this.constructor.Interface,\nb;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=ce;this._dispatchInstances=this._dispatchListeners=null}});G.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};\nG.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;n(e,c.prototype);c.prototype=e;c.prototype.constructor=c;c.Interface=n({},d.Interface,a);c.extend=d.extend;de(c);return c};de(G);function ee(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}\nfunction fe(a){if(!(a instanceof this))throw Error(u(279));a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function de(a){a.eventPool=[];a.getPooled=ee;a.release=fe}var ge=G.extend({data:null}),he=G.extend({data:null}),ie=[9,13,27,32],je=ya&&\"CompositionEvent\"in window,ke=null;ya&&\"documentMode\"in document&&(ke=document.documentMode);\nvar le=ya&&\"TextEvent\"in window&&!ke,me=ya&&(!je||ke&&8<ke&&11>=ke),ne=String.fromCharCode(32),oe={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"blur compositionend keydown keypress keyup mousedown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",\ncaptured:\"onCompositionStartCapture\"},dependencies:\"blur compositionstart keydown keypress keyup mousedown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")}},pe=!1;\nfunction qe(a,b){switch(a){case \"keyup\":return-1!==ie.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"blur\":return!0;default:return!1}}function re(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var se=!1;function te(a,b){switch(a){case \"compositionend\":return re(b);case \"keypress\":if(32!==b.which)return null;pe=!0;return ne;case \"textInput\":return a=b.data,a===ne&&pe?null:a;default:return null}}\nfunction ue(a,b){if(se)return\"compositionend\"===a||!je&&qe(a,b)?(a=ae(),$d=Zd=Yd=null,se=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return me&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar ve={eventTypes:oe,extractEvents:function(a,b,c,d){var e;if(je)b:{switch(a){case \"compositionstart\":var f=oe.compositionStart;break b;case \"compositionend\":f=oe.compositionEnd;break b;case \"compositionupdate\":f=oe.compositionUpdate;break b}f=void 0}else se?qe(a,c)&&(f=oe.compositionEnd):\"keydown\"===a&&229===c.keyCode&&(f=oe.compositionStart);f?(me&&\"ko\"!==c.locale&&(se||f!==oe.compositionStart?f===oe.compositionEnd&&se&&(e=ae()):(Yd=d,Zd=\"value\"in Yd?Yd.value:Yd.textContent,se=!0)),f=ge.getPooled(f,\nb,c,d),e?f.data=e:(e=re(c),null!==e&&(f.data=e)),Xd(f),e=f):e=null;(a=le?te(a,c):ue(a,c))?(b=he.getPooled(oe.beforeInput,b,c,d),b.data=a,Xd(b)):b=null;return null===e?b:null===b?e:[e,b]}},we={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!we[a.type]:\"textarea\"===b?!0:!1}\nvar ye={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"blur change click focus input keydown keyup selectionchange\".split(\" \")}};function ze(a,b,c){a=G.getPooled(ye.change,a,b,c);a.type=\"change\";Da(c);Xd(a);return a}var Ae=null,Be=null;function Ce(a){mc(a)}function De(a){var b=Pd(a);if(yb(b))return a}function Ee(a,b){if(\"change\"===a)return b}var Fe=!1;ya&&(Fe=oc(\"input\")&&(!document.documentMode||9<document.documentMode));\nfunction Ge(){Ae&&(Ae.detachEvent(\"onpropertychange\",He),Be=Ae=null)}function He(a){if(\"value\"===a.propertyName&&De(Be))if(a=ze(Be,a,nc(a)),Ja)mc(a);else{Ja=!0;try{Fa(Ce,a)}finally{Ja=!1,La()}}}function Ie(a,b,c){\"focus\"===a?(Ge(),Ae=b,Be=c,Ae.attachEvent(\"onpropertychange\",He)):\"blur\"===a&&Ge()}function Je(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return De(Be)}function Ke(a,b){if(\"click\"===a)return De(b)}function Le(a,b){if(\"input\"===a||\"change\"===a)return De(b)}\nvar Me={eventTypes:ye,_isInputEventSupported:Fe,extractEvents:function(a,b,c,d){var e=b?Pd(b):window,f=e.nodeName&&e.nodeName.toLowerCase();if(\"select\"===f||\"input\"===f&&\"file\"===e.type)var g=Ee;else if(xe(e))if(Fe)g=Le;else{g=Je;var h=Ie}else(f=e.nodeName)&&\"input\"===f.toLowerCase()&&(\"checkbox\"===e.type||\"radio\"===e.type)&&(g=Ke);if(g&&(g=g(a,b)))return ze(g,c,d);h&&h(a,e,b);\"blur\"===a&&(a=e._wrapperState)&&a.controlled&&\"number\"===e.type&&Db(e,\"number\",e.value)}},Ne=G.extend({view:null,detail:null}),\nOe={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pe(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Oe[a])?!!b[a]:!1}function Qe(){return Pe}\nvar Re=0,Se=0,Te=!1,Ue=!1,Ve=Ne.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qe,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if(\"movementX\"in a)return a.movementX;var b=Re;Re=a.screenX;return Te?\"mousemove\"===a.type?a.screenX-b:0:(Te=!0,0)},movementY:function(a){if(\"movementY\"in a)return a.movementY;\nvar b=Se;Se=a.screenY;return Ue?\"mousemove\"===a.type?a.screenY-b:0:(Ue=!0,0)}}),We=Ve.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Xe={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"mouseout\",\"mouseover\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"mouseout\",\"mouseover\"]},pointerEnter:{registrationName:\"onPointerEnter\",dependencies:[\"pointerout\",\"pointerover\"]},pointerLeave:{registrationName:\"onPointerLeave\",\ndependencies:[\"pointerout\",\"pointerover\"]}},Ye={eventTypes:Xe,extractEvents:function(a,b,c,d,e){var f=\"mouseover\"===a||\"pointerover\"===a,g=\"mouseout\"===a||\"pointerout\"===a;if(f&&0===(e&32)&&(c.relatedTarget||c.fromElement)||!g&&!f)return null;f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window;if(g){if(g=b,b=(b=c.relatedTarget||c.toElement)?tc(b):null,null!==b){var h=dc(b);if(b!==h||5!==b.tag&&6!==b.tag)b=null}}else g=null;if(g===b)return null;if(\"mouseout\"===a||\"mouseover\"===\na){var k=Ve;var l=Xe.mouseLeave;var m=Xe.mouseEnter;var p=\"mouse\"}else if(\"pointerout\"===a||\"pointerover\"===a)k=We,l=Xe.pointerLeave,m=Xe.pointerEnter,p=\"pointer\";a=null==g?f:Pd(g);f=null==b?f:Pd(b);l=k.getPooled(l,g,c,d);l.type=p+\"leave\";l.target=a;l.relatedTarget=f;c=k.getPooled(m,b,c,d);c.type=p+\"enter\";c.target=f;c.relatedTarget=a;d=g;p=b;if(d&&p)a:{k=d;m=p;g=0;for(a=k;a;a=Rd(a))g++;a=0;for(b=m;b;b=Rd(b))a++;for(;0<g-a;)k=Rd(k),g--;for(;0<a-g;)m=Rd(m),a--;for(;g--;){if(k===m||k===m.alternate)break a;\nk=Rd(k);m=Rd(m)}k=null}else k=null;m=k;for(k=[];d&&d!==m;){g=d.alternate;if(null!==g&&g===m)break;k.push(d);d=Rd(d)}for(d=[];p&&p!==m;){g=p.alternate;if(null!==g&&g===m)break;d.push(p);p=Rd(p)}for(p=0;p<k.length;p++)Vd(k[p],\"bubbled\",l);for(p=d.length;0<p--;)Vd(d[p],\"captured\",c);return 0===(e&64)?[l]:[l,c]}};function Ze(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var $e=\"function\"===typeof Object.is?Object.is:Ze,af=Object.prototype.hasOwnProperty;\nfunction bf(a,b){if($e(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!af.call(b,c[d])||!$e(a[c[d]],b[c[d]]))return!1;return!0}\nvar cf=ya&&\"documentMode\"in document&&11>=document.documentMode,df={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")}},ef=null,ff=null,gf=null,hf=!1;\nfunction jf(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if(hf||null==ef||ef!==td(c))return null;c=ef;\"selectionStart\"in c&&yd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return gf&&bf(gf,c)?null:(gf=c,a=G.getPooled(df.select,ff,a,b),a.type=\"select\",a.target=ef,Xd(a),a)}\nvar kf={eventTypes:df,extractEvents:function(a,b,c,d,e,f){e=f||(d.window===d?d.document:9===d.nodeType?d:d.ownerDocument);if(!(f=!e)){a:{e=cc(e);f=wa.onSelect;for(var g=0;g<f.length;g++)if(!e.has(f[g])){e=!1;break a}e=!0}f=!e}if(f)return null;e=b?Pd(b):window;switch(a){case \"focus\":if(xe(e)||\"true\"===e.contentEditable)ef=e,ff=b,gf=null;break;case \"blur\":gf=ff=ef=null;break;case \"mousedown\":hf=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":return hf=!1,jf(c,d);case \"selectionchange\":if(cf)break;\ncase \"keydown\":case \"keyup\":return jf(c,d)}return null}},lf=G.extend({animationName:null,elapsedTime:null,pseudoElement:null}),mf=G.extend({clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),nf=Ne.extend({relatedTarget:null});function of(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}\nvar pf={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},qf={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",\n116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},rf=Ne.extend({key:function(a){if(a.key){var b=pf[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=of(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?qf[a.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qe,charCode:function(a){return\"keypress\"===\na.type?of(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===a.type?of(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),sf=Ve.extend({dataTransfer:null}),tf=Ne.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qe}),uf=G.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),vf=Ve.extend({deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in\na?-a.wheelDeltaX:0},deltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),wf={eventTypes:Wc,extractEvents:function(a,b,c,d){var e=Yc.get(a);if(!e)return null;switch(a){case \"keypress\":if(0===of(c))return null;case \"keydown\":case \"keyup\":a=rf;break;case \"blur\":case \"focus\":a=nf;break;case \"click\":if(2===c.button)return null;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":a=\nVe;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":a=sf;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":a=tf;break;case Xb:case Yb:case Zb:a=lf;break;case $b:a=uf;break;case \"scroll\":a=Ne;break;case \"wheel\":a=vf;break;case \"copy\":case \"cut\":case \"paste\":a=mf;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":a=\nWe;break;default:a=G}b=a.getPooled(e,b,c,d);Xd(b);return b}};if(pa)throw Error(u(101));pa=Array.prototype.slice.call(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \"));ra();var xf=Nc;la=Qd;ma=xf;na=Pd;xa({SimpleEventPlugin:wf,EnterLeaveEventPlugin:Ye,ChangeEventPlugin:Me,SelectEventPlugin:kf,BeforeInputEventPlugin:ve});var yf=[],zf=-1;function H(a){0>zf||(a.current=yf[zf],yf[zf]=null,zf--)}\nfunction I(a,b){zf++;yf[zf]=a.current;a.current=b}var Af={},J={current:Af},K={current:!1},Bf=Af;function Cf(a,b){var c=a.type.contextTypes;if(!c)return Af;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function L(a){a=a.childContextTypes;return null!==a&&void 0!==a}\nfunction Df(){H(K);H(J)}function Ef(a,b,c){if(J.current!==Af)throw Error(u(168));I(J,b);I(K,c)}function Ff(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(u(108,pb(b)||\"Unknown\",e));return n({},c,{},d)}function Gf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Af;Bf=J.current;I(J,a);I(K,K.current);return!0}\nfunction Hf(a,b,c){var d=a.stateNode;if(!d)throw Error(u(169));c?(a=Ff(a,b,Bf),d.__reactInternalMemoizedMergedChildContext=a,H(K),H(J),I(J,a)):H(K);I(K,c)}\nvar If=r.unstable_runWithPriority,Jf=r.unstable_scheduleCallback,Kf=r.unstable_cancelCallback,Lf=r.unstable_requestPaint,Mf=r.unstable_now,Nf=r.unstable_getCurrentPriorityLevel,Of=r.unstable_ImmediatePriority,Pf=r.unstable_UserBlockingPriority,Qf=r.unstable_NormalPriority,Rf=r.unstable_LowPriority,Sf=r.unstable_IdlePriority,Tf={},Uf=r.unstable_shouldYield,Vf=void 0!==Lf?Lf:function(){},Wf=null,Xf=null,Yf=!1,Zf=Mf(),$f=1E4>Zf?Mf:function(){return Mf()-Zf};\nfunction ag(){switch(Nf()){case Of:return 99;case Pf:return 98;case Qf:return 97;case Rf:return 96;case Sf:return 95;default:throw Error(u(332));}}function bg(a){switch(a){case 99:return Of;case 98:return Pf;case 97:return Qf;case 96:return Rf;case 95:return Sf;default:throw Error(u(332));}}function cg(a,b){a=bg(a);return If(a,b)}function dg(a,b,c){a=bg(a);return Jf(a,b,c)}function eg(a){null===Wf?(Wf=[a],Xf=Jf(Of,fg)):Wf.push(a);return Tf}function gg(){if(null!==Xf){var a=Xf;Xf=null;Kf(a)}fg()}\nfunction fg(){if(!Yf&&null!==Wf){Yf=!0;var a=0;try{var b=Wf;cg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});Wf=null}catch(c){throw null!==Wf&&(Wf=Wf.slice(a+1)),Jf(Of,gg),c;}finally{Yf=!1}}}function hg(a,b,c){c/=10;return 1073741821-(((1073741821-a+b/10)/c|0)+1)*c}function ig(a,b){if(a&&a.defaultProps){b=n({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}var jg={current:null},kg=null,lg=null,mg=null;function ng(){mg=lg=kg=null}\nfunction og(a){var b=jg.current;H(jg);a.type._context._currentValue=b}function pg(a,b){for(;null!==a;){var c=a.alternate;if(a.childExpirationTime<b)a.childExpirationTime=b,null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);else if(null!==c&&c.childExpirationTime<b)c.childExpirationTime=b;else break;a=a.return}}function qg(a,b){kg=a;mg=lg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(a.expirationTime>=b&&(rg=!0),a.firstContext=null)}\nfunction sg(a,b){if(mg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)mg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===lg){if(null===kg)throw Error(u(308));lg=b;kg.dependencies={expirationTime:0,firstContext:b,responders:null}}else lg=lg.next=b}return a._currentValue}var tg=!1;function ug(a){a.updateQueue={baseState:a.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}\nfunction vg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,baseQueue:a.baseQueue,shared:a.shared,effects:a.effects})}function wg(a,b){a={expirationTime:a,suspenseConfig:b,tag:0,payload:null,callback:null,next:null};return a.next=a}function xg(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction yg(a,b){var c=a.alternate;null!==c&&vg(c,a);a=a.updateQueue;c=a.baseQueue;null===c?(a.baseQueue=b.next=b,b.next=b):(b.next=c.next,c.next=b)}\nfunction zg(a,b,c,d){var e=a.updateQueue;tg=!1;var f=e.baseQueue,g=e.shared.pending;if(null!==g){if(null!==f){var h=f.next;f.next=g.next;g.next=h}f=g;e.shared.pending=null;h=a.alternate;null!==h&&(h=h.updateQueue,null!==h&&(h.baseQueue=g))}if(null!==f){h=f.next;var k=e.baseState,l=0,m=null,p=null,x=null;if(null!==h){var z=h;do{g=z.expirationTime;if(g<d){var ca={expirationTime:z.expirationTime,suspenseConfig:z.suspenseConfig,tag:z.tag,payload:z.payload,callback:z.callback,next:null};null===x?(p=x=\nca,m=k):x=x.next=ca;g>l&&(l=g)}else{null!==x&&(x=x.next={expirationTime:1073741823,suspenseConfig:z.suspenseConfig,tag:z.tag,payload:z.payload,callback:z.callback,next:null});Ag(g,z.suspenseConfig);a:{var D=a,t=z;g=b;ca=c;switch(t.tag){case 1:D=t.payload;if(\"function\"===typeof D){k=D.call(ca,k,g);break a}k=D;break a;case 3:D.effectTag=D.effectTag&-4097|64;case 0:D=t.payload;g=\"function\"===typeof D?D.call(ca,k,g):D;if(null===g||void 0===g)break a;k=n({},k,g);break a;case 2:tg=!0}}null!==z.callback&&\n(a.effectTag|=32,g=e.effects,null===g?e.effects=[z]:g.push(z))}z=z.next;if(null===z||z===h)if(g=e.shared.pending,null===g)break;else z=f.next=g.next,g.next=h,e.baseQueue=f=g,e.shared.pending=null}while(1)}null===x?m=k:x.next=p;e.baseState=m;e.baseQueue=x;Bg(l);a.expirationTime=l;a.memoizedState=k}}\nfunction Cg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=e;e=c;if(\"function\"!==typeof d)throw Error(u(191,d));d.call(e)}}}var Dg=Wa.ReactCurrentBatchConfig,Eg=(new aa.Component).refs;function Fg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:n({},b,c);a.memoizedState=c;0===a.expirationTime&&(a.updateQueue.baseState=c)}\nvar Jg={isMounted:function(a){return(a=a._reactInternalFiber)?dc(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=Gg(),e=Dg.suspense;d=Hg(d,a,e);e=wg(d,e);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);xg(a,e);Ig(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=Gg(),e=Dg.suspense;d=Hg(d,a,e);e=wg(d,e);e.tag=1;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);xg(a,e);Ig(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=Gg(),d=Dg.suspense;\nc=Hg(c,a,d);d=wg(c,d);d.tag=2;void 0!==b&&null!==b&&(d.callback=b);xg(a,d);Ig(a,c)}};function Kg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!bf(c,d)||!bf(e,f):!0}\nfunction Lg(a,b,c){var d=!1,e=Af;var f=b.contextType;\"object\"===typeof f&&null!==f?f=sg(f):(e=L(b)?Bf:J.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Cf(a,e):Af);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Jg;a.stateNode=b;b._reactInternalFiber=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Mg(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Jg.enqueueReplaceState(b,b.state,null)}\nfunction Ng(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Eg;ug(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=sg(f):(f=L(b)?Bf:J.current,e.context=Cf(a,f));zg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Fg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Jg.enqueueReplaceState(e,e.state,null),zg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.effectTag|=4)}var Og=Array.isArray;\nfunction Pg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(u(309));var d=c.stateNode}if(!d)throw Error(u(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Eg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(u(284));if(!c._owner)throw Error(u(290,a));}return a}\nfunction Qg(a,b){if(\"textarea\"!==a.type)throw Error(u(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b,\"\"));}\nfunction Rg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Sg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=\n2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Tg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Pg(a,b,c),d.return=a,d;d=Ug(c.type,c.key,c.props,null,a.mode,d);d.ref=Pg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==\nc.implementation)return b=Vg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Wg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function p(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Tg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case Za:return c=Ug(b.type,b.key,b.props,null,a.mode,c),c.ref=Pg(a,null,b),c.return=a,c;case $a:return b=Vg(b,a.mode,c),b.return=a,b}if(Og(b)||\nnb(b))return b=Wg(b,a.mode,c,null),b.return=a,b;Qg(a,b)}return null}function x(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case Za:return c.key===e?c.type===ab?m(a,b,c.props.children,d,e):k(a,b,c,d):null;case $a:return c.key===e?l(a,b,c,d):null}if(Og(c)||nb(c))return null!==e?null:m(a,b,c,d,null);Qg(a,c)}return null}function z(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=\na.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case Za:return a=a.get(null===d.key?c:d.key)||null,d.type===ab?m(b,a,d.props.children,e,d.key):k(b,a,d,e);case $a:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Og(d)||nb(d))return a=a.get(c)||null,m(b,a,d,e,null);Qg(b,d)}return null}function ca(e,g,h,k){for(var l=null,t=null,m=g,y=g=0,A=null;null!==m&&y<h.length;y++){m.index>y?(A=m,m=null):A=m.sibling;var q=x(e,m,h[y],k);if(null===q){null===m&&(m=A);break}a&&\nm&&null===q.alternate&&b(e,m);g=f(q,g,y);null===t?l=q:t.sibling=q;t=q;m=A}if(y===h.length)return c(e,m),l;if(null===m){for(;y<h.length;y++)m=p(e,h[y],k),null!==m&&(g=f(m,g,y),null===t?l=m:t.sibling=m,t=m);return l}for(m=d(e,m);y<h.length;y++)A=z(m,e,y,h[y],k),null!==A&&(a&&null!==A.alternate&&m.delete(null===A.key?y:A.key),g=f(A,g,y),null===t?l=A:t.sibling=A,t=A);a&&m.forEach(function(a){return b(e,a)});return l}function D(e,g,h,l){var k=nb(h);if(\"function\"!==typeof k)throw Error(u(150));h=k.call(h);\nif(null==h)throw Error(u(151));for(var m=k=null,t=g,y=g=0,A=null,q=h.next();null!==t&&!q.done;y++,q=h.next()){t.index>y?(A=t,t=null):A=t.sibling;var D=x(e,t,q.value,l);if(null===D){null===t&&(t=A);break}a&&t&&null===D.alternate&&b(e,t);g=f(D,g,y);null===m?k=D:m.sibling=D;m=D;t=A}if(q.done)return c(e,t),k;if(null===t){for(;!q.done;y++,q=h.next())q=p(e,q.value,l),null!==q&&(g=f(q,g,y),null===m?k=q:m.sibling=q,m=q);return k}for(t=d(e,t);!q.done;y++,q=h.next())q=z(t,e,y,q.value,l),null!==q&&(a&&null!==\nq.alternate&&t.delete(null===q.key?y:q.key),g=f(q,g,y),null===m?k=q:m.sibling=q,m=q);a&&t.forEach(function(a){return b(e,a)});return k}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ab&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case Za:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ab){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,\nk.sibling);d=e(k,f.props);d.ref=Pg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ab?(d=Wg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Ug(f.type,f.key,f.props,null,a.mode,h),h.ref=Pg(a,d,f),h.return=a,a=h)}return g(a);case $a:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=\nd.sibling}d=Vg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Tg(f,a.mode,h),d.return=a,a=d),g(a);if(Og(f))return ca(a,d,f,h);if(nb(f))return D(a,d,f,h);l&&Qg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 0:throw a=a.type,Error(u(152,a.displayName||a.name||\"Component\"));}return c(a,d)}}var Xg=Rg(!0),Yg=Rg(!1),Zg={},$g={current:Zg},ah={current:Zg},bh={current:Zg};\nfunction ch(a){if(a===Zg)throw Error(u(174));return a}function dh(a,b){I(bh,b);I(ah,a);I($g,Zg);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Ob(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=Ob(b,a)}H($g);I($g,b)}function eh(){H($g);H(ah);H(bh)}function fh(a){ch(bh.current);var b=ch($g.current);var c=Ob(b,a.type);b!==c&&(I(ah,a),I($g,c))}function gh(a){ah.current===a&&(H($g),H(ah))}var M={current:0};\nfunction hh(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||c.data===Bd||c.data===Cd))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.effectTag&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}function ih(a,b){return{responder:a,props:b}}\nvar jh=Wa.ReactCurrentDispatcher,kh=Wa.ReactCurrentBatchConfig,lh=0,N=null,O=null,P=null,mh=!1;function Q(){throw Error(u(321));}function nh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!$e(a[c],b[c]))return!1;return!0}\nfunction oh(a,b,c,d,e,f){lh=f;N=b;b.memoizedState=null;b.updateQueue=null;b.expirationTime=0;jh.current=null===a||null===a.memoizedState?ph:qh;a=c(d,e);if(b.expirationTime===lh){f=0;do{b.expirationTime=0;if(!(25>f))throw Error(u(301));f+=1;P=O=null;b.updateQueue=null;jh.current=rh;a=c(d,e)}while(b.expirationTime===lh)}jh.current=sh;b=null!==O&&null!==O.next;lh=0;P=O=N=null;mh=!1;if(b)throw Error(u(300));return a}\nfunction th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}function uh(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(u(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}\nfunction vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction wh(a){var b=uh(),c=b.queue;if(null===c)throw Error(u(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.expirationTime;if(l<lh){var m={expirationTime:k.expirationTime,suspenseConfig:k.suspenseConfig,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null};null===h?(g=h=m,f=d):h=h.next=m;l>N.expirationTime&&\n(N.expirationTime=l,Bg(l))}else null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:k.suspenseConfig,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),Ag(l,k.suspenseConfig),d=k.eagerReducer===a?k.eagerState:a(d,k.action);k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;$e(d,b.memoizedState)||(rg=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction xh(a){var b=uh(),c=b.queue;if(null===c)throw Error(u(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);$e(f,b.memoizedState)||(rg=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction yh(a){var b=th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:vh,lastRenderedState:a};a=a.dispatch=zh.bind(null,N,a);return[b.memoizedState,a]}function Ah(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}\nfunction Bh(){return uh().memoizedState}function Ch(a,b,c,d){var e=th();N.effectTag|=a;e.memoizedState=Ah(1|b,c,void 0,void 0===d?null:d)}function Dh(a,b,c,d){var e=uh();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&nh(d,g.deps)){Ah(b,c,f,d);return}}N.effectTag|=a;e.memoizedState=Ah(1|b,c,f,d)}function Eh(a,b){return Ch(516,4,a,b)}function Fh(a,b){return Dh(516,4,a,b)}function Gh(a,b){return Dh(4,2,a,b)}\nfunction Hh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function Ih(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Dh(4,2,Hh.bind(null,b,a),c)}function Jh(){}function Kh(a,b){th().memoizedState=[a,void 0===b?null:b];return a}function Lh(a,b){var c=uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&nh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction Mh(a,b){var c=uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&nh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Nh(a,b,c){var d=ag();cg(98>d?98:d,function(){a(!0)});cg(97<d?97:d,function(){var d=kh.suspense;kh.suspense=void 0===b?null:b;try{a(!1),c()}finally{kh.suspense=d}})}\nfunction zh(a,b,c){var d=Gg(),e=Dg.suspense;d=Hg(d,a,e);e={expirationTime:d,suspenseConfig:e,action:c,eagerReducer:null,eagerState:null,next:null};var f=b.pending;null===f?e.next=e:(e.next=f.next,f.next=e);b.pending=e;f=a.alternate;if(a===N||null!==f&&f===N)mh=!0,e.expirationTime=lh,N.expirationTime=lh;else{if(0===a.expirationTime&&(null===f||0===f.expirationTime)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.eagerReducer=f;e.eagerState=h;if($e(h,g))return}catch(k){}finally{}Ig(a,\nd)}}\nvar sh={readContext:sg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useResponder:Q,useDeferredValue:Q,useTransition:Q},ph={readContext:sg,useCallback:Kh,useContext:sg,useEffect:Eh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Ch(4,2,Hh.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Ch(4,2,a,b)},useMemo:function(a,b){var c=th();b=void 0===b?null:b;a=a();c.memoizedState=[a,\nb];return a},useReducer:function(a,b,c){var d=th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=zh.bind(null,N,a);return[d.memoizedState,a]},useRef:function(a){var b=th();a={current:a};return b.memoizedState=a},useState:yh,useDebugValue:Jh,useResponder:ih,useDeferredValue:function(a,b){var c=yh(a),d=c[0],e=c[1];Eh(function(){var c=kh.suspense;kh.suspense=void 0===b?null:b;try{e(a)}finally{kh.suspense=\nc}},[a,b]);return d},useTransition:function(a){var b=yh(!1),c=b[0];b=b[1];return[Kh(Nh.bind(null,b,a),[b,a]),c]}},qh={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:wh,useRef:Bh,useState:function(){return wh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(a,b){var c=wh(vh),d=c[0],e=c[1];Fh(function(){var c=kh.suspense;kh.suspense=void 0===b?null:b;try{e(a)}finally{kh.suspense=c}},[a,b]);return d},useTransition:function(a){var b=\nwh(vh),c=b[0];b=b[1];return[Lh(Nh.bind(null,b,a),[b,a]),c]}},rh={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:xh,useRef:Bh,useState:function(){return xh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(a,b){var c=xh(vh),d=c[0],e=c[1];Fh(function(){var c=kh.suspense;kh.suspense=void 0===b?null:b;try{e(a)}finally{kh.suspense=c}},[a,b]);return d},useTransition:function(a){var b=xh(vh),c=b[0];b=b[1];return[Lh(Nh.bind(null,\nb,a),[b,a]),c]}},Oh=null,Ph=null,Qh=!1;function Rh(a,b){var c=Sh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}\nfunction Th(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction Uh(a){if(Qh){var b=Ph;if(b){var c=b;if(!Th(a,b)){b=Jd(c.nextSibling);if(!b||!Th(a,b)){a.effectTag=a.effectTag&-1025|2;Qh=!1;Oh=a;return}Rh(Oh,c)}Oh=a;Ph=Jd(b.firstChild)}else a.effectTag=a.effectTag&-1025|2,Qh=!1,Oh=a}}function Vh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;Oh=a}\nfunction Wh(a){if(a!==Oh)return!1;if(!Qh)return Vh(a),Qh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!Gd(b,a.memoizedProps))for(b=Ph;b;)Rh(a,b),b=Jd(b.nextSibling);Vh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(u(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(c===Ad){if(0===b){Ph=Jd(a.nextSibling);break a}b--}else c!==zd&&c!==Cd&&c!==Bd||b++}a=a.nextSibling}Ph=null}}else Ph=Oh?Jd(a.stateNode.nextSibling):null;return!0}\nfunction Xh(){Ph=Oh=null;Qh=!1}var Yh=Wa.ReactCurrentOwner,rg=!1;function R(a,b,c,d){b.child=null===a?Yg(b,null,c,d):Xg(b,a.child,c,d)}function Zh(a,b,c,d,e){c=c.render;var f=b.ref;qg(b,e);d=oh(a,b,c,d,f,e);if(null!==a&&!rg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),$h(a,b,e);b.effectTag|=1;R(a,b,d,e);return b.child}\nfunction ai(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!bi(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ci(a,b,g,d,e,f);a=Ug(c.type,null,d,null,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(e<f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:bf,c(e,d)&&a.ref===b.ref))return $h(a,b,f);b.effectTag|=1;a=Sg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ci(a,b,c,d,e,f){return null!==a&&bf(a.memoizedProps,d)&&a.ref===b.ref&&(rg=!1,e<f)?(b.expirationTime=a.expirationTime,$h(a,b,f)):di(a,b,c,d,f)}function ei(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function di(a,b,c,d,e){var f=L(c)?Bf:J.current;f=Cf(b,f);qg(b,e);c=oh(a,b,c,d,f,e);if(null!==a&&!rg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),$h(a,b,e);b.effectTag|=1;R(a,b,c,e);return b.child}\nfunction fi(a,b,c,d,e){if(L(c)){var f=!0;Gf(b)}else f=!1;qg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),Lg(b,c,d),Ng(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=sg(l):(l=L(c)?Bf:J.current,l=Cf(b,l));var m=c.getDerivedStateFromProps,p=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;p||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Mg(b,g,d,l);tg=!1;var x=b.memoizedState;g.state=x;zg(b,d,g,e);k=b.memoizedState;h!==d||x!==k||K.current||tg?(\"function\"===typeof m&&(Fg(b,c,m,d),k=b.memoizedState),(h=tg||Kg(b,c,h,d,x,k,l))?(p||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.effectTag|=4)):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,vg(a,b),h=b.memoizedProps,g.props=b.type===b.elementType?h:ig(b.type,h),k=g.context,l=c.contextType,\"object\"===typeof l&&null!==l?l=sg(l):(l=L(c)?Bf:J.current,l=Cf(b,l)),m=c.getDerivedStateFromProps,(p=\"function\"===typeof m||\"function\"===\ntypeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Mg(b,g,d,l),tg=!1,k=b.memoizedState,g.state=k,zg(b,d,g,e),x=b.memoizedState,h!==d||k!==x||K.current||tg?(\"function\"===typeof m&&(Fg(b,c,m,d),x=b.memoizedState),(m=tg||Kg(b,c,h,d,k,x,l))?(p||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,l),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,l)),\"function\"===typeof g.componentDidUpdate&&(b.effectTag|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=l,d=m):\n(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),d=!1);return gi(a,b,c,d,f,e)}\nfunction gi(a,b,c,d,e,f){ei(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Hf(b,c,!1),$h(a,b,f);d=b.stateNode;Yh.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.effectTag|=1;null!==a&&g?(b.child=Xg(b,a.child,null,f),b.child=Xg(b,null,h,f)):R(a,b,h,f);b.memoizedState=d.state;e&&Hf(b,c,!0);return b.child}function hi(a){var b=a.stateNode;b.pendingContext?Ef(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Ef(a,b.context,!1);dh(a,b.containerInfo)}\nvar ii={dehydrated:null,retryTime:0};\nfunction ji(a,b,c){var d=b.mode,e=b.pendingProps,f=M.current,g=!1,h;(h=0!==(b.effectTag&64))||(h=0!==(f&2)&&(null===a||null!==a.memoizedState));h?(g=!0,b.effectTag&=-65):null!==a&&null===a.memoizedState||void 0===e.fallback||!0===e.unstable_avoidThisFallback||(f|=1);I(M,f&1);if(null===a){void 0!==e.fallback&&Uh(b);if(g){g=e.fallback;e=Wg(null,d,0,null);e.return=b;if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=Wg(g,d,c,null);c.return=\nb;e.sibling=c;b.memoizedState=ii;b.child=e;return c}d=e.children;b.memoizedState=null;return b.child=Yg(b,null,d,c)}if(null!==a.memoizedState){a=a.child;d=a.sibling;if(g){e=e.fallback;c=Sg(a,a.pendingProps);c.return=b;if(0===(b.mode&2)&&(g=null!==b.memoizedState?b.child.child:b.child,g!==a.child))for(c.child=g;null!==g;)g.return=c,g=g.sibling;d=Sg(d,e);d.return=b;c.sibling=d;c.childExpirationTime=0;b.memoizedState=ii;b.child=c;return d}c=Xg(b,a.child,e.children,c);b.memoizedState=null;return b.child=\nc}a=a.child;if(g){g=e.fallback;e=Wg(null,d,0,null);e.return=b;e.child=a;null!==a&&(a.return=e);if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=Wg(g,d,c,null);c.return=b;e.sibling=c;c.effectTag|=2;e.childExpirationTime=0;b.memoizedState=ii;b.child=e;return c}b.memoizedState=null;return b.child=Xg(b,a,e.children,c)}\nfunction ki(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);pg(a.return,b)}function li(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailExpiration:0,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailExpiration=0,g.tailMode=e,g.lastEffect=f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;R(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.effectTag|=64;else{if(null!==a&&0!==(a.effectTag&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&ki(a,c);else if(19===a.tag)ki(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(M,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===hh(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);li(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===hh(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}li(b,!0,c,null,f,b.lastEffect);break;case \"together\":li(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction $h(a,b,c){null!==a&&(b.dependencies=a.dependencies);var d=b.expirationTime;0!==d&&Bg(d);if(b.childExpirationTime<c)return null;if(null!==a&&b.child!==a.child)throw Error(u(153));if(null!==b.child){a=b.child;c=Sg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Sg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}var ni,oi,pi,qi;\nni=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};oi=function(){};\npi=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;ch($g.current);a=null;switch(c){case \"input\":f=zb(g,f);d=zb(g,d);a=[];break;case \"option\":f=Gb(g,f);d=Gb(g,d);a=[];break;case \"select\":f=n({},f,{value:void 0});d=n({},d,{value:void 0});a=[];break;case \"textarea\":f=Ib(g,f);d=Ib(g,d);a=[];break;default:\"function\"!==typeof f.onClick&&\"function\"===typeof d.onClick&&(g.onclick=sd)}od(c,d);var h,k;c=null;for(h in f)if(!d.hasOwnProperty(h)&&f.hasOwnProperty(h)&&null!=f[h])if(\"style\"===\nh)for(k in g=f[h],g)g.hasOwnProperty(k)&&(c||(c={}),c[k]=\"\");else\"dangerouslySetInnerHTML\"!==h&&\"children\"!==h&&\"suppressContentEditableWarning\"!==h&&\"suppressHydrationWarning\"!==h&&\"autoFocus\"!==h&&(va.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in d){var l=d[h];g=null!=f?f[h]:void 0;if(d.hasOwnProperty(h)&&l!==g&&(null!=l||null!=g))if(\"style\"===h)if(g){for(k in g)!g.hasOwnProperty(k)||l&&l.hasOwnProperty(k)||(c||(c={}),c[k]=\"\");for(k in l)l.hasOwnProperty(k)&&g[k]!==l[k]&&(c||(c={}),\nc[k]=l[k])}else c||(a||(a=[]),a.push(h,c)),c=l;else\"dangerouslySetInnerHTML\"===h?(l=l?l.__html:void 0,g=g?g.__html:void 0,null!=l&&g!==l&&(a=a||[]).push(h,l)):\"children\"===h?g===l||\"string\"!==typeof l&&\"number\"!==typeof l||(a=a||[]).push(h,\"\"+l):\"suppressContentEditableWarning\"!==h&&\"suppressHydrationWarning\"!==h&&(va.hasOwnProperty(h)?(null!=l&&rd(e,h),a||g===l||(a=[])):(a=a||[]).push(h,l))}c&&(a=a||[]).push(\"style\",c);e=a;if(b.updateQueue=e)b.effectTag|=4}};\nqi=function(a,b,c,d){c!==d&&(b.effectTag|=4)};function ri(a,b){switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction si(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return L(b.type)&&Df(),null;case 3:return eh(),H(K),H(J),c=b.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==a&&null!==a.child||!Wh(b)||(b.effectTag|=4),oi(b),null;case 5:gh(b);c=ch(bh.current);var e=b.type;if(null!==a&&null!=b.stateNode)pi(a,b,e,d,c),a.ref!==b.ref&&(b.effectTag|=128);else{if(!d){if(null===b.stateNode)throw Error(u(166));\nreturn null}a=ch($g.current);if(Wh(b)){d=b.stateNode;e=b.type;var f=b.memoizedProps;d[Md]=b;d[Nd]=f;switch(e){case \"iframe\":case \"object\":case \"embed\":F(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<ac.length;a++)F(ac[a],d);break;case \"source\":F(\"error\",d);break;case \"img\":case \"image\":case \"link\":F(\"error\",d);F(\"load\",d);break;case \"form\":F(\"reset\",d);F(\"submit\",d);break;case \"details\":F(\"toggle\",d);break;case \"input\":Ab(d,f);F(\"invalid\",d);rd(c,\"onChange\");break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};F(\"invalid\",d);rd(c,\"onChange\");break;case \"textarea\":Jb(d,f),F(\"invalid\",d),rd(c,\"onChange\")}od(e,f);a=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(a=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(a=[\"children\",\"\"+h]):va.hasOwnProperty(g)&&null!=h&&rd(c,g)}switch(e){case \"input\":xb(d);Eb(d,f,!0);break;case \"textarea\":xb(d);Lb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&\n(d.onclick=sd)}c=a;b.updateQueue=c;null!==c&&(b.effectTag|=4)}else{g=9===c.nodeType?c:c.ownerDocument;a===qd&&(a=Nb(e));a===qd?\"script\"===e?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(e,{is:d.is}):(a=g.createElement(e),\"select\"===e&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,e);a[Md]=b;a[Nd]=d;ni(a,b,!1,!1);b.stateNode=a;g=pd(e,d);switch(e){case \"iframe\":case \"object\":case \"embed\":F(\"load\",\na);h=d;break;case \"video\":case \"audio\":for(h=0;h<ac.length;h++)F(ac[h],a);h=d;break;case \"source\":F(\"error\",a);h=d;break;case \"img\":case \"image\":case \"link\":F(\"error\",a);F(\"load\",a);h=d;break;case \"form\":F(\"reset\",a);F(\"submit\",a);h=d;break;case \"details\":F(\"toggle\",a);h=d;break;case \"input\":Ab(a,d);h=zb(a,d);F(\"invalid\",a);rd(c,\"onChange\");break;case \"option\":h=Gb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};h=n({},d,{value:void 0});F(\"invalid\",a);rd(c,\"onChange\");break;case \"textarea\":Jb(a,\nd);h=Ib(a,d);F(\"invalid\",a);rd(c,\"onChange\");break;default:h=d}od(e,h);var k=h;for(f in k)if(k.hasOwnProperty(f)){var l=k[f];\"style\"===f?md(a,l):\"dangerouslySetInnerHTML\"===f?(l=l?l.__html:void 0,null!=l&&Qb(a,l)):\"children\"===f?\"string\"===typeof l?(\"textarea\"!==e||\"\"!==l)&&Rb(a,l):\"number\"===typeof l&&Rb(a,\"\"+l):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(va.hasOwnProperty(f)?null!=l&&rd(c,f):null!=l&&Xa(a,f,l,g))}switch(e){case \"input\":xb(a);Eb(a,d,!1);\nbreak;case \"textarea\":xb(a);Lb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+rb(d.value));break;case \"select\":a.multiple=!!d.multiple;c=d.value;null!=c?Hb(a,!!d.multiple,c,!1):null!=d.defaultValue&&Hb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof h.onClick&&(a.onclick=sd)}Fd(e,d)&&(b.effectTag|=4)}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(a&&null!=b.stateNode)qi(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(u(166));\nc=ch(bh.current);ch($g.current);Wh(b)?(c=b.stateNode,d=b.memoizedProps,c[Md]=b,c.nodeValue!==d&&(b.effectTag|=4)):(c=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),c[Md]=b,b.stateNode=c)}return null;case 13:H(M);d=b.memoizedState;if(0!==(b.effectTag&64))return b.expirationTime=c,b;c=null!==d;d=!1;null===a?void 0!==b.memoizedProps.fallback&&Wh(b):(e=a.memoizedState,d=null!==e,c||null===e||(e=a.child.sibling,null!==e&&(f=b.firstEffect,null!==f?(b.firstEffect=e,e.nextEffect=f):(b.firstEffect=b.lastEffect=\ne,e.nextEffect=null),e.effectTag=8)));if(c&&!d&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(M.current&1))S===ti&&(S=ui);else{if(S===ti||S===ui)S=vi;0!==wi&&null!==T&&(xi(T,U),yi(T,wi))}if(c||d)b.effectTag|=4;return null;case 4:return eh(),oi(b),null;case 10:return og(b),null;case 17:return L(b.type)&&Df(),null;case 19:H(M);d=b.memoizedState;if(null===d)return null;e=0!==(b.effectTag&64);f=d.rendering;if(null===f)if(e)ri(d,!1);else{if(S!==ti||null!==a&&0!==(a.effectTag&\n64))for(f=b.child;null!==f;){a=hh(f);if(null!==a){b.effectTag|=64;ri(d,!1);e=a.updateQueue;null!==e&&(b.updateQueue=e,b.effectTag|=4);null===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;for(d=b.child;null!==d;)e=d,f=c,e.effectTag&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,a=e.alternate,null===a?(e.childExpirationTime=0,e.expirationTime=f,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null):(e.childExpirationTime=a.childExpirationTime,\ne.expirationTime=a.expirationTime,e.child=a.child,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,f=a.dependencies,e.dependencies=null===f?null:{expirationTime:f.expirationTime,firstContext:f.firstContext,responders:f.responders}),d=d.sibling;I(M,M.current&1|2);return b.child}f=f.sibling}}else{if(!e)if(a=hh(f),null!==a){if(b.effectTag|=64,e=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.effectTag|=4),ri(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!f.alternate)return b=\nb.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*$f()-d.renderingStartTime>d.tailExpiration&&1<c&&(b.effectTag|=64,e=!0,ri(d,!1),b.expirationTime=b.childExpirationTime=c-1);d.isBackwards?(f.sibling=b.child,b.child=f):(c=d.last,null!==c?c.sibling=f:b.child=f,d.last=f)}return null!==d.tail?(0===d.tailExpiration&&(d.tailExpiration=$f()+500),c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=$f(),c.sibling=null,b=M.current,I(M,e?b&1|2:b&1),c):null}throw Error(u(156,\nb.tag));}function zi(a){switch(a.tag){case 1:L(a.type)&&Df();var b=a.effectTag;return b&4096?(a.effectTag=b&-4097|64,a):null;case 3:eh();H(K);H(J);b=a.effectTag;if(0!==(b&64))throw Error(u(285));a.effectTag=b&-4097|64;return a;case 5:return gh(a),null;case 13:return H(M),b=a.effectTag,b&4096?(a.effectTag=b&-4097|64,a):null;case 19:return H(M),null;case 4:return eh(),null;case 10:return og(a),null;default:return null}}function Ai(a,b){return{value:a,source:b,stack:qb(b)}}\nvar Bi=\"function\"===typeof WeakSet?WeakSet:Set;function Ci(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=qb(c));null!==c&&pb(c.type);b=b.value;null!==a&&1===a.tag&&pb(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e;})}}function Di(a,b){try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(c){Ei(a,c)}}function Fi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Ei(a,c)}else b.current=null}\nfunction Gi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.effectTag&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:ig(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163));}\nfunction Hi(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.destroy;c.destroy=void 0;void 0!==d&&d()}c=c.next}while(c!==b)}}function Ii(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}\nfunction Ji(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:Ii(3,c);return;case 1:a=c.stateNode;if(c.effectTag&4)if(null===b)a.componentDidMount();else{var d=c.elementType===c.type?b.memoizedProps:ig(c.type,b.memoizedProps);a.componentDidUpdate(d,b.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}b=c.updateQueue;null!==b&&Cg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Cg(c,b,a)}return;\ncase 5:a=c.stateNode;null===b&&c.effectTag&4&&Fd(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Vc(c))));return;case 19:case 17:case 20:case 21:return}throw Error(u(163));}\nfunction Ki(a,b,c){\"function\"===typeof Li&&Li(b);switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var d=a.next;cg(97<c?97:c,function(){var a=d;do{var c=a.destroy;if(void 0!==c){var g=b;try{c()}catch(h){Ei(g,h)}}a=a.next}while(a!==d)})}break;case 1:Fi(b);c=b.stateNode;\"function\"===typeof c.componentWillUnmount&&Di(b,c);break;case 5:Fi(b);break;case 4:Mi(a,b,c)}}\nfunction Ni(a){var b=a.alternate;a.return=null;a.child=null;a.memoizedState=null;a.updateQueue=null;a.dependencies=null;a.alternate=null;a.firstEffect=null;a.lastEffect=null;a.pendingProps=null;a.memoizedProps=null;a.stateNode=null;null!==b&&Ni(b)}function Oi(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Pi(a){a:{for(var b=a.return;null!==b;){if(Oi(b)){var c=b;break a}b=b.return}throw Error(u(160));}b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(u(161));}c.effectTag&16&&(Rb(b,\"\"),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Oi(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.effectTag&2)continue b;\nif(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}d?Qi(a,c,b):Ri(a,c,b)}\nfunction Qi(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=sd));else if(4!==d&&(a=a.child,null!==a))for(Qi(a,b,c),a=a.sibling;null!==a;)Qi(a,b,c),a=a.sibling}\nfunction Ri(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Ri(a,b,c),a=a.sibling;null!==a;)Ri(a,b,c),a=a.sibling}\nfunction Mi(a,b,c){for(var d=b,e=!1,f,g;;){if(!e){e=d.return;a:for(;;){if(null===e)throw Error(u(160));f=e.stateNode;switch(e.tag){case 5:g=!1;break a;case 3:f=f.containerInfo;g=!0;break a;case 4:f=f.containerInfo;g=!0;break a}e=e.return}e=!0}if(5===d.tag||6===d.tag){a:for(var h=a,k=d,l=c,m=k;;)if(Ki(h,m,l),null!==m.child&&4!==m.tag)m.child.return=m,m=m.child;else{if(m===k)break a;for(;null===m.sibling;){if(null===m.return||m.return===k)break a;m=m.return}m.sibling.return=m.return;m=m.sibling}g?(h=\nf,k=d.stateNode,8===h.nodeType?h.parentNode.removeChild(k):h.removeChild(k)):f.removeChild(d.stateNode)}else if(4===d.tag){if(null!==d.child){f=d.stateNode.containerInfo;g=!0;d.child.return=d;d=d.child;continue}}else if(Ki(a,d,c),null!==d.child){d.child.return=d;d=d.child;continue}if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return;d=d.return;4===d.tag&&(e=!1)}d.sibling.return=d.return;d=d.sibling}}\nfunction Si(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:Hi(3,b);return;case 1:return;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps,e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[Nd]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&Bb(c,d);pd(a,e);b=pd(a,d);for(e=0;e<f.length;e+=2){var g=f[e],h=f[e+1];\"style\"===g?md(c,h):\"dangerouslySetInnerHTML\"===g?Qb(c,h):\"children\"===g?Rb(c,h):Xa(c,g,h,b)}switch(a){case \"input\":Cb(c,d);break;\ncase \"textarea\":Kb(c,d);break;case \"select\":b=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,a=d.value,null!=a?Hb(c,!!d.multiple,a,!1):b!==!!d.multiple&&(null!=d.defaultValue?Hb(c,!!d.multiple,d.defaultValue,!0):Hb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(u(162));b.stateNode.nodeValue=b.memoizedProps;return;case 3:b=b.stateNode;b.hydrate&&(b.hydrate=!1,Vc(b.containerInfo));return;case 12:return;case 13:c=b;null===b.memoizedState?\nd=!1:(d=!0,c=b.child,Ti=$f());if(null!==c)a:for(a=c;;){if(5===a.tag)f=a.stateNode,d?(f=f.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(f=a.stateNode,e=a.memoizedProps.style,e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null,f.style.display=ld(\"display\",e));else if(6===a.tag)a.stateNode.nodeValue=d?\"\":a.memoizedProps;else if(13===a.tag&&null!==a.memoizedState&&null===a.memoizedState.dehydrated){f=a.child.sibling;f.return=a;a=\nf;continue}else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===c)break;for(;null===a.sibling;){if(null===a.return||a.return===c)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}Ui(b);return;case 19:Ui(b);return;case 17:return}throw Error(u(163));}function Ui(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Bi);b.forEach(function(b){var d=Vi.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nvar Wi=\"function\"===typeof WeakMap?WeakMap:Map;function Xi(a,b,c){c=wg(c,null);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Yi||(Yi=!0,Zi=d);Ci(a,b)};return c}\nfunction $i(a,b,c){c=wg(c,null);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ci(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===aj?aj=new Set([this]):aj.add(this),Ci(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nvar bj=Math.ceil,cj=Wa.ReactCurrentDispatcher,dj=Wa.ReactCurrentOwner,V=0,ej=8,fj=16,gj=32,ti=0,hj=1,ij=2,ui=3,vi=4,jj=5,W=V,T=null,X=null,U=0,S=ti,kj=null,lj=1073741823,mj=1073741823,nj=null,wi=0,oj=!1,Ti=0,pj=500,Y=null,Yi=!1,Zi=null,aj=null,qj=!1,rj=null,sj=90,tj=null,uj=0,vj=null,wj=0;function Gg(){return(W&(fj|gj))!==V?1073741821-($f()/10|0):0!==wj?wj:wj=1073741821-($f()/10|0)}\nfunction Hg(a,b,c){b=b.mode;if(0===(b&2))return 1073741823;var d=ag();if(0===(b&4))return 99===d?1073741823:1073741822;if((W&fj)!==V)return U;if(null!==c)a=hg(a,c.timeoutMs|0||5E3,250);else switch(d){case 99:a=1073741823;break;case 98:a=hg(a,150,100);break;case 97:case 96:a=hg(a,5E3,250);break;case 95:a=2;break;default:throw Error(u(326));}null!==T&&a===U&&--a;return a}\nfunction Ig(a,b){if(50<uj)throw uj=0,vj=null,Error(u(185));a=xj(a,b);if(null!==a){var c=ag();1073741823===b?(W&ej)!==V&&(W&(fj|gj))===V?yj(a):(Z(a),W===V&&gg()):Z(a);(W&4)===V||98!==c&&99!==c||(null===tj?tj=new Map([[a,b]]):(c=tj.get(a),(void 0===c||c>b)&&tj.set(a,b)))}}\nfunction xj(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}null!==e&&(T===e&&(Bg(b),S===vi&&xi(e,U)),yi(e,b));return e}\nfunction zj(a){var b=a.lastExpiredTime;if(0!==b)return b;b=a.firstPendingTime;if(!Aj(a,b))return b;var c=a.lastPingedTime;a=a.nextKnownPendingLevel;a=c>a?c:a;return 2>=a&&b!==a?0:a}\nfunction Z(a){if(0!==a.lastExpiredTime)a.callbackExpirationTime=1073741823,a.callbackPriority=99,a.callbackNode=eg(yj.bind(null,a));else{var b=zj(a),c=a.callbackNode;if(0===b)null!==c&&(a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90);else{var d=Gg();1073741823===b?d=99:1===b||2===b?d=95:(d=10*(1073741821-b)-10*(1073741821-d),d=0>=d?99:250>=d?98:5250>=d?97:95);if(null!==c){var e=a.callbackPriority;if(a.callbackExpirationTime===b&&e>=d)return;c!==Tf&&Kf(c)}a.callbackExpirationTime=\nb;a.callbackPriority=d;b=1073741823===b?eg(yj.bind(null,a)):dg(d,Bj.bind(null,a),{timeout:10*(1073741821-b)-$f()});a.callbackNode=b}}}\nfunction Bj(a,b){wj=0;if(b)return b=Gg(),Cj(a,b),Z(a),null;var c=zj(a);if(0!==c){b=a.callbackNode;if((W&(fj|gj))!==V)throw Error(u(327));Dj();a===T&&c===U||Ej(a,c);if(null!==X){var d=W;W|=fj;var e=Fj();do try{Gj();break}catch(h){Hj(a,h)}while(1);ng();W=d;cj.current=e;if(S===hj)throw b=kj,Ej(a,c),xi(a,c),Z(a),b;if(null===X)switch(e=a.finishedWork=a.current.alternate,a.finishedExpirationTime=c,d=S,T=null,d){case ti:case hj:throw Error(u(345));case ij:Cj(a,2<c?2:c);break;case ui:xi(a,c);d=a.lastSuspendedTime;\nc===d&&(a.nextKnownPendingLevel=Ij(e));if(1073741823===lj&&(e=Ti+pj-$f(),10<e)){if(oj){var f=a.lastPingedTime;if(0===f||f>=c){a.lastPingedTime=c;Ej(a,c);break}}f=zj(a);if(0!==f&&f!==c)break;if(0!==d&&d!==c){a.lastPingedTime=d;break}a.timeoutHandle=Hd(Jj.bind(null,a),e);break}Jj(a);break;case vi:xi(a,c);d=a.lastSuspendedTime;c===d&&(a.nextKnownPendingLevel=Ij(e));if(oj&&(e=a.lastPingedTime,0===e||e>=c)){a.lastPingedTime=c;Ej(a,c);break}e=zj(a);if(0!==e&&e!==c)break;if(0!==d&&d!==c){a.lastPingedTime=\nd;break}1073741823!==mj?d=10*(1073741821-mj)-$f():1073741823===lj?d=0:(d=10*(1073741821-lj)-5E3,e=$f(),c=10*(1073741821-c)-e,d=e-d,0>d&&(d=0),d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*bj(d/1960))-d,c<d&&(d=c));if(10<d){a.timeoutHandle=Hd(Jj.bind(null,a),d);break}Jj(a);break;case jj:if(1073741823!==lj&&null!==nj){f=lj;var g=nj;d=g.busyMinDurationMs|0;0>=d?d=0:(e=g.busyDelayMs|0,f=$f()-(10*(1073741821-f)-(g.timeoutMs|0||5E3)),d=f<=e?0:e+d-f);if(10<d){xi(a,c);a.timeoutHandle=\nHd(Jj.bind(null,a),d);break}}Jj(a);break;default:throw Error(u(329));}Z(a);if(a.callbackNode===b)return Bj.bind(null,a)}}return null}\nfunction yj(a){var b=a.lastExpiredTime;b=0!==b?b:1073741823;if((W&(fj|gj))!==V)throw Error(u(327));Dj();a===T&&b===U||Ej(a,b);if(null!==X){var c=W;W|=fj;var d=Fj();do try{Kj();break}catch(e){Hj(a,e)}while(1);ng();W=c;cj.current=d;if(S===hj)throw c=kj,Ej(a,b),xi(a,b),Z(a),c;if(null!==X)throw Error(u(261));a.finishedWork=a.current.alternate;a.finishedExpirationTime=b;T=null;Jj(a);Z(a)}return null}function Lj(){if(null!==tj){var a=tj;tj=null;a.forEach(function(a,c){Cj(c,a);Z(c)});gg()}}\nfunction Mj(a,b){var c=W;W|=1;try{return a(b)}finally{W=c,W===V&&gg()}}function Nj(a,b){var c=W;W&=-2;W|=ej;try{return a(b)}finally{W=c,W===V&&gg()}}\nfunction Ej(a,b){a.finishedWork=null;a.finishedExpirationTime=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Id(c));if(null!==X)for(c=X.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Df();break;case 3:eh();H(K);H(J);break;case 5:gh(d);break;case 4:eh();break;case 13:H(M);break;case 19:H(M);break;case 10:og(d)}c=c.return}T=a;X=Sg(a.current,null);U=b;S=ti;kj=null;mj=lj=1073741823;nj=null;wi=0;oj=!1}\nfunction Hj(a,b){do{try{ng();jh.current=sh;if(mh)for(var c=N.memoizedState;null!==c;){var d=c.queue;null!==d&&(d.pending=null);c=c.next}lh=0;P=O=N=null;mh=!1;if(null===X||null===X.return)return S=hj,kj=b,X=null;a:{var e=a,f=X.return,g=X,h=b;b=U;g.effectTag|=2048;g.firstEffect=g.lastEffect=null;if(null!==h&&\"object\"===typeof h&&\"function\"===typeof h.then){var k=h;if(0===(g.mode&2)){var l=g.alternate;l?(g.updateQueue=l.updateQueue,g.memoizedState=l.memoizedState,g.expirationTime=l.expirationTime):(g.updateQueue=\nnull,g.memoizedState=null)}var m=0!==(M.current&1),p=f;do{var x;if(x=13===p.tag){var z=p.memoizedState;if(null!==z)x=null!==z.dehydrated?!0:!1;else{var ca=p.memoizedProps;x=void 0===ca.fallback?!1:!0!==ca.unstable_avoidThisFallback?!0:m?!1:!0}}if(x){var D=p.updateQueue;if(null===D){var t=new Set;t.add(k);p.updateQueue=t}else D.add(k);if(0===(p.mode&2)){p.effectTag|=64;g.effectTag&=-2981;if(1===g.tag)if(null===g.alternate)g.tag=17;else{var y=wg(1073741823,null);y.tag=2;xg(g,y)}g.expirationTime=1073741823;\nbreak a}h=void 0;g=b;var A=e.pingCache;null===A?(A=e.pingCache=new Wi,h=new Set,A.set(k,h)):(h=A.get(k),void 0===h&&(h=new Set,A.set(k,h)));if(!h.has(g)){h.add(g);var q=Oj.bind(null,e,k,g);k.then(q,q)}p.effectTag|=4096;p.expirationTime=b;break a}p=p.return}while(null!==p);h=Error((pb(g.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\"+qb(g))}S!==\njj&&(S=ij);h=Ai(h,g);p=f;do{switch(p.tag){case 3:k=h;p.effectTag|=4096;p.expirationTime=b;var B=Xi(p,k,b);yg(p,B);break a;case 1:k=h;var w=p.type,ub=p.stateNode;if(0===(p.effectTag&64)&&(\"function\"===typeof w.getDerivedStateFromError||null!==ub&&\"function\"===typeof ub.componentDidCatch&&(null===aj||!aj.has(ub)))){p.effectTag|=4096;p.expirationTime=b;var vb=$i(p,k,b);yg(p,vb);break a}}p=p.return}while(null!==p)}X=Pj(X)}catch(Xc){b=Xc;continue}break}while(1)}\nfunction Fj(){var a=cj.current;cj.current=sh;return null===a?sh:a}function Ag(a,b){a<lj&&2<a&&(lj=a);null!==b&&a<mj&&2<a&&(mj=a,nj=b)}function Bg(a){a>wi&&(wi=a)}function Kj(){for(;null!==X;)X=Qj(X)}function Gj(){for(;null!==X&&!Uf();)X=Qj(X)}function Qj(a){var b=Rj(a.alternate,a,U);a.memoizedProps=a.pendingProps;null===b&&(b=Pj(a));dj.current=null;return b}\nfunction Pj(a){X=a;do{var b=X.alternate;a=X.return;if(0===(X.effectTag&2048)){b=si(b,X,U);if(1===U||1!==X.childExpirationTime){for(var c=0,d=X.child;null!==d;){var e=d.expirationTime,f=d.childExpirationTime;e>c&&(c=e);f>c&&(c=f);d=d.sibling}X.childExpirationTime=c}if(null!==b)return b;null!==a&&0===(a.effectTag&2048)&&(null===a.firstEffect&&(a.firstEffect=X.firstEffect),null!==X.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=X.firstEffect),a.lastEffect=X.lastEffect),1<X.effectTag&&(null!==\na.lastEffect?a.lastEffect.nextEffect=X:a.firstEffect=X,a.lastEffect=X))}else{b=zi(X);if(null!==b)return b.effectTag&=2047,b;null!==a&&(a.firstEffect=a.lastEffect=null,a.effectTag|=2048)}b=X.sibling;if(null!==b)return b;X=a}while(null!==X);S===ti&&(S=jj);return null}function Ij(a){var b=a.expirationTime;a=a.childExpirationTime;return b>a?b:a}function Jj(a){var b=ag();cg(99,Sj.bind(null,a,b));return null}\nfunction Sj(a,b){do Dj();while(null!==rj);if((W&(fj|gj))!==V)throw Error(u(327));var c=a.finishedWork,d=a.finishedExpirationTime;if(null===c)return null;a.finishedWork=null;a.finishedExpirationTime=0;if(c===a.current)throw Error(u(177));a.callbackNode=null;a.callbackExpirationTime=0;a.callbackPriority=90;a.nextKnownPendingLevel=0;var e=Ij(c);a.firstPendingTime=e;d<=a.lastSuspendedTime?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:d<=a.firstSuspendedTime&&(a.firstSuspendedTime=\nd-1);d<=a.lastPingedTime&&(a.lastPingedTime=0);d<=a.lastExpiredTime&&(a.lastExpiredTime=0);a===T&&(X=T=null,U=0);1<c.effectTag?null!==c.lastEffect?(c.lastEffect.nextEffect=c,e=c.firstEffect):e=c:e=c.firstEffect;if(null!==e){var f=W;W|=gj;dj.current=null;Dd=fd;var g=xd();if(yd(g)){if(\"selectionStart\"in g)var h={start:g.selectionStart,end:g.selectionEnd};else a:{h=(h=g.ownerDocument)&&h.defaultView||window;var k=h.getSelection&&h.getSelection();if(k&&0!==k.rangeCount){h=k.anchorNode;var l=k.anchorOffset,\nm=k.focusNode;k=k.focusOffset;try{h.nodeType,m.nodeType}catch(wb){h=null;break a}var p=0,x=-1,z=-1,ca=0,D=0,t=g,y=null;b:for(;;){for(var A;;){t!==h||0!==l&&3!==t.nodeType||(x=p+l);t!==m||0!==k&&3!==t.nodeType||(z=p+k);3===t.nodeType&&(p+=t.nodeValue.length);if(null===(A=t.firstChild))break;y=t;t=A}for(;;){if(t===g)break b;y===h&&++ca===l&&(x=p);y===m&&++D===k&&(z=p);if(null!==(A=t.nextSibling))break;t=y;y=t.parentNode}t=A}h=-1===x||-1===z?null:{start:x,end:z}}else h=null}h=h||{start:0,end:0}}else h=\nnull;Ed={activeElementDetached:null,focusedElem:g,selectionRange:h};fd=!1;Y=e;do try{Tj()}catch(wb){if(null===Y)throw Error(u(330));Ei(Y,wb);Y=Y.nextEffect}while(null!==Y);Y=e;do try{for(g=a,h=b;null!==Y;){var q=Y.effectTag;q&16&&Rb(Y.stateNode,\"\");if(q&128){var B=Y.alternate;if(null!==B){var w=B.ref;null!==w&&(\"function\"===typeof w?w(null):w.current=null)}}switch(q&1038){case 2:Pi(Y);Y.effectTag&=-3;break;case 6:Pi(Y);Y.effectTag&=-3;Si(Y.alternate,Y);break;case 1024:Y.effectTag&=-1025;break;case 1028:Y.effectTag&=\n-1025;Si(Y.alternate,Y);break;case 4:Si(Y.alternate,Y);break;case 8:l=Y,Mi(g,l,h),Ni(l)}Y=Y.nextEffect}}catch(wb){if(null===Y)throw Error(u(330));Ei(Y,wb);Y=Y.nextEffect}while(null!==Y);w=Ed;B=xd();q=w.focusedElem;h=w.selectionRange;if(B!==q&&q&&q.ownerDocument&&wd(q.ownerDocument.documentElement,q)){null!==h&&yd(q)&&(B=h.start,w=h.end,void 0===w&&(w=B),\"selectionStart\"in q?(q.selectionStart=B,q.selectionEnd=Math.min(w,q.value.length)):(w=(B=q.ownerDocument||document)&&B.defaultView||window,w.getSelection&&\n(w=w.getSelection(),l=q.textContent.length,g=Math.min(h.start,l),h=void 0===h.end?g:Math.min(h.end,l),!w.extend&&g>h&&(l=h,h=g,g=l),l=vd(q,g),m=vd(q,h),l&&m&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==m.node||w.focusOffset!==m.offset)&&(B=B.createRange(),B.setStart(l.node,l.offset),w.removeAllRanges(),g>h?(w.addRange(B),w.extend(m.node,m.offset)):(B.setEnd(m.node,m.offset),w.addRange(B))))));B=[];for(w=q;w=w.parentNode;)1===w.nodeType&&B.push({element:w,left:w.scrollLeft,\ntop:w.scrollTop});\"function\"===typeof q.focus&&q.focus();for(q=0;q<B.length;q++)w=B[q],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}fd=!!Dd;Ed=Dd=null;a.current=c;Y=e;do try{for(q=a;null!==Y;){var ub=Y.effectTag;ub&36&&Ji(q,Y.alternate,Y);if(ub&128){B=void 0;var vb=Y.ref;if(null!==vb){var Xc=Y.stateNode;switch(Y.tag){case 5:B=Xc;break;default:B=Xc}\"function\"===typeof vb?vb(B):vb.current=B}}Y=Y.nextEffect}}catch(wb){if(null===Y)throw Error(u(330));Ei(Y,wb);Y=Y.nextEffect}while(null!==Y);Y=\nnull;Vf();W=f}else a.current=c;if(qj)qj=!1,rj=a,sj=b;else for(Y=e;null!==Y;)b=Y.nextEffect,Y.nextEffect=null,Y=b;b=a.firstPendingTime;0===b&&(aj=null);1073741823===b?a===vj?uj++:(uj=0,vj=a):uj=0;\"function\"===typeof Uj&&Uj(c.stateNode,d);Z(a);if(Yi)throw Yi=!1,a=Zi,Zi=null,a;if((W&ej)!==V)return null;gg();return null}function Tj(){for(;null!==Y;){var a=Y.effectTag;0!==(a&256)&&Gi(Y.alternate,Y);0===(a&512)||qj||(qj=!0,dg(97,function(){Dj();return null}));Y=Y.nextEffect}}\nfunction Dj(){if(90!==sj){var a=97<sj?97:sj;sj=90;return cg(a,Vj)}}function Vj(){if(null===rj)return!1;var a=rj;rj=null;if((W&(fj|gj))!==V)throw Error(u(331));var b=W;W|=gj;for(a=a.current.firstEffect;null!==a;){try{var c=a;if(0!==(c.effectTag&512))switch(c.tag){case 0:case 11:case 15:case 22:Hi(5,c),Ii(5,c)}}catch(d){if(null===a)throw Error(u(330));Ei(a,d)}c=a.nextEffect;a.nextEffect=null;a=c}W=b;gg();return!0}\nfunction Wj(a,b,c){b=Ai(c,b);b=Xi(a,b,1073741823);xg(a,b);a=xj(a,1073741823);null!==a&&Z(a)}function Ei(a,b){if(3===a.tag)Wj(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){Wj(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===aj||!aj.has(d))){a=Ai(b,a);a=$i(c,a,1073741823);xg(c,a);c=xj(c,1073741823);null!==c&&Z(c);break}}c=c.return}}\nfunction Oj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);T===a&&U===c?S===vi||S===ui&&1073741823===lj&&$f()-Ti<pj?Ej(a,U):oj=!0:Aj(a,c)&&(b=a.lastPingedTime,0!==b&&b<c||(a.lastPingedTime=c,Z(a)))}function Vi(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=Gg(),b=Hg(b,a,null));a=xj(a,b);null!==a&&Z(a)}var Rj;\nRj=function(a,b,c){var d=b.expirationTime;if(null!==a){var e=b.pendingProps;if(a.memoizedProps!==e||K.current)rg=!0;else{if(d<c){rg=!1;switch(b.tag){case 3:hi(b);Xh();break;case 5:fh(b);if(b.mode&4&&1!==c&&e.hidden)return b.expirationTime=b.childExpirationTime=1,null;break;case 1:L(b.type)&&Gf(b);break;case 4:dh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;e=b.type._context;I(jg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;\nif(0!==d&&d>=c)return ji(a,b,c);I(M,M.current&1);b=$h(a,b,c);return null!==b?b.sibling:null}I(M,M.current&1);break;case 19:d=b.childExpirationTime>=c;if(0!==(a.effectTag&64)){if(d)return mi(a,b,c);b.effectTag|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null);I(M,M.current);if(!d)return null}return $h(a,b,c)}rg=!1}}else rg=!1;b.expirationTime=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;e=Cf(b,J.current);qg(b,c);e=oh(null,\nb,d,a,e,c);b.effectTag|=1;if(\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(L(d)){var f=!0;Gf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;ug(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Fg(b,d,g,a);e.updater=Jg;b.stateNode=e;e._reactInternalFiber=b;Ng(b,d,a,c);b=gi(null,b,d,!0,f,c)}else b.tag=0,R(null,b,e,c),b=b.child;return b;case 16:a:{e=b.elementType;null!==a&&(a.alternate=\nnull,b.alternate=null,b.effectTag|=2);a=b.pendingProps;ob(e);if(1!==e._status)throw e._result;e=e._result;b.type=e;f=b.tag=Xj(e);a=ig(e,a);switch(f){case 0:b=di(null,b,e,a,c);break a;case 1:b=fi(null,b,e,a,c);break a;case 11:b=Zh(null,b,e,a,c);break a;case 14:b=ai(null,b,e,ig(e.type,a),d,c);break a}throw Error(u(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ig(d,e),di(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ig(d,e),fi(a,b,d,e,c);\ncase 3:hi(b);d=b.updateQueue;if(null===a||null===d)throw Error(u(282));d=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;vg(a,b);zg(b,d,null,c);d=b.memoizedState.element;if(d===e)Xh(),b=$h(a,b,c);else{if(e=b.stateNode.hydrate)Ph=Jd(b.stateNode.containerInfo.firstChild),Oh=b,e=Qh=!0;if(e)for(c=Yg(b,null,d,c),b.child=c;c;)c.effectTag=c.effectTag&-3|1024,c=c.sibling;else R(a,b,d,c),Xh();b=b.child}return b;case 5:return fh(b),null===a&&Uh(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:\nnull,g=e.children,Gd(d,e)?g=null:null!==f&&Gd(d,f)&&(b.effectTag|=16),ei(a,b),b.mode&4&&1!==c&&e.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(R(a,b,g,c),b=b.child),b;case 6:return null===a&&Uh(b),null;case 13:return ji(a,b,c);case 4:return dh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Xg(b,null,d,c):R(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ig(d,e),Zh(a,b,d,e,c);case 7:return R(a,b,b.pendingProps,c),b.child;case 8:return R(a,\nb,b.pendingProps.children,c),b.child;case 12:return R(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(jg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=$e(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!K.current){b=$h(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==\nk){g=h.child;for(var l=k.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=wg(c,null),l.tag=2,xg(h,l));h.expirationTime<c&&(h.expirationTime=c);l=h.alternate;null!==l&&l.expirationTime<c&&(l.expirationTime=c);pg(h.return,c);k.expirationTime<c&&(k.expirationTime=c);break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=\ng}R(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,qg(b,c),e=sg(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,R(a,b,d,c),b.child;case 14:return e=b.type,f=ig(e,b.pendingProps),f=ig(e.type,f),ai(a,b,e,f,d,c);case 15:return ci(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ig(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,L(d)?(a=!0,Gf(b)):a=!1,qg(b,c),Lg(b,d,e),Ng(b,d,e,c),gi(null,\nb,d,!0,a,c);case 19:return mi(a,b,c)}throw Error(u(156,b.tag));};var Uj=null,Li=null;function Yj(a){if(\"undefined\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);Uj=function(a){try{b.onCommitFiberRoot(c,a,void 0,64===(a.current.effectTag&64))}catch(e){}};Li=function(a){try{b.onCommitFiberUnmount(c,a)}catch(e){}}}catch(d){}return!0}\nfunction Zj(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Sh(a,b,c,d){return new Zj(a,b,c,d)}\nfunction bi(a){a=a.prototype;return!(!a||!a.isReactComponent)}function Xj(a){if(\"function\"===typeof a)return bi(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===gb)return 11;if(a===jb)return 14}return 2}\nfunction Sg(a,b){var c=a.alternate;null===c?(c=Sh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{expirationTime:b.expirationTime,\nfirstContext:b.firstContext,responders:b.responders};c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Ug(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)bi(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ab:return Wg(c.children,e,f,b);case fb:g=8;e|=7;break;case bb:g=8;e|=1;break;case cb:return a=Sh(12,c,b,e|8),a.elementType=cb,a.type=cb,a.expirationTime=f,a;case hb:return a=Sh(13,c,b,e),a.type=hb,a.elementType=hb,a.expirationTime=f,a;case ib:return a=Sh(19,c,b,e),a.elementType=ib,a.expirationTime=f,a;default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case db:g=\n10;break a;case eb:g=9;break a;case gb:g=11;break a;case jb:g=14;break a;case kb:g=16;d=null;break a;case lb:g=22;break a}throw Error(u(130,null==a?a:typeof a,\"\"));}b=Sh(g,c,b,e);b.elementType=a;b.type=d;b.expirationTime=f;return b}function Wg(a,b,c,d){a=Sh(7,a,d,b);a.expirationTime=c;return a}function Tg(a,b,c){a=Sh(6,a,null,b);a.expirationTime=c;return a}\nfunction Vg(a,b,c){b=Sh(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction ak(a,b,c){this.tag=b;this.current=null;this.containerInfo=a;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}\nfunction Aj(a,b){var c=a.firstSuspendedTime;a=a.lastSuspendedTime;return 0!==c&&c>=b&&a<=b}function xi(a,b){var c=a.firstSuspendedTime,d=a.lastSuspendedTime;c<b&&(a.firstSuspendedTime=b);if(d>b||0===c)a.lastSuspendedTime=b;b<=a.lastPingedTime&&(a.lastPingedTime=0);b<=a.lastExpiredTime&&(a.lastExpiredTime=0)}\nfunction yi(a,b){b>a.firstPendingTime&&(a.firstPendingTime=b);var c=a.firstSuspendedTime;0!==c&&(b>=c?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:b>=a.lastSuspendedTime&&(a.lastSuspendedTime=b+1),b>a.nextKnownPendingLevel&&(a.nextKnownPendingLevel=b))}function Cj(a,b){var c=a.lastExpiredTime;if(0===c||c>b)a.lastExpiredTime=b}\nfunction bk(a,b,c,d){var e=b.current,f=Gg(),g=Dg.suspense;f=Hg(f,e,g);a:if(c){c=c._reactInternalFiber;b:{if(dc(c)!==c||1!==c.tag)throw Error(u(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(L(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(u(171));}if(1===c.tag){var k=c.type;if(L(k)){c=Ff(c,k,h);break a}}c=h}else c=Af;null===b.context?b.context=c:b.pendingContext=c;b=wg(f,g);b.payload={element:a};d=void 0===\nd?null:d;null!==d&&(b.callback=d);xg(e,b);Ig(e,f);return f}function ck(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function dk(a,b){a=a.memoizedState;null!==a&&null!==a.dehydrated&&a.retryTime<b&&(a.retryTime=b)}function ek(a,b){dk(a,b);(a=a.alternate)&&dk(a,b)}\nfunction fk(a,b,c){c=null!=c&&!0===c.hydrate;var d=new ak(a,b,c),e=Sh(3,null,null,2===b?7:1===b?3:0);d.current=e;e.stateNode=d;ug(e);a[Od]=d.current;c&&0!==b&&Jc(a,9===a.nodeType?a:a.ownerDocument);this._internalRoot=d}fk.prototype.render=function(a){bk(a,this._internalRoot,null,null)};fk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;bk(null,a,null,function(){b[Od]=null})};\nfunction gk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function hk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new fk(a,0,b?{hydrate:!0}:void 0)}\nfunction ik(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=ck(g);h.call(a)}}bk(b,g,a,e)}else{f=c._reactRootContainer=hk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=ck(g);k.call(a)}}Nj(function(){bk(b,g,a,e)})}return ck(g)}function jk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$a,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nwc=function(a){if(13===a.tag){var b=hg(Gg(),150,100);Ig(a,b);ek(a,b)}};xc=function(a){13===a.tag&&(Ig(a,3),ek(a,3))};yc=function(a){if(13===a.tag){var b=Gg();b=Hg(b,a,null);Ig(a,b);ek(a,b)}};\nza=function(a,b,c){switch(b){case \"input\":Cb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Qd(d);if(!e)throw Error(u(90));yb(d);Cb(d,e)}}}break;case \"textarea\":Kb(a,c);break;case \"select\":b=c.value,null!=b&&Hb(a,!!c.multiple,b,!1)}};Fa=Mj;\nGa=function(a,b,c,d,e){var f=W;W|=4;try{return cg(98,a.bind(null,b,c,d,e))}finally{W=f,W===V&&gg()}};Ha=function(){(W&(1|fj|gj))===V&&(Lj(),Dj())};Ia=function(a,b){var c=W;W|=2;try{return a(b)}finally{W=c,W===V&&gg()}};function kk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gk(b))throw Error(u(200));return jk(a,b,null,c)}var lk={Events:[Nc,Pd,Qd,xa,ta,Xd,function(a){jc(a,Wd)},Da,Ea,id,mc,Dj,{current:!1}]};\n(function(a){var b=a.findFiberByHostInstance;return Yj(n({},a,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=hc(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:tc,bundleType:0,version:\"16.13.1\",\nrendererPackageName:\"react-dom\"});exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lk;exports.createPortal=kk;exports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;if(void 0===b){if(\"function\"===typeof a.render)throw Error(u(188));throw Error(u(268,Object.keys(a)));}a=hc(b);a=null===a?null:a.stateNode;return a};\nexports.flushSync=function(a,b){if((W&(fj|gj))!==V)throw Error(u(187));var c=W;W|=1;try{return cg(99,a.bind(null,b))}finally{W=c,gg()}};exports.hydrate=function(a,b,c){if(!gk(b))throw Error(u(200));return ik(null,a,b,!0,c)};exports.render=function(a,b,c){if(!gk(b))throw Error(u(200));return ik(null,a,b,!1,c)};\nexports.unmountComponentAtNode=function(a){if(!gk(a))throw Error(u(40));return a._reactRootContainer?(Nj(function(){ik(null,null,a,!1,function(){a._reactRootContainer=null;a[Od]=null})}),!0):!1};exports.unstable_batchedUpdates=Mj;exports.unstable_createPortal=function(a,b){return kk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!gk(c))throw Error(u(200));if(null==a||void 0===a._reactInternalFiber)throw Error(u(38));return ik(a,b,c,!1,d)};exports.version=\"16.13.1\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HORIZONTAL = exports.VERTICAL = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.SortableComposition = SortableComposition;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _helpers = require('./helpers.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar VERTICAL = exports.VERTICAL = 'VERTICAL';\nvar HORIZONTAL = exports.HORIZONTAL = 'HORIZONTAL';\n\n/*** Higher-order component - this component works like a factory for draggable items */\n\nvar draggingIndex = null;\n\nfunction SortableComposition(Component) {\n  var flowDirection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : VERTICAL;\n\n\n  return function (_React$Component) {\n    _inherits(Sortable, _React$Component);\n\n    function Sortable() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Sortable);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Sortable.__proto__ || Object.getPrototypeOf(Sortable)).call.apply(_ref, [this].concat(args))), _this), _this.sortEnd = function (e) {\n        e.preventDefault();\n        draggingIndex = null;\n      }, _this.sortStart = function (e) {\n        draggingIndex = e.currentTarget.dataset.id;\n        var dt = e.dataTransfer;\n        if (dt !== undefined) {\n          e.dataTransfer.setData('text', e.target.innerHTML);\n\n          //fix http://stackoverflow.com/questions/27656183/preserve-appearance-of-dragged-a-element-when-using-html5-draggable-attribute\n          if (dt.setDragImage && e.currentTarget.tagName.toLowerCase() === 'a') {\n            dt.setDragImage(e.target, 0, 0);\n          }\n        }\n      }, _this.dragOver = function (e) {\n        e.preventDefault();\n        var _this$props = _this.props,\n            moveInMiddle = _this$props.moveInMiddle,\n            sortId = _this$props.sortId;\n\n        var overEl = e.currentTarget; //underlying element\n        var indexDragged = Number(overEl.dataset.id); //index of underlying element in the set DOM elements\n        var indexFrom = Number(draggingIndex);\n        var height = overEl.getBoundingClientRect().height;\n        var width = overEl.getBoundingClientRect().width;\n        var positionX = e.clientX;\n        var positionY = e.clientY;\n        var topOffset = overEl.getBoundingClientRect().top;\n        var leftOffset = overEl.getBoundingClientRect().left;\n        var mouseBeyond = void 0;\n        var items = _this.props.items;\n\n\n        if (flowDirection === VERTICAL) {\n          mouseBeyond = (0, _helpers.isMouseBeyond)(positionY, topOffset, height, moveInMiddle);\n        }\n\n        if (flowDirection === HORIZONTAL) {\n          mouseBeyond = (0, _helpers.isMouseBeyond)(positionX, leftOffset, width, moveInMiddle);\n        }\n\n        var shouldSwapItems = _helpers.isMouseBeyond && indexDragged !== indexFrom;\n\n        if (indexDragged !== indexFrom && mouseBeyond) {\n          items = (0, _helpers.swapArrayElements)(items, indexFrom, indexDragged);\n          draggingIndex = indexDragged;\n          _this.props.onSortItems(items);\n        }\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Sortable, [{\n      key: 'render',\n      value: function render() {\n        var newProps = Object.assign({}, this.props);\n        delete newProps.onSortItems;\n\n        var sortId = newProps.sortId,\n            props = _objectWithoutProperties(newProps, ['sortId']);\n\n        return _react2.default.createElement(Component, _extends({\n          draggable: true,\n          onDragOver: this.dragOver,\n          onDragStart: this.sortStart,\n          onDragEnd: this.sortEnd,\n          onTouchStart: this.sortStart,\n          onTouchMove: this.dragOver,\n          onTouchEnd: this.sortEnd,\n          'data-id': sortId\n        }, props));\n      }\n    }]);\n\n    return Sortable;\n  }(_react2.default.Component);\n\n  Sortable.propTypes = {\n    items: _propTypes2.default.array.isRequired,\n    onSortItems: _propTypes2.default.func.isRequired,\n    sortId: _propTypes2.default.number\n  };\n\n  Sortable.defaultProps = {\n    moveInMiddle: false\n  };\n\n  return Sortable;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.swapArrayElements = swapArrayElements;\nexports.isMouseBeyond = isMouseBeyond;\n/*** Helper functions - they are decoupled because of testability */\n\n/**\n * @param {array} items\n * @param {number} indexFrom\n * @param {number} indexTo\n * @returns {array}\n */\nfunction swapArrayElements(items, indexFrom, indexTo) {\n  var item = items[indexTo];\n  items[indexTo] = items[indexFrom];\n  items[indexFrom] = item;\n  return items;\n}\n\n/**\n * @param {number} mousePos\n * @param {number} elementPos\n * @param {number} elementSize\n * @returns {boolean}\n */\nfunction isMouseBeyond(mousePos, elementPos, elementSize, moveInMiddle) {\n  var breakPoint;\n  if (moveInMiddle) {\n    breakPoint = elementSize / 2; //break point is set to the middle line of element\n  } else {\n    breakPoint = 0;\n  }\n  var mouseOverlap = mousePos - elementPos;\n  return mouseOverlap > breakPoint;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SortableComposition = require('./SortableComposition');\n\nObject.defineProperty(exports, 'sortable', {\n  enumerable: true,\n  get: function get() {\n    return _SortableComposition.SortableComposition;\n  }\n});\nObject.defineProperty(exports, 'Sortable', {\n  enumerable: true,\n  get: function get() {\n    return _SortableComposition.SortableComposition;\n  }\n});\nObject.defineProperty(exports, 'HORIZONTAL', {\n  enumerable: true,\n  get: function get() {\n    return _SortableComposition.HORIZONTAL;\n  }\n});\nObject.defineProperty(exports, 'VERTICAL', {\n  enumerable: true,\n  get: function get() {\n    return _SortableComposition.VERTICAL;\n  }\n});","/** @license React v16.13.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var l=require(\"object-assign\"),n=\"function\"===typeof Symbol&&Symbol.for,p=n?Symbol.for(\"react.element\"):60103,q=n?Symbol.for(\"react.portal\"):60106,r=n?Symbol.for(\"react.fragment\"):60107,t=n?Symbol.for(\"react.strict_mode\"):60108,u=n?Symbol.for(\"react.profiler\"):60114,v=n?Symbol.for(\"react.provider\"):60109,w=n?Symbol.for(\"react.context\"):60110,x=n?Symbol.for(\"react.forward_ref\"):60112,y=n?Symbol.for(\"react.suspense\"):60113,z=n?Symbol.for(\"react.memo\"):60115,A=n?Symbol.for(\"react.lazy\"):\n60116,B=\"function\"===typeof Symbol&&Symbol.iterator;function C(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function F(a,b,c){this.props=a;this.context=b;this.refs=E;this.updater=c||D}F.prototype.isReactComponent={};F.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(C(85));this.updater.enqueueSetState(this,a,b,\"setState\")};F.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction G(){}G.prototype=F.prototype;function H(a,b,c){this.props=a;this.context=b;this.refs=E;this.updater=c||D}var I=H.prototype=new G;I.constructor=H;l(I,F.prototype);I.isPureReactComponent=!0;var J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,c){var e,d={},g=null,k=null;if(null!=b)for(e in void 0!==b.ref&&(k=b.ref),void 0!==b.key&&(g=\"\"+b.key),b)K.call(b,e)&&!L.hasOwnProperty(e)&&(d[e]=b[e]);var f=arguments.length-2;if(1===f)d.children=c;else if(1<f){for(var h=Array(f),m=0;m<f;m++)h[m]=arguments[m+2];d.children=h}if(a&&a.defaultProps)for(e in f=a.defaultProps,f)void 0===d[e]&&(d[e]=f[e]);return{$$typeof:p,type:a,key:g,ref:k,props:d,_owner:J.current}}\nfunction N(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+a).replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g,Q=[];function R(a,b,c,e){if(Q.length){var d=Q.pop();d.result=a;d.keyPrefix=b;d.func=c;d.context=e;d.count=0;return d}return{result:a,keyPrefix:b,func:c,context:e,count:0}}\nfunction S(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>Q.length&&Q.push(a)}\nfunction T(a,b,c,e){var d=typeof a;if(\"undefined\"===d||\"boolean\"===d)a=null;var g=!1;if(null===a)g=!0;else switch(d){case \"string\":case \"number\":g=!0;break;case \"object\":switch(a.$$typeof){case p:case q:g=!0}}if(g)return c(e,a,\"\"===b?\".\"+U(a,0):b),1;g=0;b=\"\"===b?\".\":b+\":\";if(Array.isArray(a))for(var k=0;k<a.length;k++){d=a[k];var f=b+U(d,k);g+=T(d,f,c,e)}else if(null===a||\"object\"!==typeof a?f=null:(f=B&&a[B]||a[\"@@iterator\"],f=\"function\"===typeof f?f:null),\"function\"===typeof f)for(a=f.call(a),k=\n0;!(d=a.next()).done;)d=d.value,f=b+U(d,k++),g+=T(d,f,c,e);else if(\"object\"===d)throw c=\"\"+a,Error(C(31,\"[object Object]\"===c?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":c,\"\"));return g}function V(a,b,c){return null==a?0:T(a,\"\",b,c)}function U(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function W(a,b){a.func.call(a.context,b,a.count++)}\nfunction aa(a,b,c){var e=a.result,d=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?X(a,e,c,function(a){return a}):null!=a&&(O(a)&&(a=N(a,d+(!a.key||b&&b.key===a.key?\"\":(\"\"+a.key).replace(P,\"$&/\")+\"/\")+c)),e.push(a))}function X(a,b,c,e,d){var g=\"\";null!=c&&(g=(\"\"+c).replace(P,\"$&/\")+\"/\");b=R(b,g,e,d);V(a,aa,b);S(b)}var Y={current:null};function Z(){var a=Y.current;if(null===a)throw Error(C(321));return a}\nvar ba={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:J,IsSomeRendererActing:{current:!1},assign:l};exports.Children={map:function(a,b,c){if(null==a)return a;var e=[];X(a,e,null,b,c);return e},forEach:function(a,b,c){if(null==a)return a;b=R(null,null,b,c);V(a,W,b);S(b)},count:function(a){return V(a,function(){return null},null)},toArray:function(a){var b=[];X(a,b,null,function(a){return a});return b},only:function(a){if(!O(a))throw Error(C(143));return a}};\nexports.Component=F;exports.Fragment=r;exports.Profiler=u;exports.PureComponent=H;exports.StrictMode=t;exports.Suspense=y;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ba;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(C(267,a));var e=l({},a.props),d=a.key,g=a.ref,k=a._owner;if(null!=b){void 0!==b.ref&&(g=b.ref,k=J.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var f=a.type.defaultProps;for(h in b)K.call(b,h)&&!L.hasOwnProperty(h)&&(e[h]=void 0===b[h]&&void 0!==f?f[h]:b[h])}var h=arguments.length-2;if(1===h)e.children=c;else if(1<h){f=Array(h);for(var m=0;m<h;m++)f[m]=arguments[m+2];e.children=f}return{$$typeof:p,type:a.type,\nkey:d,ref:g,props:e,_owner:k}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:v,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:x,render:a}};exports.isValidElement=O;\nexports.lazy=function(a){return{$$typeof:A,_ctor:a,_status:-1,_result:null}};exports.memo=function(a,b){return{$$typeof:z,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return Z().useCallback(a,b)};exports.useContext=function(a,b){return Z().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return Z().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return Z().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return Z().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return Z().useMemo(a,b)};exports.useReducer=function(a,b,c){return Z().useReducer(a,b,c)};exports.useRef=function(a){return Z().useRef(a)};exports.useState=function(a){return Z().useState(a)};exports.version=\"16.13.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash = void 0;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;","/** @license React v0.19.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var f,g,h,k,l;\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var p=null,q=null,t=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a);p=null}catch(b){throw setTimeout(t,0),b;}},u=Date.now();exports.unstable_now=function(){return Date.now()-u};f=function(a){null!==p?setTimeout(f,0,a):(p=a,setTimeout(t,0))};g=function(a,b){q=setTimeout(a,b)};h=function(){clearTimeout(q)};k=function(){return!1};l=exports.unstable_forceFrameRate=function(){}}else{var w=window.performance,x=window.Date,\ny=window.setTimeout,z=window.clearTimeout;if(\"undefined\"!==typeof console){var A=window.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\");\"function\"!==typeof A&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")}if(\"object\"===\ntypeof w&&\"function\"===typeof w.now)exports.unstable_now=function(){return w.now()};else{var B=x.now();exports.unstable_now=function(){return x.now()-B}}var C=!1,D=null,E=-1,F=5,G=0;k=function(){return exports.unstable_now()>=G};l=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):F=0<a?Math.floor(1E3/a):5};var H=new MessageChannel,I=H.port2;H.port1.onmessage=\nfunction(){if(null!==D){var a=exports.unstable_now();G=a+F;try{D(!0,a)?I.postMessage(null):(C=!1,D=null)}catch(b){throw I.postMessage(null),b;}}else C=!1};f=function(a){D=a;C||(C=!0,I.postMessage(null))};g=function(a,b){E=y(function(){a(exports.unstable_now())},b)};h=function(){z(E);E=-1}}function J(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<K(e,b))a[d]=b,a[c]=e,c=d;else break a}}function L(a){a=a[0];return void 0===a?null:a}\nfunction M(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>K(n,c))void 0!==r&&0>K(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>K(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function K(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var N=[],O=[],P=1,Q=null,R=3,S=!1,T=!1,U=!1;\nfunction V(a){for(var b=L(O);null!==b;){if(null===b.callback)M(O);else if(b.startTime<=a)M(O),b.sortIndex=b.expirationTime,J(N,b);else break;b=L(O)}}function W(a){U=!1;V(a);if(!T)if(null!==L(N))T=!0,f(X);else{var b=L(O);null!==b&&g(W,b.startTime-a)}}\nfunction X(a,b){T=!1;U&&(U=!1,h());S=!0;var c=R;try{V(b);for(Q=L(N);null!==Q&&(!(Q.expirationTime>b)||a&&!k());){var d=Q.callback;if(null!==d){Q.callback=null;R=Q.priorityLevel;var e=d(Q.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?Q.callback=e:Q===L(N)&&M(N);V(b)}else M(N);Q=L(N)}if(null!==Q)var m=!0;else{var n=L(O);null!==n&&g(W,n.startTime-b);m=!1}return m}finally{Q=null,R=c,S=!1}}\nfunction Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var Z=l;exports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){T||S||(T=!0,f(X))};\nexports.unstable_getCurrentPriorityLevel=function(){return R};exports.unstable_getFirstCallbackNode=function(){return L(N)};exports.unstable_next=function(a){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var c=R;R=b;try{return a()}finally{R=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=Z;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=R;R=a;try{return b()}finally{R=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();if(\"object\"===typeof c&&null!==c){var e=c.delay;e=\"number\"===typeof e&&0<e?d+e:d;c=\"number\"===typeof c.timeout?c.timeout:Y(a)}else c=Y(a),e=d;c=e+c;a={id:P++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,J(O,a),null===L(N)&&a===L(O)&&(U?h():U=!0,g(W,e-d))):(a.sortIndex=c,J(N,a),T||S||(T=!0,f(X)));return a};\nexports.unstable_shouldYield=function(){var a=exports.unstable_now();V(a);var b=L(N);return b!==Q&&null!==Q&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<Q.expirationTime||k()};exports.unstable_wrapCallback=function(a){var b=R;return function(){var c=R;R=b;try{return a.apply(this,arguments)}finally{R=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction valueEqual(a, b) {\n  if (a === b) return true;\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return valueEqual(item, b[index]);\n    });\n  }\n\n  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n\n  if (aType !== bType) return false;\n\n  if (aType === 'object') {\n    var aValue = a.valueOf();\n    var bValue = b.valueOf();\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) return false;\n\n    return aKeys.every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport { selectOrCreate } from './FancyUtils';\n\n\nfunction selectPopup(popupName) {\n    if ($(`#popup_container .${popupName}`).length > 0) {\n        if (popupName) {\n            return $.dialog(popupName);\n        }\n    }\n    return null;\n}\n\nexport function openPopup(popupName, bindOverlayData = true) {\n    const popup = selectPopup(popupName);\n    if (popup) {\n        if (bindOverlayData) {\n            popup.$obj.data('via-overlay', true);\n            popup.$obj.one('close', function() {\n                $(this).data('via-overlay', false);\n            });\n        }\n        popup.open();\n    }\n}\n\nexport function closePopup(popupName) {\n    const popup = selectPopup(popupName);\n    if (popup) {\n        popup.$obj.data('via-overlay', false);\n        popup.close();\n    }\n}\n\nconst popupContainer = document.getElementById('popup_container');\nexport function renderPopup(PopupComponent, attrs, callback) {\n    // unless `attrs.openOnMount` is explicitly set as `false` and callback is set, it will open right after mount.\n    attrs = attrs || {};\n    if (attrs.openOnMount !== false && callback == null) {\n        callback = function () {\n            openPopup(PopupComponent.popupName);\n        };\n    }\n\n    if (!PopupComponent.popupName) {\n        console.warn(`renderPopup: Please set \\`popupName\\` property of ${PopupComponent.name}`);\n    }\n    return ReactDOM.render(\n        <PopupComponent {...attrs} />,\n        selectOrCreate(`.popup.${PopupComponent.popupName || ''}`, popupContainer),\n        callback\n    );\n}\n","import {\n    ThingV1Response,\n    ThingObject,\n    FancyUserConfig,\n    SalesResponse,\n} from \"ftypes\";\nimport { BaseSyntheticEvent } from \"react\";\n\nconst __KEY__ = '__F';\n\nconst { _ } = window;\n\nwindow.requestIdleCallback = window.requestIdleCallback || function(cb: Function, ...args: any[]) {\n    window.setTimeout(cb, 0, ...args);\n};\n\n// Polyfills\nNumber.isNaN = Number.isNaN || function isNaN(value) {\n    return value !== value;\n};\n\nNumber.isInteger = Number.isInteger || function(value) {\n    return typeof value === \"number\" &&\n           isFinite(value) &&\n           Math.floor(value) === value;\n};\n\n// https://ponyfoo.com/articles/ecmascript-string-padding\nexport function padStart(text: string, max: number, mask: string) {\n  const cur = text.length;\n  if (max <= cur) {\n    return text;\n  }\n  const masked = max - cur;\n  let filler = String(mask) || ' ';\n  while (filler.length < masked) {\n    filler += filler;\n  }\n  const fillerSlice = filler.slice(0, masked);\n  return fillerSlice + text;\n}\n\nexport function zfill(text: string, max: number) {\n    return padStart(text, max, '0');\n}\n\n// Select element or create element via selector\nexport function selectOrCreate(selector:string, container: Element = document.body, element: string = 'div'): Element {\n    var attr;\n    var attrValue;\n    if (selector[0] === '.') {\n        attr = 'class';\n        var classNames = selector.split('.').filter(e=>e);\n        if (classNames.length > 1) { // .abc.def\n            attrValue = classNames.join(' ');\n        } else { // .abc\n            attrValue = selector.substr(1);\n        }\n    } else if (selector[0] === '#') {\n        attr = 'id';\n        attrValue = selector.substr(1);\n    } else {\n        // TODO: error handling - redirect to the page\n        throw new Error('non-recognized selector:' + selector);\n    }\n\n    var target = $(container).find(selector).get(0);\n    if (target == null) {\n        target = $(`<${element} ${attr}=\"${attrValue}\" />`).appendTo(container).get(0);\n    }\n    return target;\n}\n\ninterface URLMeta {\n    href?: string | null;\n    type?: string;\n    id?: string;\n}\nconst thingRegex = /^\\/(sales|things)\\/(\\d+)/;\nexport function extractMetaFromURL(url: string) {\n    url = stripDomain(url);\n    const match = url.match(thingRegex); // [\"/(sales|things)/1234\", \"sales\", \"1234\"] | null\n    const ret: URLMeta = {};\n    if (match != null) {\n        ret.href = stripURL(url); // Stripped relative URL\n        ret.type = match[1];      // either { 'sales' | 'things' }\n        ret.id = match[2];        // Integer\n    }\n    return ret;\n}\n\nconst articleRegex = /^\\/(articles)\\/([^\\?]+)/;\nexport function extractMetaFromArticleURL(url: string) {\n    url = stripDomain(url);\n    const match = url.match(articleRegex); // [\"/articles/test\", \"articles\", \"test\"] | null\n    const ret: URLMeta = {};\n    if (match != null) {\n        ret.href = stripURL(url); // Stripped relative URL\n        ret.type = match[1];      // always { 'article' }\n        ret.id = match[2];        // String\n    }\n    return ret;\n}\n\nfunction createElementParser(url: string) {\n    const a = document.createElement('a');\n    a.setAttribute('href', url);\n    return a;\n}\n\nfunction stripDomain(url: string) {\n    if (url) {\n        const parser = createElementParser(url);\n        let result = parser.pathname + parser.search + parser.hash;\n        // IE FIX\n        if (result.indexOf('/') !== 0) {\n            result = '/' + result\n        }\n        return result\n    } else {\n        return '/';\n    }\n}\n\nexport function getObjectTypeFromUrl(url: string) {\n    const path = stripDomain(url);\n    if (thingRegex.test(path)) {\n        return 'Thing';\n    } else if (articleRegex.test(path)) {\n        return 'Article';\n    } else {\n        return null;\n    }\n}\n\n// Due to <a href=# /> -> a.pathname = location.pathname, we need cleaner\nexport function getPathname(aElement: HTMLAnchorElement) {\n    if (aElement.pathname === location.pathname) {\n        return '';\n    } else {\n        return aElement.pathname;\n    }\n}\n\n// http://domain/things/1234 => /things/1234\n// deprecated, use stripDomain()\nfunction stripURL(url: string) {\n    const stripped = stripDomain(url);\n    if (stripped) {\n        return stripped;\n    } else {\n        return null;\n    }\n}\n\nexport function floatFormatMinusTwo(number: number) {\n    // simulates effect of floatformat:-2|intcomma\n    var num = numberFormat(number, 2);\n    var splitted = numberFormat(number, 2).split('.');\n    if (splitted[1] === '00') {\n        return splitted[0];\n    } else return num;\n}\n\n// Either empty or null/undefined; Python-side falsy values like {}, []\nexport function isEmpty(obj: any) : boolean {\n    return obj == null ||\n           obj === ''  ||\n           (obj instanceof Array && obj.length === 0) ||\n           (typeof obj === 'object' && Object.getOwnPropertyNames(obj).length === 0);\n}\n\nexport function setCaretPos(element: HTMLInputElement, position: number) {\n    element.focus();\n    if (element.setSelectionRange){\n        element.setSelectionRange(position, position);\n    } else if (element.createTextRange) {\n        var range = element.createTextRange();\n        range.moveEnd('character', position);\n        range.collapse(false);\n        range.select();\n    }\n};\n\nexport function getCaretPos(element: HTMLInputElement) {\n    if (element.selectionStart) {\n        return element.selectionStart;\n    } else if (document.selection) {\n        var range = document.selection.createRange();\n        range.moveStart('character', -element.value.length);\n        return range.text.length;\n    } else {\n        return -1;\n    }\n}\n\nexport var KEYS = {\n    TAB: 9,\n    ENTER: 13,\n    SPACE: 32,\n    ESC: 27,\n    UP: 38,\n    DOWN: 40,\n    LEFT: 37,\n    RIGHT: 39,\n    SEMICOLON: 186,\n    COMMA: 188 // ,\n};\n\n// Using DOM high-level event triggering system for React to recognize event\nexport function triggerEvent(DOMRef: Element, eventName: string, data: Object) {\n    var event;\n    if (data) {\n        event = new CustomEvent(eventName, {\n            'bubbles'    : true, // Whether the event will bubble up through the DOM or not\n            'cancelable' : true, // Whether the event may be canceled or not\n            'detail': data\n        });\n    } else {\n        event = new Event(eventName, {\n            'bubbles'    : true, // Whether the event will bubble up through the DOM or not\n            'cancelable' : true  // Whether the event may be canceled or not\n        });\n    }\n    return DOMRef.dispatchEvent(event);\n}\n\n// Deep merge for reducers\nexport function update(state: unknown, next: unknown) {\n    var args = [true, {}, state];\n    if (next) {\n        args.push(next)\n    }\n    return $.extend.apply(null, args);\n}\n\n// 'Shallow merge'\nexport function updateShallow(state: unknown, next: unknown) {\n    var args = [{}, state];\n    if (next) {\n        args.push(next)\n    }\n    return _.extend.apply(null, args);\n}\n\nexport function getDisplay(display: unknown) {\n    return {\n        display: display ? 'block' : 'none'\n    };\n}\n\n// '<a>b</a>' => 'b'\nexport function stripTags(html: string) {\n    var div = document.createElement(\"div\");\n    div.innerHTML = html;\n    return div.textContent || div.innerText || null;\n}\n\nexport function isPlainLeftClick(event: JQueryEventObject) : boolean {\n    return !(event.button !== 0 || event.altKey || event.metaKey || event.ctrlKey || event.shiftKey);\n}\n\nfunction testLegacyContextLocation() {\n    try {\n        // Root - /\n        if (location.pathname === '/' && $('#container-wrapper .timeline').length > 0) {\n            return true;\n        // Search page - /search?q=foo\n        } else if (/\\/search\\?q\\=/.test(location.href)) {\n            return true;\n        // User page - /foo\n        } else if (\n            $('#container-wrapper .wrapper-content.profile-section').length > 0 &&\n            /^\\/((?!\\/).)*$/.test(location.pathname)\n        ) {\n            return true;\n        } else if ('/shop' === location.pathname || /^\\/shop\\/.*/.test(location.pathname)) {\n            return true;\n        // <username | shopname>/lists/<id>\n        // <shopname>/collection/<id>\n        } else if (\n            /.*\\/list\\/\\d+/.test(location.pathname) ||\n            /.*\\/collection\\/\\d+/.test(location.pathname)\n        ) {\n            return true;\n        }\n    } catch(e) {}\n\n    return false;\n}\n\nlet _isHomepage: boolean;\nexport function isHomepage() {\n    if (_isHomepage == null) {\n        _isHomepage = location.pathname === '/'\n    }\n    return _isHomepage;\n}\n\nlet _isStream: boolean;\nexport function isStream() {\n    if (_isStream == null) {\n        return _isStream = testLegacyContextLocation();\n    } else {\n        return _isStream;\n    }\n}\n\nexport function promisifiedFetchImage(src: string, resolveCallback: any, timeout: number) {\n    const deferred = $.Deferred();\n    deferred.then(resolveCallback);\n\n    if (timeout) {\n        setTimeout(function () { deferred.resolve() }, timeout);\n    }\n\n    const img = new Image();\n    img.onload = () => { deferred.resolve(); };\n    img.onerror = () => { deferred.resolve(); };\n    img.src = src;\n}\n\nexport function debounceUntilTimeout(fun: Function, delay: number, context = null) {\n    let timer: any;\n    return function delayedFunctionWrapper(...args: unknown[]) {\n        clearTimeout(timer);\n        args.unshift(context);\n        timer = setTimeout(fun.bind.apply(fun, args), delay);\n    };\n}\n\nexport function debounceEventUntilTimeout(eventHandler: Function, delay: number) {\n    let timer: any;\n    return (e: BaseSyntheticEvent) => {\n        e.persist();\n        clearTimeout(timer);\n        timer = setTimeout(() => eventHandler(e), delay);\n    }\n}\n\nconst numberUnitPostfixes = ['', 'K', 'M', 'B', 'T'];\nexport function getConciseNumberString(_num: string | number) {\n    let num = Number(_num);\n    if (_.isNaN(num) || !_.isNumber(num)) {\n        return ''\n    }\n    let pos = 0\n    while (num > 1000) {\n        num = num / 1000\n        pos += 1\n    }\n    if (num % 1 !== 0) { // has some number after decimal point, i.e.) 10.5\n        return num.toFixed(1) + numberUnitPostfixes[pos]\n    } else { // integer i.e.) 10\n        return String(num) + numberUnitPostfixes[pos]\n    }\n}\n\n// humanize.js\nexport function numberFormat(number: number, decimals: number, decPoint?: string, thousandsSep?: string) : string {\n    decimals = isNaN(decimals) ? 2 : Math.abs(decimals);\n    decPoint = (decPoint === undefined) ? '.' : decPoint;\n    thousandsSep = (thousandsSep === undefined) ? ',' : thousandsSep;\n\n    var sign = number < 0 ? '-' : '';\n    number = Math.abs(+number || 0);\n\n    var intPartNum = parseInt(number.toFixed(decimals), 10);\n    var intPart = intPartNum + '';\n    var j = intPart.length > 3 ? intPart.length % 3 : 0;\n\n    return sign + (j ? intPart.substr(0, j) + thousandsSep : '') + intPart.substr(j).replace(/(\\d{3})(?=\\d)/g, '$1' + thousandsSep) + (decimals ? decPoint + Math.abs(number - intPartNum).toFixed(decimals).slice(2) : '');\n}\n\n// Number formatting utility i.e) 0.1 => 10%\nexport function proportionFormat(number: string | number, isFixed: boolean) : string {\n    const num = Number(number);\n    if (_.isNumber(num) && !_.isNaN(num)) {\n        if (isFixed) {\n            return (num * 100).toFixed(0) + '%';\n        } else {\n            return (num * 100) + '%';\n        }\n    } else {\n        return '';\n    }\n}\n\nexport function isStaticPage() : boolean {\n    return document.body.className.indexOf('static-ot') !== -1;\n}\n\nexport function isStaticArticlePage() : boolean {\n    return document.body.className.indexOf('static-article') !== -1;\n}\n\n// http://stackoverflow.com/questions/6393943/convert-javascript-string-in-dot-notation-into-an-object-reference\nexport function index(obj: Object, is: string, value : any): any {\n    if (typeof is == 'string') {\n        return index(obj, is.split('.'), value);\n    } else if (is.length === 1 && value !== undefined) {\n        obj[is[0]] = value;\n        return value;\n    } else if (is.length === 0) {\n        return obj;\n    } else if (obj[is[0]] !== undefined) {\n        return index(obj[is[0]], is.slice(1), value);\n    } else {\n        // was unable to reach via selector\n    }\n}\n\n// export function dateFormat(format, datetime) {\n//     return $.datepicker ? $.datepicker.formatDate(format, datetime) : datetime;\n// }\n\nexport function log(...args: unknown[]) {\n    if (process.env.NODE_ENV !== 'production') {\n        console.debug.apply(console, args);\n    }\n}\n\nexport function isVisible(elm: Element) {\n    const vpH = $(window).height(); // Viewport Height\n    const st = $(window).scrollTop(); // Scroll Top\n    const $elm = $(elm);\n    const offset= $elm.offset();\n    const elementHeight = $elm.height();\n\n    if (offset !== undefined && vpH !== undefined && st !== undefined && elementHeight !== undefined) {\n        const y = offset.top;\n        return ((y < (vpH + st)) && (y > (st - elementHeight)));\n    }\n}\n\n// http://stackoverflow.com/a/32533637/1189421\n// Object deduping / boxed value is not supported.\nexport function dedupeArray(vals: any[]): unknown[] | null {\n    if (vals) {\n        return vals.sort().reduce((a, b) => {\n            if (b !== a[0]) {\n                a.unshift(b);\n            }\n            return a;\n        }, []);\n    } else {\n        return null;\n    }\n}\n\n// Access global state\nexport function getFancyDepsRoot() {\n    window[__KEY__] = window[__KEY__] || {};\n    return window[__KEY__];\n}\n\n// eitherFancy('jQuery', $ => $(...)); -> $(...)\nexport function eitherFancy(namespace: string, doWith = (Deps: any) => Deps) /*:object? */{\n    if (window[__KEY__]) {\n        if (window[__KEY__][namespace]) {\n            return doWith(window[__KEY__][namespace]);\n        }\n    } else {\n        getFancyDepsRoot();\n    }\n    return null;\n}\n\nexport function didClickOn($targ: JQuery, selector: string) {\n    return $targ.parents(selector).length > 0 ||\n           $targ.is(selector);\n}\n\nexport const xmlUtil = {\n    isSuccess(xml: string) {\n        const sc = $(xml).find(\"status_code\");\n        return sc.length > 0 && sc.text() === '1';\n    },\n    isFail(xml: string) {\n        const sc = $(xml).find(\"status_code\");\n        return sc.length > 0 && sc.text() === '0';\n    }\n};\n\nexport function MP(...args: unknown[]) {\n    if (process.env.NODE_ENV === 'production') {\n        window.track_event && window.track_event(...args)\n    }\n}\n\n// ?a=1 -> ['a', '1']\nexport function getLocationArgPairs(key: string, originalArgStr:string=location.search) {\n    const argStr = originalArgStr.substr(1, originalArgStr.length);\n    if (argStr) {\n        const args = argStr.split('&').map(e => e.split('='));\n        if (key) {\n            let ret;\n            args.some(argPair => {\n                if (argPair[0] === key) {\n                    ret = argPair;\n                }\n            });\n            if (ret) {\n                return ret;\n            }\n        } else {\n            return args;\n        }\n    }\n}\n\nexport function formatDuration(value: string | number) {\n    if (value == null) {\n        // console.warn('formatDuration: undefined value', value)\n        return '00:00';\n    }\n    const val = Number(value);\n    if (_.isNaN(val)) {\n        // console.warn('formatDuration: value causing NaN', value)\n        return '00:00';\n    }\n    const remainder = (val % 3600) | 0;\n    const minutes = (remainder / 60) | 0;\n    const seconds = (remainder % 60) | 0;\n    return `${zfill(String(minutes), 2)}:${zfill(String(seconds), 2)}`;\n}\n\nexport function minmax(value: number, lb: number, ub: number) {\n    return Math.max(Math.min(value, ub), lb);\n}\n\nexport { openPopup, closePopup, renderPopup } from './PopupHelper';\nexport { cdnUtils, schemeless } from './CDNUtils';\n\nexport function mergeObjectArgs(args: unknown[]) {\n    return args.reduce((p, n)=> $.extend(true, p, n), null);\n}\n\n\nfunction closestUntil(startingElement: Element | null, targetElement : Element | null): Element | null {\n    let start = startingElement;\n    while (start != null) {\n        if (start === targetElement) return targetElement;\n        if (start === document.body || start === document.documentElement) {\n            return null;\n        }\n        start = start.parentElement;\n    }\n    return null;\n}\n\nexport class ClickOutside {\n    eventKey: string = '';\n    component?: import('react').Component = undefined;\n    popupElementRefKey: string = '';\n\n    constructor({ component, popupElementRefKey = 'popupElement' } : { component: import('react').Component, popupElementRefKey: string }) {\n        const key = Math.random().toString().substr(2, 8);\n        this.eventKey = \"click.attachClickOutside\" + key;\n        this.component = component;\n        this.popupElementRefKey = popupElementRefKey;\n    }\n\n    attached = false;\n    handleAttach = (closePopupFunction: Function) => {\n        if (this.attached || closePopupFunction == null) {\n            return;\n        }\n        const { component, eventKey, handleDetach, popupElementRefKey } = this;\n        $(document.body).on(eventKey, function(event: JQueryOldTriggeredEvent) {\n            if (!event.isTrigger &&\n                $.contains(document.body, event.target) && // check if element exists on DOM\n                closestUntil(event.target, component[popupElementRefKey]) === null // is target element exist below popup element?\n            ) {\n                closePopupFunction(component);\n                handleDetach();\n            }\n        });\n        this.attached = true;\n    }\n\n    handleDetach = () => {\n        $(document.body).off(this.eventKey);\n        this.attached = false;\n    }\n\n    destroy() {\n        delete this.component;\n        this.handleDetach();\n    }\n}\n\nexport { copyToClipboard } from './CopyToClipboard'\n\nexport function isClipboardSupported() : boolean {\n    return document.queryCommandSupported != null && document.queryCommandSupported('copy');\n}\n\nfunction isSaleResponse(sales: SalesResponse[]) : sales is SalesResponse[] {\n    return sales != null && sales[0] != null;\n}\n\n// Adapt server response (thing.to_v1 -> rest API)\nexport function convertThingsV1ToRest(things: ThingV1Response[]): ThingObject[] {\n    return things.map((thing: ThingV1Response) => {\n        const converted: ThingObject = Object.assign({\n            sales_available: false,\n            id: thing.id_str,\n            name: thing.name,\n            fancyd: thing[\"fancy'd\"],\n            thumb_image_url_310: thing.thumb_image_url_310,\n            thumb_image_url_558: thing.thumb_image_url_558,\n            fancyd_count: thing.fancys,\n            image: {\n                src: thing.image_url,\n                width: thing.image_url_width,\n                height: thing.image_url_height\n            },\n            owner: thing.user,\n            html_url: window.parseURL(thing.url).pathname,\n            fancyd_users: thing.fancyd_users,\n            sales: thing.sales,\n        }, thing);\n\n        const { sales } = thing;\n        if (isSaleResponse(sales)) {\n            const sales: SalesResponse = thing.sales[0];\n            if (sales.id == null && sales.sale_id != null) {\n                sales.id = sales.sale_id\n            }\n            // converted.sales.waiting = sales.waiting;\n            converted.sales = sales;\n            converted.sales.quantity = sales.remaining_quantity;\n            converted.sales.price = sales.fancy_price;\n            converted.sales_available = sales.available_for_sale;\n        } else {\n            converted.sales = null;\n        }\n\n        // Flag for cache\n        converted.isCrawled = true;\n        return converted;\n    });\n}\nexport function isElementOutsideViewport(element: Element, excludingElement: { element: Element, type: string }) {\n    let elementRect = element.getBoundingClientRect();\n    let upperBound = 0;\n    let leftBound = 0;\n    if (excludingElement) {\n        const { element, type } = excludingElement;\n        if(element){\n            const exclusionRect = element.getBoundingClientRect();\n            if (type === 'top') {\n                upperBound = exclusionRect.bottom; // exclusion on top of el (header, etc)\n            } else if (type === 'left') {\n                leftBound = exclusionRect.right; // exclusion on left of el (sidebar, etc)\n            } // right, bottom is TODO\n        }\n    }\n    const html = document.documentElement\n    const lowerBound = window.innerHeight || html.clientHeight\n    const rightBound = window.innerWidth || html.clientWidth\n    const { bottom, top, left, right } = elementRect\n\n    return (\n        (top <= upperBound && bottom <= upperBound) ||\n        (top >= lowerBound && bottom >= upperBound) ||\n        (left <= leftBound && right <= leftBound) ||\n        (left >= rightBound && right >= rightBound)\n    );\n}\n\nlet _FancyUser : FancyUserConfig = {\n    loggedIn: false,\n    merchant: false,\n    id: null,\n};\n\nif (window.__FancyUser) {\n    Object.assign(_FancyUser, window.__FancyUser);\n}\nexport const FancyUser = _FancyUser;\n\nconst locationHostname = `${location.protocol}//${location.hostname}`\nexport function stripPathname(href: string) {\n    const sp = href.split(locationHostname)\n    return sp.length > 1 ? sp[1] : sp[0]\n}\n\n// https://gist.github.com/ijy/6094414\nexport function cartesianProductOf(...args) {\n    return _.reduce(args, (a, b) => {\n        return _.flatten(_.map(a, (x) => {\n            return _.map(b, (y) => {\n                return x.concat([y]);\n            });\n        }), true);\n    }, [ [] ]);\n}\n\nexport function jQueryPromiseAll(arrayOfPromises: Array<Promise<unknown>>) {\n    return jQuery.when.apply(jQuery, arrayOfPromises).then(function() {\n        return Array.prototype.slice.call(arguments, 0);\n    });\n}\n\nconst _loaded = {};\nexport function loadCss(AppName: string) {\n    const B = window.Bundle;\n    if (_loaded[AppName]) {\n        return;\n    }\n    if (B && B.cssToLoad && B.cssToLoad[AppName] && B.cssToLoad[AppName].length > 0) {\n        while (B.cssToLoad[AppName].length > 0) {\n            const nextUrl = B.cssToLoad[AppName].pop();\n            $(document.head).append(`<link href=\"${nextUrl}\" rel=\"stylesheet\">`);\n            _loaded[AppName] = true;\n        }\n    }\n}\n\nconst _alertify = window.alertify || {\n    alert(...args: unknown[]) { window.alert(...args); },\n    prompt(message: string, fn?: Function | undefined, placeholder?: string | undefined, cssClass?: string | undefined) {\n        if (fn) {\n            let msg : string | undefined | null;\n            if (placeholder) {\n                msg = window.prompt(message, placeholder)\n            } else {\n                msg = window.prompt(message)\n            }\n            if (msg === null) {\n                fn(false);\n            } else {\n                fn(true, msg);\n            }\n        } \n    },\n    confirm(message: string, fn?: Function | undefined, cssClass?: string | undefined) {\n        if (fn) {\n            fn(window.confirm(message));\n        }\n    },\n    set: function() {},\n    labels: { ok: 'OK', cancel: 'Cancel' },\n};\nexport const alertify = _alertify;\n\n// https://code.jquery.com/jquery-3.3.1.js\nexport function escapeSelector(sel: string) { // $.escapeSelector()\n    var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g;\n    var fcssescape = function(ch: string, asCodePoint: boolean) {\n        if (asCodePoint) {\n            // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n            if (ch === \"\\0\") {\n                return \"\\uFFFD\";\n            }\n            // Control characters and (dependent upon position) numbers get escaped as code points\n            return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\n        }\n        // Other potentially-special ASCII characters get backslash-escaped\n        return \"\\\\\" + ch;\n    };\n\n    return (sel + '').replace(rcssescape, fcssescape);\n};\n\nlet isSafari_cac : undefined | boolean;\nexport const isSafari = () => {\n    if (isSafari_cac === undefined) {\n        isSafari_cac = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    }\n    return isSafari_cac;\n};\n","class CDNUtils {\n    HOSTS = {};\n\n    constructor() {\n        // init hosts\n        this.makeServer('THINGD_MEDIA', 'thingd-media-ec.thefancy.com');\n        this.makeServer('THEFANCY_MEDIA', 'thefancy-media-ec.thefancy.com');\n        this.makeServer('RESIZE_IMAGE', 'resize-ec.thefancy.com');\n        this.makeServer('STATICFILES', 'static-ec.thefancy.com');\n        this.makeServer('FANCY_WEB', 'site-ec.thefancy.com');\n    }\n\n    makeServer(type, template) {\n        const { HOSTS } = this;\n        if (!HOSTS[type]) {\n            HOSTS[type] = [];\n        }\n        HOSTS[type].push(template);\n    }\n\n    getResizeURL(url, size, method, isSchemeless, cdn) {\n        var parts = window.parseURL(url);\n        var fixedName = (/test_default/.test(parts.pathname)) ? 'thingd' : 'thefancy';\n        var path = `/resize/${method ? method + '/' : ''}${size}/${fixedName}${parts.pathname}`;\n\n        var resizeUrl;\n        if (cdn) {\n            resizeUrl = this.getCDNURL(path);\n        } else {\n            resizeUrl = `${parts.protocol}//${parts.hostname}${path}`;\n        }\n\n        if (isSchemeless) {\n            resizeUrl = schemeless(resizeUrl);\n        }\n        return resizeUrl;\n    }\n\n    getCDNURL(url) {\n        const { HOSTS } = this;\n        let candidates;\n        const parts = window.parseURL ? window.parseURL(url) : {};\n        let path = parts.pathname;\n\n        if (parts.hostname == 's3.amazonaws.com') {\n            if (/\\/media\\.thefancy\\.com/.test(parts.pathname)) {\n                path = parts.pathname.replace(/^\\/media\\.thefancy\\.com/, '');\n                candidates = HOSTS.THEFANCY_MEDIA;\n            } else if (/\\/media\\.thingd\\.com/.test(parts.pathname)) {\n                path = parts.pathname.replace(/^\\/media\\.thingd\\.com/, '');\n                candidates = HOSTS.THINGD_MEDIA;\n            }\n        } else if (/^\\/(test_)?default/.test(path)) {\n            candidates = HOSTS.THINGD_MEDIA;\n        } else if (/^\\/_ui/.test(path)) {\n            candidates = HOSTS.FANCY_WEB;\n        } else if (/^\\/(resize|mark)/.test(path)) {\n            candidates = HOSTS.RESIZE_IMAGE;\n        } else if (/^\\/_static_gen/.test(path)) {\n            candidates = HOSTS.STATICFILES;\n        } else {\n            candidates = HOSTS.THEFANCY_MEDIA;\n        }\n\n        const hostname = candidates[sumChars(path.replace(/[^a-zA-Z0-9_]+/g,'')) % candidates.length];\n\n        return '//'+ hostname + path;\n    }\n\n    // Get REST URI for given resized_schemeless_image arguments\n    // See `fancy.templatetags.resized_images`\n    resizedSchemelessImage(url, size, method) {\n        // FIXME: some url (like cover image, user image, etc) gives weird url\n        //        and `window.parseURL()` attaches it to location.pathname.\n        //        This is temporary fix for it\n        if (url.match(/^(CoverImages\\/|UserImages\\/)/)) {\n            url = `/${url}`\n        }\n        return this.getResizeURL(url, size, method, true, true);\n    }\n}\n\nfunction sumChars(str) {\n    var sum = 0, i, c;\n    for (i=0,c=str.length; i < c; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\nexport function schemeless(url) {\n    var match = (typeof url === 'string') && url.match(/[http|https]\\:(\\/\\/.*)/);\n    return (match == null) ? url : match[1];\n}\n\nexport const cdnUtils = new CDNUtils();\n","// built from 'webpack.FancyUtils.config.js'\n// loaded from 'FancyUtils.js' and exported as global module 'fancymixin'\nimport React from 'react';\nimport { schemeless as getSchemelessURL } from './FancyUtils';\n\n\nexport const initialDisplayNone = { display: 'none' }; // DEPRECATED\nexport const Display = {\n    None: { display: 'none' },\n    Block: { display: 'block' },\n    Inline: { display: 'inline' },\n    InlineBlock: { display: 'inline-block' },\n    NoneIf(cond) {\n        return cond ? Display.None : undefined;\n    },\n    BlockIf(cond) {\n        return cond ? Display.Block : undefined;\n    },\n    InlineIf(cond) {\n        return cond ? Display.Inline : undefined;\n    },\n    InlineBlockIf(cond) {\n        return cond ? Display.InlineBlock : undefined;\n    }\n};\n\n// Image using background-image\nexport const BGImage = ({ alt, className, schemeless, url }) => {\n    var backgroundImage = '';\n    if (url) {\n        backgroundImage = `url(${schemeless ? getSchemelessURL(url) : url})`;\n    }\n\n    return <img src=\"/_ui/images/common/blank.gif\"\n                style={{ backgroundImage }}\n                className={className}\n                alt={alt} />\n}\n\n// measurePointElement = .figure-item.btn-more\n// https://app.asana.com/0/260912680807/218844368911219\nexport function getElementGapFromHeader(measurePointElement/*:Element*/) /*:number*/{\n    const $headerFeatured = $('#header .header-featured');\n    const $header = $('#header')\n    let destHeight = $header.height()\n    if ($headerFeatured.attr('data-expanded') === 'true') {\n        destHeight += $headerFeatured.height()\n    }\n    return ~(document.body.scrollTop - $(measurePointElement).offset().top + destHeight) + 1 // convert - => + / + => -, integer\n}\n","import MediumEditor from 'medium-editor';\n\nconst Anchor = MediumEditor.extensions.form.extend({\n    /* Anchor Form Options */\n\n    /* customClassOption: [string]  (previously options.anchorButton + options.anchorButtonClass)\n      * Custom class name the user can optionally have added to their created links (ie 'button').\n      * If passed as a non-empty string, a checkbox will be displayed allowing the user to choose\n      * whether to have the class added to the created link or not.\n      */\n    customClassOption: null,\n\n    /* customClassOptionText: [string]\n      * text to be shown in the checkbox when the __customClassOption__ is being used.\n      */\n    customClassOptionText: 'Button',\n\n    /* linkValidation: [boolean]  (previously options.checkLinkFormat)\n      * enables/disables check for common URL protocols on anchor links.\n      */\n    linkValidation: false,\n\n    /* placeholderText: [string]  (previously options.anchorInputPlaceholder)\n      * text to be shown as placeholder of the anchor input.\n      */\n    placeholderText: 'http://',\n\n    /* targetCheckbox: [boolean]  (previously options.anchorTarget)\n      * enables/disables displaying a \"Open in new window\" checkbox, which when checked\n      * changes the `target` attribute of the created link.\n      */\n    targetCheckbox: false,\n\n    /* targetCheckboxText: [string]  (previously options.anchorInputCheckboxLabel)\n      * text to be shown in the checkbox enabled via the __targetCheckbox__ option.\n      */\n    targetCheckboxText: 'Open in new window',\n\n    // Options for the Button base class\n    name: 'anchor2',\n    action: 'createLink',\n    aria: 'link',\n    tagNames: ['a'],\n    contentDefault: '<b>#</b>',\n    contentFA: '<i class=\"fa fa-link\"></i>',\n\n    activeAnchor: null,\n\n    init: function () {\n        MediumEditor.extensions.form.prototype.init.apply(this, arguments);\n\n        this.subscribe('editableKeydown', this.handleKeydown.bind(this));\n        this.subscribe('hideToolbar', this.handleHideToolbar.bind(this));\n    },\n\n    handleHideToolbar() {\n        var val = this.getInput().value\n        if (val.trim() === '') {\n            if (this.activeAnchor) {\n                var parent = this.activeAnchor.parentElement;\n                if (parent) {\n                    $(this.activeAnchor).replaceWith(this.activeAnchor.textContent)\n                    parent.normalize()\n                    this.activeAnchor.remove()\n                }\n                this.activeAnchor = null\n            }\n        } else {\n            this.activeAnchor.setAttribute('href', this.checkLinkFormat(val))\n            this.activeAnchor.className = ''\n            this.activeAnchor = null\n        }\n    },\n    // Called when the button the toolbar is clicked\n    // Overrides ButtonExtension.handleClick\n    handleClick: function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if ($('.medium-editor-action-quote2.medium-editor-button-active').length > 0) {\n            return false;\n        }\n\n        var range = MediumEditor.selection.getSelectionRange(this.document);\n        if (range.startOffset === range.endOffset) { // Nothing selected.\n            this.base.restoreSelection();\n            range = MediumEditor.selection.getSelectionRange(this.document);\n        }\n\n        if (range.startContainer.nodeName.toLowerCase() === 'a' ||\n            range.endContainer.nodeName.toLowerCase() === 'a' ||\n            MediumEditor.util.getClosestTag(MediumEditor.selection.getSelectedParentElement(range), 'a')) {\n            // return this.execAction('unlink');\n            this.initiatedFormDisplay(true);\n        }\n\n        if (!this.isDisplayed()) {\n            this.initiatedFormDisplay(false);\n        }\n\n        return false;\n    },\n\n    initiatedFormDisplay(edit) {\n        if (edit) {\n            var $editing = $('.medium-insert-active a')\n            this.showForm({ value: $editing.attr('href') });\n            this.base.restoreSelection(); // this part is overrided from original\n            $editing.addClass('active-anchor');\n        } else {\n            this.showForm();\n            this.base.restoreSelection(); // this part is overrided from original\n            this.base.createLink(this.createTempOpt())\n        }\n        this.activeAnchor = null;\n        this.activeAnchor = this.getActiveAnchor();\n    },\n\n    activeAnchorClassName: 'active-anchor',\n    createTempOpt() {\n        var opts = this.getFormOpts('#')\n        opts.buttonClass = this.activeAnchorClassName\n        return opts\n    },\n\n    getActiveAnchor() {\n        return this.activeAnchor || this.document.querySelector('.' + this.activeAnchorClassName);\n    },\n\n    // Called when user hits the defined shortcut (CTRL / COMMAND + K)\n    handleKeydown: function (event) {\n        if (MediumEditor.util.isKey(event, MediumEditor.util.keyCode.K) && MediumEditor.util.isMetaCtrlKey(event) && !event.shiftKey) {\n            this.handleClick(event);\n        }\n    },\n\n    // Called by medium-editor to append form to the toolbar\n    getForm: function () {\n        if (!this.form) {\n            this.form = this.createForm();\n        }\n        return this.form;\n    },\n\n    getTemplate: function () {\n        var template = [\n            '<input type=\"text\" class=\"medium-editor-toolbar-input\" placeholder=\"', this.placeholderText, '\">'\n        ];\n\n        template.push(\n            '<a href=\"#\" class=\"medium-editor-toolbar-save\">',\n            this.getEditorOption('buttonLabels') === 'fontawesome' ? '<i class=\"fa fa-check\"></i>' : this.formSaveLabel,\n            '</a>'\n        );\n\n        template.push('<a href=\"#\" class=\"medium-editor-toolbar-close\">',\n            this.getEditorOption('buttonLabels') === 'fontawesome' ? '<i class=\"fa fa-times\"></i>' : this.formCloseLabel,\n            '</a>');\n\n        // both of these options are slightly moot with the ability to\n        // override the various form buildup/serialize functions.\n\n        if (this.targetCheckbox) {\n            // fixme: ideally, this targetCheckboxText would be a formLabel too,\n            // figure out how to deprecate? also consider `fa-` icon default implcations.\n            template.push(\n                '<div class=\"medium-editor-toolbar-form-row\">',\n                '<input type=\"checkbox\" class=\"medium-editor-toolbar-anchor-target\">',\n                '<label>',\n                this.targetCheckboxText,\n                '</label>',\n                '</div>'\n            );\n        }\n\n        if (this.customClassOption) {\n            // fixme: expose this `Button` text as a formLabel property, too\n            // and provide similar access to a `fa-` icon default.\n            template.push(\n                '<div class=\"medium-editor-toolbar-form-row\">',\n                '<input type=\"checkbox\" class=\"medium-editor-toolbar-anchor-button\">',\n                '<label>',\n                this.customClassOptionText,\n                '</label>',\n                '</div>'\n            );\n        }\n\n        return template.join('');\n\n    },\n\n    // Used by medium-editor when the default toolbar is to be displayed\n    isDisplayed: function () {\n        return MediumEditor.extensions.form.prototype.isDisplayed.apply(this);\n    },\n\n    hideToolbarDefaultActions: function () {\n        var toolbar = this.base.getExtensionByName('toolbar');\n        if (toolbar) {\n            toolbar.hideToolbarDefaultActions();\n        }\n    },\n\n    hideForm: function () {\n        MediumEditor.extensions.form.prototype.hideForm.apply(this);\n        this.getInput().value = '';\n    },\n\n    showForm: function (opts) {\n        var input = this.getInput(),\n            targetCheckbox = this.getAnchorTargetCheckbox(),\n            buttonCheckbox = this.getAnchorButtonCheckbox();\n\n        opts = opts || { value: '' };\n        // TODO: This is for backwards compatability\n        // We don't need to support the 'string' argument in 6.0.0\n        if (typeof opts === 'string') {\n            opts = {\n                value: opts\n            };\n        }\n\n        this.base.saveSelection();\n        this.hideToolbarDefaultActions();\n        MediumEditor.extensions.form.prototype.showForm.apply(this);\n        this.setToolbarPosition();\n\n        input.value = opts.value;\n        // input.focus();\n\n        // If we have a target checkbox, we want it to be checked/unchecked\n        // based on whether the existing link has target=_blank\n        if (targetCheckbox) {\n            targetCheckbox.checked = opts.target === '_blank';\n        }\n\n        // If we have a custom class checkbox, we want it to be checked/unchecked\n        // based on whether an existing link already has the class\n        if (buttonCheckbox) {\n            var classList = opts.buttonClass ? opts.buttonClass.split(' ') : [];\n            buttonCheckbox.checked = (classList.indexOf(this.customClassOption) !== -1);\n        }\n\n        input.focus();\n    },\n\n    // Called by core when tearing down medium-editor (destroy)\n    destroy: function () {\n        if (!this.form) {\n            return false;\n        }\n\n        if (this.form.parentNode) {\n            this.form.parentNode.removeChild(this.form);\n        }\n\n        delete this.form;\n    },\n\n    // core methods\n\n    getFormOpts: function (valueOverride) {\n        // no notion of private functions? wanted `_getFormOpts`\n        var targetCheckbox = this.getAnchorTargetCheckbox(),\n            buttonCheckbox = this.getAnchorButtonCheckbox(),\n            opts = {\n                value: valueOverride || this.getInput().value.trim()\n            };\n\n        if (this.linkValidation) {\n            opts.value = this.checkLinkFormat(opts.value);\n        }\n\n        opts.target = '_self';\n        if (targetCheckbox && targetCheckbox.checked) {\n            opts.target = '_blank';\n        }\n\n        if (buttonCheckbox && buttonCheckbox.checked) {\n            opts.buttonClass = this.customClassOption;\n        }\n\n        return opts;\n    },\n\n    doFormSave: function () {\n        var opts = this.getFormOpts();\n        this.completeFormSave(opts);\n    },\n\n    completeFormSave: function (opts) {\n        this.base.restoreSelection();\n        this.execAction(this.action, opts);\n        this.base.checkSelection();\n    },\n\n    ensureEncodedUri: function (str) {\n        return str === decodeURI(str) ? encodeURI(str) : str;\n    },\n\n    ensureEncodedUriComponent: function (str) {\n        return str === decodeURIComponent(str) ? encodeURIComponent(str) : str;\n    },\n\n    ensureEncodedParam: function (param) {\n        var split = param.split('='),\n            key = split[0],\n            val = split[1];\n\n        return key + (val === undefined ? '' : '=' + this.ensureEncodedUriComponent(val));\n    },\n\n    ensureEncodedQuery: function (queryString) {\n        return queryString.split('&').map(this.ensureEncodedParam.bind(this)).join('&');\n    },\n\n    checkLinkFormat: function (value) {\n        // Matches any alphabetical characters followed by ://\n        // Matches protocol relative \"//\"\n        // Matches common external protocols \"mailto:\" \"tel:\" \"maps:\"\n        // Matches relative hash link, begins with \"#\"\n        var urlSchemeRegex = /^([a-z]+:)?\\/\\/|^(mailto|tel|maps):|^\\#/i,\n            // telRegex is a regex for checking if the string is a telephone number\n            telRegex = /^\\+?\\s?\\(?(?:\\d\\s?\\-?\\)?){3,20}$/,\n            urlParts = value.match(/^(.*?)(?:\\?(.*?))?(?:#(.*))?$/),\n            path = urlParts[1],\n            query = urlParts[2],\n            fragment = urlParts[3];\n\n        if (telRegex.test(value)) {\n            return 'tel:' + value;\n        } else {\n            // Check for URL scheme and default to http:// if none found\n            return (urlSchemeRegex.test(value) ? '' : 'http://') +\n                // Ensure path is encoded\n                this.ensureEncodedUri(path) +\n                // Ensure query is encoded\n                (query === undefined ? '' : '?' + this.ensureEncodedQuery(query)) +\n                // Include fragment unencoded as encodeUriComponent is too\n                // heavy handed for the many characters allowed in a fragment\n                (fragment === undefined ? '' : '#' + fragment);\n        }\n    },\n\n    doFormCancel: function () {\n        this.getInput().value = '';\n        this.getInput().focus();\n        // this.base.restoreSelection();\n        // this.base.checkSelection();\n    },\n\n    // form creation and event handling\n    attachFormEvents: function (form) {\n        var close = form.querySelector('.medium-editor-toolbar-close'),\n            save = form.querySelector('.medium-editor-toolbar-save'),\n            input = form.querySelector('.medium-editor-toolbar-input');\n\n        // Handle clicks on the form itself\n        this.on(form, 'click', this.handleFormClick.bind(this));\n\n        // Handle typing in the textbox\n        this.on(input, 'keyup', this.handleTextboxKeyup.bind(this));\n\n        // Handle close button clicks\n        this.on(close, 'click', this.handleCloseClick.bind(this));\n\n        // Handle save button clicks (capture)\n        this.on(save, 'click', this.handleSaveClick.bind(this), true);\n    },\n\n    createForm: function () {\n        var doc = this.document,\n            form = doc.createElement('div');\n\n        // Anchor Form (div)\n        form.className = 'medium-editor-toolbar-form';\n        form.id = 'medium-editor-toolbar-form-anchor-' + this.getEditorId();\n        form.innerHTML = this.getTemplate();\n        this.attachFormEvents(form);\n\n        return form;\n    },\n\n    getInput: function () {\n        return this.getForm().querySelector('input.medium-editor-toolbar-input');\n    },\n\n    getAnchorTargetCheckbox: function () {\n        return this.getForm().querySelector('.medium-editor-toolbar-anchor-target');\n    },\n\n    getAnchorButtonCheckbox: function () {\n        return this.getForm().querySelector('.medium-editor-toolbar-anchor-button');\n    },\n\n    handleTextboxKeyup: function (event) {\n        // For ENTER -> create the anchor\n        if (event.keyCode === MediumEditor.util.keyCode.ENTER) {\n            event.preventDefault();\n            this.doFormSave();\n            return;\n        }\n\n        // For ESCAPE -> close the form\n        if (event.keyCode === MediumEditor.util.keyCode.ESCAPE) {\n            event.preventDefault();\n            this.doFormCancel();\n        }\n    },\n\n    handleFormClick: function (event) {\n        // make sure not to hide form when clicking inside the form\n        event.stopPropagation();\n    },\n\n    handleSaveClick: function (event) {\n        // Clicking Save -> create the anchor\n        event.preventDefault();\n        this.doFormSave();\n    },\n\n    handleCloseClick: function (event) {\n        // Click Close -> close the form\n        event.preventDefault();\n        this.doFormCancel();\n    }\n});\n\nexport default Anchor;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport MediumEditor from 'medium-editor';\nimport MediumEditorExtensionAnchor from './MediumEditorExt-Anchor';\n\n\nvar mediumEditor;\nconst EditorControl = {\n    get() {\n        return mediumEditor;\n    },\n    refresh(callback) {\n        if (this.instance){\n            this.instance.props.onChange(this.get().serialize().editable.value, null, callback);\n        }\n    },\n    setInstance(instance) {\n        this.instance = instance;\n    },\n    instance: null,\n};\nwindow.EditorControl = EditorControl;\n\nconst mediumEditorOptions = {\n    toolbar: {\n        buttons: [\n            'bold', 'italic',\n            'justifyLeft',\n            'justifyCenter',\n            'justifyRight',\n            // Seperator\n            {\n                name: 'h2',\n                action: null,\n                aria: 'separator',\n                tagNames: ['h2'],\n                contentDefault: '<span>|</span>',\n                classList: ['seperator'],\n                attrs: {}\n            },\n            'anchor2',\n        ]\n    },\n    anchor: {\n        placeholderText: 'http://',\n    },\n    anchorPreview: false,\n    imageDragging: false,\n    extensions: {\n        imageDragging() {}, // make noop extension to completely disable the extension\n        // anchor2: new MediumEditor.extensions.anchor2\n        anchor2: new MediumEditorExtensionAnchor\n    },\n    placeholder: {\n        text: 'Type your text...',\n        hideOnClick: false\n    },\n    paste: {\n        // https://app.asana.com/0/0/791490914896024/f\n        handleKeydown: function () { return true; }\n    }\n};\n\nconst MediumEditorExtensionQuote = MediumEditor.extensions.button.extend({\n    name: 'quote2',\n  \n    action: 'blockquote2',\n    aria: 'blockquote',\n    tagNames: ['blockquote'],\n    contentDefault: '<b>&ldquo;</b>',\n    contentFA: '<i class=\"fa fa-quote-right\"></i>',\n\n    init() {\n        MediumEditor.extensions.button.prototype.init.call(this);\n    },\n  \n    handleClick(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.toggleSelection();\n        this.base.checkContentChanged();\n    },\n\n    getWrappingBlock() {\n        const $sel = $(document.getSelection().baseNode).closest('blockquote');\n        return $sel;\n    },\n\n    isActivated() {\n        return this.getWrappingBlock().length > 0;\n    },\n\n    toggleSelection() {\n        if (this.isActivated()) {\n            document.execCommand('formatBlock', false, 'p');\n            const $sel = $(document.getSelection().baseNode);\n            let $stuff;\n            if (!$sel.is('span')) {\n                $stuff = $sel.closest('p > span');\n            }\n            $stuff.contents().unwrap();\n            // FIXME: gotta fix this shit, but don't know how to trigger the lifecycle.\n            $('.medium-editor-toolbar-actions .medium-editor-button-active[data-action=\"blockquote2\"], .medium-editor-toolbar-actions .medium-editor-button-active[data-action=\"italic\"]').removeClass('medium-editor-button-active');\n        } else {\n            EditorControl.get().execAction('append-blockquote');\n            const $sel = $(document.getSelection().baseNode);\n            let $stuff;\n            if ($sel.is('blockquote')) {\n                $stuff = $sel.prop('firstChild');\n            } else {\n                $stuff = $($sel.closest('blockquote').prop('firstChild'));\n            }\n            if ($stuff) {\n                $stuff.wrap && $stuff.wrap('<span />');\n            }\n        }\n    },\n\n    useQueryState: false,\n\n    queryCommandState: function() {\n        return this.isActivated();\n    },\n});\n\n// blockquote shit\nif (window.isWhitelabelV2) {\n    mediumEditorOptions.toolbar.buttons.push('quote2')\n    mediumEditorOptions.extensions.quote2 = new MediumEditorExtensionQuote\n} else {\n    mediumEditorOptions.toolbar.buttons.push('quote')\n}\n\nconst mediumInsertAddonOptions = {\n    images: {\n        fileUploadOptions: {\n            url: '/_admin/image-upload-add.json',\n            type: 'POST',\n            formData(form) {\n                return [{\n                    name: 'file',\n                    value: window.__SECRET__.data.files[0]\n                }]\n            }\n        },\n    }\n};\n\n\n// https://github.com/wangzuo/react-medium-editor/pull/36\nexport default class ReactMediumEditor extends React.Component {\n    static defaultProps = {\n        tag: 'div'\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            content: this.props.content\n        };\n\n        $('.article.edit').on('click', 'p a, blockquote a', function(){\n            const href = this.getAttribute('href')\n            if (href === '' || href === '#') {\n                return;\n            }\n            MediumEditor.selection.selectNode(this, document)\n            mediumEditor.getExtensionByName('anchor2').showForm()\n        })\n\n        $(document).on('click', '#medium-editor-toolbar-1 .medium-editor-toolbar-actions', function(evt){\n            if ($(evt.currentTarget).is('.medium-editor-toolbar-actions')) { // misclick\n                const tb = mediumEditor.getExtensionByName('toolbar')\n                if (tb) {\n                    tb.hideToolbar()\n                }\n            }\n        })\n    }\n\n    componentDidMount() {\n        const dom = ReactDOM.findDOMNode(this);\n        EditorControl.setInstance(this);\n        mediumEditor = new MediumEditor(dom, mediumEditorOptions);\n        $(dom).mediumInsert({\n            editor: mediumEditor,\n            addons: mediumInsertAddonOptions\n        });\n\n        function handleBlockquoteInput(event, editable, content, $bq) {\n            // autofix\n            if ($bq.find('> span').length === 0 && $bq.text().trim().length !== 0) {\n                const t = $bq.text();\n                const $span = $('<span />');\n                $span.text(t)\n                $bq.empty();\n                $bq.append($span);\n            }\n            return content\n        }\n\n        function handleContent(event, editable, content) {\n            const selection = document.getSelection();\n            const selectedNode = selection.anchorNode;\n            const $bq = $(selectedNode).closest('blockquote');\n            if ($bq.length !== 0) {\n                content = handleBlockquoteInput(event, editable, content, $bq);\n            }\n            return content\n        }\n\n        mediumEditor.subscribe('editableInput', (event, editable) => {\n            this._updated = true;\n            this.change(handleContent(event, editable, dom.innerHTML));\n        });\n        // prevent deletion of first line\n        mediumEditor.subscribe(\"editableKeydown\", e => {\n            if (e.keyCode === 8) {\n                const selection = document.getSelection();\n                const $selectedNode = $(selection.anchorNode).closest('.description.more >');\n                const onelineStatus = $('.description.more').children().length <= 2;\n                const onelineEmpty = $selectedNode.text().trim() === '';\n\n                if (onelineStatus && onelineEmpty) {\n                    setTimeout(() => {\n                        $('.description.more').prepend('<p class=\"medium-insert-active\"><br></p>');\n                        EditorControl.refresh();\n                    }, 0)\n                    e.preventDefault();\n                    e.stopImmediatePropagation();\n                }\n            }\n        });\n\n        if (window.isWhitelabelV2) {\n            // close image toolbar when showing content toolbar\n            mediumEditor.subscribe('showToolbar', (event, editable) => {\n                const d = $('.description.more').data('plugin_mediumInsertImages');\n                if (d) {\n                    d.unselectImage();\n                }\n                setTimeout(function() {\n                    const mi = $('.description.more').data('plugin_mediumInsert');\n                    const submenuOpened = $('.insert-text:visible,.insert-image:visible,.insert-product:visible').length > 0;\n                    if (mi && !submenuOpened) {\n                        mi.hideOptionPopupV2();\n                    }\n                }, 200);\n            });\n        }\n    }\n\n    change = (content) => {\n        this._editorText = content;\n        this.setState({ content });\n        if (this.props.onChange) {\n            this.props.onChange(content, mediumEditor);\n        }\n    }\n\n    componentDidUpdate() {\n      mediumEditor.restoreSelection();\n    }\n\n    componentWillUnmount() {\n      mediumEditor.destroy();\n      this._editorText = null;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.content !== this._editorText) {\n        this.setState({ content: nextProps.content });\n      }\n      if (this._updated) {\n         this._updated = false;\n      }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (\n            nextProps.style === this.props.style &&\n            this._editorText === nextState.content\n        ) {\n            return false;\n        }\n        return true;\n    }\n\n    render() {\n        if (mediumEditor) {\n            mediumEditor.saveSelection();\n        }\n        const Tag = this.props.tag;\n        return <Tag {...this.props} dangerouslySetInnerHTML={{ __html: this.state.content }} />\n    }\n}\n","import React from \"react\";\n// import classnames from \"classnames\";\n// import { proportionFormat, isSafari as isSafariUtil } from \"fancyutils\";\nimport { Display } from \"fancymixin\";\n\nexport function getVideo(object) {\n    if (object.h264_1000k_url) return object;\n    const saleVideo = object && object.sales && object.sales.video;\n    const thingOrArticleVideo = (object && object.video_cover) || (object && object.cover_video);\n    if (saleVideo) {\n        return saleVideo;\n    } else if (thingOrArticleVideo) {\n        try {\n            if (!thingOrArticleVideo.h264_1000k_url && object.cover_video.outputs.h264_1000k) {\n                thingOrArticleVideo.h264_1000k_url = object.cover_video.outputs.h264_1000k.url;\n            }\n        } catch (e) {}\n        return thingOrArticleVideo;\n    } else if (object.metadata && object.metadata.video_url) {\n        return {\n            thumbnail_url: object.image.src,\n            original_url: object.metadata.video_url\n        };\n    } else {\n        console.warn(\"<Video /> component is mounted but with unknown type\");\n        return {};\n    }\n}\n\nexport class Video extends React.Component {\n    constructor(props) {\n        super(props);\n        this.id = +new Date();\n    }\n    el = null;\n    videoEl = null;\n    static isVideoAvailableForThing(thing) {\n        let thingHasVideo = false;\n        if (thing) {\n            if (thing.video_cover) {\n                thingHasVideo = true;\n            } else if (thing.metadata) {\n                if (thing.metadata.video_url) {\n                    thingHasVideo = true;\n                }\n            } else if (thing.sales) {\n                if (thing.sales.video) {\n                    thingHasVideo = true;\n                }\n            }\n        }\n        return thingHasVideo;\n    }\n    static isVideoAvailableForArticle(article) {\n        if (article && article.cover_video && article.cover_video.status == \"ready\") {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    getSrc() {\n        const { object } = this.props;\n        const video = getVideo(object);\n        return video.h264_1000k_url || video.original_url || video.original;\n    }\n\n    getThumbnail() {\n        const { object } = this.props;\n        const video = getVideo(object);\n        return video.thumbnail_url;\n    }\n\n    getLoop() {\n        const { object } = this.props;\n        return getVideo(object).loop;\n    }\n\n    shouldComponentUpdate(nextProps) {\n        return (\n            nextProps.lastFullyRenderedObjectID !== this.props.lastFullyRenderedObjectID ||\n            nextProps.display !== this.props.display ||\n            nextProps.playing !== this.props.playing ||\n            nextProps.object !== this.props.object);\n    }\n\n    prepare() {\n        const domCls = `video-${this.id}`;\n        let $el = $(`.${domCls}`);\n        if ($el.length) {\n            if ($el[0].src !== this.getSrc()) {\n                $el[0].src = this.getSrc();\n                $el[0].loop = !!this.getLoop();\n                $el[0].currentTime = 0;\n            }\n        } else {\n            $el = $(\n                `<video id=\"myVideo\" class=\"${domCls}\" preload=\"auto\" playsInline disablePictureInPicture autoplay muted controls controlslist=\"nodownload nofullscreen noremoteplayback\" src=\"${this.getSrc()}\" loop=\"${!!this.getLoop()}\" poster=\"${this.getThumbnail()}\"/>`\n            )\n                .on(\"ended\", function() {\n                    this.currentTime = 0;\n                })\n            this.videoEl = $el.get(0);\n            $(this.el).empty().append(this.videoEl);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        const np = this.props;\n        if (np.display !== prevProps.display) {\n            if (np.display === false) {\n                this.videoEl && this.videoEl.pause();\n            } else {\n                this.videoEl && this.videoEl.play();\n            }\n        }\n        if (np.display && np.playing != prevProps.playing) {\n            if (np.playing === false) {\n                this.videoEl && this.videoEl.pause();\n            } else {\n                this.videoEl && this.videoEl.play();\n            }\n        }\n        this.prepare();\n    }\n\n    render() {\n        const { display, style = {}, playing } = this.props;\n        \n        return (\n            <div\n                style={_.extend(style, Display.NoneIf(!display))}\n                className=\"video_player nozoom\"\n                ref={el => {\n                    this.el = el;\n                    if (!this.videoEl) {\n                        this.prepare();\n                    }\n                }}\n            />\n        );\n    }\n}\n","export const ShareObjectTypes = {\n    thing: 'thing',\n    list: 'list',\n    store: 'store',\n    user: 'user',\n    article: 'article',\n}\n\nfunction createReferredUrl(viewerUsername, objectId, objectType, objectMeta) {\n    let url;\n    if (objectType === ShareObjectTypes.thing) {\n        url = `https://${location.hostname}/things/${objectId}`;\n    } else if (objectType === ShareObjectTypes.article && objectMeta) {\n        url = `https://${location.hostname}/articles/${objectMeta.slug}`;\n    } else {\n        url = location.href.replace(/(#.*)/, ''); // Remove hash\n    }\n\n    if (viewerUsername) {\n        let connector = ~url.indexOf('?') ? '&' : '?';\n        url = `${url}${connector}ref=${viewerUsername}`\n    }\n\n    return url;\n}\n\nexport function getShareURL(component, callback) {\n    if (component.loading || component.state.referrerURL || component.props.referrerURL) {\n        callback && callback(true);\n        return;\n    }\n    component.loading = true;\n\n    // If async loading is needed, assign setState callback.\n    let cb = null;\n    if (callback) {\n        cb = () => {\n            callback(false);\n            component.loading = false;\n        };\n    }\n    const { viewerUsername, objectId, objectType, objectMeta } = component.props;\n    const originalUrl = createReferredUrl(viewerUsername, objectId, objectType, objectMeta);\n    $.post('/get_short_url.json', { url: originalUrl })\n        .done(res => {\n            component.setState({ referrerURL: res.short_url }, cb);\n        })\n        .fail(() => {\n            component.setState({ referrerURL: originalUrl }, cb);\n            console.warn('/get_short_url failed');\n        });\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport { FancyUser, debounceUntilTimeout, MP, getDisplay, triggerEvent, alertify } from 'fancyutils';\nimport { ShareObjectTypes, getShareURL } from './MoreShareUtils';\n\nimport { Display } from 'fancymixin';\n\n\nconst SNSDict = { \"fb\": \"Facebook\", \"tw\": \"Twitter\", \"tb\": \"Tumblr\" };\n\nconst followingUsers = [];\nlet followingUsersRequested = false;\n\nconst ViewClasses = {\n    Success: 'empty success',\n    Default: 'empty default',\n    Searching: 'empty searching',\n    NoResult: 'empty no-result',\n};\n\n\nexport class SharePopover extends React.Component {\n    state = {\n        friendSearchQuery: '',\n        searchedFriends: [],\n        selectedUserID: null,\n        sentUser: null,\n        sendNote: '',\n        sendSuccess: false,\n        searching: false,\n        isContact: false,\n    };\n\n    mailUser = {\n        id: 'EMAIL',\n        type: 'email',\n        profile_image_url: '/_ui/images/common/blank.gif',\n        fullname: 'Email',\n        /* mut */ username: null,\n    };\n\n    constructor(props) {\n        super(props);\n        this.searchFriends = debounceUntilTimeout(function searchFriends(prevQuery, friendSearchQuery) {\n            if (this.isEmailOnlyMode()) {\n                this.setState({ searching: false });\n                return;\n            }\n\n            const term = $.trim(friendSearchQuery);\n            if ($.trim(prevQuery) === term) {\n                return;\n            }\n            if (term === '') {\n                this.setState({\n                    searchedFriends: [],\n                    selectedUserID: null,\n                });\n                return;\n            }\n            this.setState({ searching: true }, () => {\n                $.get('/search-users.json', {\n                    term, \n                    filter_messages_permission: true\n                })\n                .done(searchedFriends => {\n                    const nextState = { searching: false };\n                    if (this.state.friendSearchQuery === friendSearchQuery) {\n                        nextState.searchedFriends = searchedFriends;\n                        nextState.selectedUserID = null;\n                    }\n                    this.setState(nextState);\n                });\n            })\n        }, 200, this);\n    }\n\n    handleContinue = (event) => {\n        event.preventDefault();\n        this.clearFriendList();\n        if (this.props.handleHide) {\n            this.props.handleHide()\n        }\n    }\n\n    handleFriendSearch = (event) => {\n        const friendSearchQuery = event.target.value;\n        const prevQuery = this.state.friendSearchQuery;\n        this.setState({ friendSearchQuery, sendSuccess: false, searching: true }, () => {\n            this.searchFriends(prevQuery, friendSearchQuery);\n        });\n    }\n\n    handleSend = () => {\n        const { sendNote, selectedUserID, searchedFriends } = this.state;\n        const { title, referrerURL } = this.props;\n        if (this.sending) {\n            return;\n        }\n\n        const isMailuser = selectedUserID === this.mailUser.id;\n        if (isMailuser) {\n            this.handleSendMail();\n            return;\n        } else if (searchedFriends.length === 0 || selectedUserID == null) {\n            return;\n        }\n\n\n        const { objectType } = this.props;\n        let params;\n        if (objectType === ShareObjectTypes.thing) {\n            params = {\n                things: this.props.objectId,\n                user_id: selectedUserID\n            };\n        } else {\n            params = {\n                user_id: selectedUserID,\n                message: `${title} ${referrerURL}`,\n            };\n        }\n        \n        this.sending = true;\n        if ($.trim(sendNote)) {\n            params.message += (' ' + $.trim(sendNote));\n        }\n\n        $.post('/messages/send-message.json', params)\n            .done(json => {\n                if (json.status_code !== 1) {\n                    if (json.message) {\n                        alertify.alert(json.message);\n                    } else {\n                        alertify.alert(\"There was an error while sending message. Please try again.\");\n                    }\n                    return;\n                }\n                this.clearFriendList({\n                    sendSuccess: true,\n                    sentUserID: selectedUserID,\n                    selectedUserID: null,\n                }, ['searchedFriends']);\n                MP('Complete Share', { \"thing id\": params.things, \"type\": \"FancyMessage\" });\n            })\n            .fail(xhr => {\n                console.warn(xhr);\n            })\n            .always(() => {\n                this.sending = false;\n            });\n    }\n\n    handleSendMail = () => {\n        if (this.sending) {\n            return;\n        }\n        if (this.props.objectType == null) {\n            console.warn('objectType should be provided.');\n        }\n        const object_type = this.props.objectType || 'thing';\n        const email_address = this.mailUser.username.trim();\n\n        const object_id = this.props.objectId;\n        this.sending = true;\n        const params = { email_address, object_type, object_id };\n        const message = $.trim(this.state.sendNote);\n        if (message) {\n            params.message = message;\n        }\n        if (this.props.objectMeta && this.props.objectMeta.type === 'shoplist') {\n            params.object_meta = this.props.objectMeta.type;\n        }\n\n        $.post('/messages/send-email.json', params)\n            .done(json => {\n                if (json.status_code !== 1) {\n                    if (json.message) {\n                        alertify.alert(json.message);\n                    } else {\n                        alertify.alert(\"There was an error while sending message. Please try again.\");\n                    }\n                    return;\n                }\n                this.clearFriendList({\n                    sendSuccess: true,\n                    sentUserID: params.email_address,\n                    selectedUserID: null,\n                });\n                MP('Complete Share', { \"object id\": params.object_id, \"object type\": params.object_type, \"type\": \"Email\" });\n            })\n            .fail(xhr => {\n                var responseObject = null\n                try { responseObject = JSON.parse(xhr.responseText) } catch(e) { }\n                if(responseObject && responseObject.message) {\n                    alertify.alert(responseObject.message)\n                } else {\n                    alertify.alert(\"Error occured. please try again.\\n\"+xhr.status + ' ' + xhr.statusText);\n                }\n                console.warn(xhr);\n            })\n            .always(() => {\n                this.sending = false;\n            });\n    }\n\n    clearFriendList = (additionals, excludes) => {\n        // remove search history for users\n        const nextState = _.extend({\n            friendSearchQuery: '',\n            searchedFriends: [],\n            sendNote: '',\n            sendSuccess: false,\n            sentUserID: null,\n        }, additionals);\n        if (excludes) {\n            excludes.forEach(excludeKey => {\n                delete nextState[excludeKey];\n                nextState[excludeKey] = this.state[excludeKey];\n            });\n        }\n        this.setState(nextState);\n    }\n\n    handleSendNoteInput = (event) => {\n        const sendNote = event.target.value;\n        this.setState({ sendNote });\n    }\n\n    handleUserSelect = (event) => {\n        event.preventDefault();\n        const { selectedUserID } = this.state;\n        const nextID = $(event.currentTarget).attr('data-userid');\n        // Canceling\n        if (String(selectedUserID) === $(event.currentTarget).attr('data-userid')) {\n            this.setState({ selectedUserID: null });\n        // Selecting\n        } else {\n            this.setState({ selectedUserID: nextID });\n        }\n    }\n\n    getSelectedUser = () => {\n        const { selectedUserID } = this.state;\n        return _.find(this.getSearchedFriends(), e => String(e.id) === selectedUserID);\n    }\n\n    getSentUser = () => {\n        const { sentUserID } = this.state;\n        return _.find(this.getSearchedFriends(), e => String(e.id) === sentUserID);\n    }\n\n    getDisplayUsers = () => {\n        if (followingUsersRequested) {\n            return;\n        }\n        this.loadingDisplayUsers = true;\n        followingUsersRequested = true;\n        $.get('/get-share-display-users.json').done(res => {\n            if (res.status_code === 1 && res.users.length > 0) {\n                followingUsers.push.apply(followingUsers, res.users);\n            }\n        }).fail(() => {\n            console.warn('failed to fetch display users')\n        })\n        .always(() => {\n            this.loadingDisplayUsers = false;\n            this.forceUpdate();\n        });\n    }\n\n    handleClickBackFromContact = () => {\n        this.setState({ isContact: false });\n    }\n\n    handleClickContactImport = (event) => {\n        event.preventDefault();\n        this.setState({ isContact: true });\n    }\n\n    getSharedMailUser = () => {\n        const {\n            friendSearchQuery,\n        } = this.state;\n        this.mailUser.username = friendSearchQuery;\n        return [this.mailUser];\n    }\n\n    getSearchedFriends = () => {\n        if (\n            this.state.friendSearchQuery.length !== 0 || \n            this.state.sendSuccess\n        ) {\n            if (this.isInputEmail()) {\n                return this.getSharedMailUser();\n            } else {\n                return this.state.searchedFriends;\n            }\n        } else {\n            return followingUsers;\n        }\n    }\n\n    isInputEmail = () => {\n        const { friendSearchQuery } = this.state;\n        return friendSearchQuery.length > 1 && \n               friendSearchQuery.indexOf('@') > 0;\n    }\n\n    getPrefix(user) {\n        return user.type === 'email' ? '' : '@';\n    }\n\n    static getShareMessage(objectType, defaultMessage = '') {\n        let shareMessage = defaultMessage;\n        if (objectType === ShareObjectTypes.list) {\n            shareMessage = 'Share collection';\n        } else if (objectType === ShareObjectTypes.store) {\n            shareMessage = 'Share store';\n        } else if (objectType === ShareObjectTypes.user) {\n            shareMessage = 'Share profile';\n        } else if (objectType === ShareObjectTypes.article) {\n            shareMessage = 'Share article';\n        }\n        return shareMessage;\n    }\n\n    isEmailOnlyMode = () => {\n        return !(this.props.objectType === ShareObjectTypes.thing || this.props.objectType === ShareObjectTypes.article) || !FancyUser.loggedIn;\n    }\n\n    componentDidUpdate(prevProps) {\n        const { showShare } = this.props;\n        const { isContact } = this.state;\n        // share is closed, if contact mode close it.\n        if (isContact && !showShare && prevProps.showShare !== showShare) {\n            this.setState({ isContact: false });\n        }\n    }\n\n    componentDidMount() {\n        // Do loading friends stuff.\n        if (!this.isEmailOnlyMode()) {\n            this.getDisplayUsers();\n        }\n    }\n\n    render() {\n        const {\n            showShare,\n            title,\n            headerGap,\n            objectType,\n            objectId,\n            objectMeta,\n            viewerUsername,\n            referrerURL,\n        } = this.props;\n\n        if (process.env.NODE_ENV !== 'production') {\n            viewerUsername == null &&\n            console.warn('SharePopover: viewerUsername missing');\n        }\n\n        const {\n            friendSearchQuery,\n            sendNote,\n            sendSuccess,\n            sentUserID,\n            searching,\n            isContact\n        } = this.state;\n        const searchedFriends = this.getSearchedFriends();\n\n        const selectedUser = this.getSelectedUser();\n        const sentUser = this.getSentUser();\n\n        var emptyDisplay = Display.Block;\n        var emptyClassName;\n        var searchedFriendsDisplay;\n        const inputIsEmail = this.isInputEmail();\n        const emailOnlyMode = this.isEmailOnlyMode(); \n        // Search returns nothing\n        \n        if (sendSuccess) {\n            emptyClassName = ViewClasses.Success;\n        } else {\n            if (emailOnlyMode && !inputIsEmail) {\n                emptyClassName = ViewClasses.Default;\n            } else if (searchedFriends.length > 0) {\n                if (!inputIsEmail && searching) {\n                    emptyClassName = ViewClasses.Searching;\n                }\n            } else if (searchedFriends.length === 0) {\n                if (friendSearchQuery.length === 0) {\n                    if (this.loadingDisplayUsers) {\n                        emptyClassName = ViewClasses.Searching;\n                    } else {\n                        emptyClassName = ViewClasses.Default;\n                    }\n                } else {\n                    if (searching) {\n                        emptyClassName = ViewClasses.Searching;\n                    } else {\n                        emptyClassName = ViewClasses.NoResult;\n                    }\n                }\n            }\n        }\n\n        if (emptyClassName) {\n            searchedFriendsDisplay = Display.None;\n        } else {\n            emptyDisplay = Display.None;\n        }\n\n        if (selectedUser) {\n            searchedFriendsDisplay = Display.None;\n        }\n\n        const noteSendable = (\n            !this.sending &&\n            searchedFriends.length > 0 &&\n            !!selectedUser\n        );\n\n        // Sliding indicator style\n        const isSNS = !(selectedUser || sendSuccess);\n\n        let sentMessage = '';\n        if (sendSuccess) {\n            sentMessage += gettext(\"Sent to \");\n            sentMessage += sentUser ? (sentUser.fullname || sentUser.username) : sentUserID\n        }\n\n        let bottom = false;\n        if (headerGap < 290) {\n            bottom = true;\n        }\n\n        return (\n            <div id=\"show-share\" className={classnames(\"more-share-popup more-share-popup-2 has-arrow\", { bot: bottom })} style={getDisplay(showShare)}>\n                <h3 className=\"tit\" style={Display.NoneIf(isContact || selectedUser)}>{SharePopover.getShareMessage(objectType, 'Share')}</h3>\n                <a className=\"btn-back\" style={Display.NoneIf(!selectedUser || sentUser)}\n                   onClick={() => {this.setState({ selectedUserID: null });return false;}}>Back</a>\n                <div className=\"frm\" style={Display.NoneIf(isContact)}>\n                    {FancyUser.loggedIn &&\n                    <div id=\"more-share-send\">\n                        <span className=\"textbox before-bg-share2\" style={Display.NoneIf(selectedUser || sendSuccess)}>\n                            <input id=\"more-share-email\"\n                                   className=\"text\" type=\"text\"\n                                   placeholder={emailOnlyMode ? gettext(\"Enter email address\") : gettext(\"Username or email address\")}\n                                   autoComplete=\"off\"\n                                   onChange={this.handleFriendSearch}\n                                   value={friendSearchQuery} />\n                        </span>\n                        <ul className=\"lists\" style={searchedFriendsDisplay}>\n                            {searchedFriends\n                                .map((user, idx) => {\n                                    const term = $.trim(friendSearchQuery).toLowerCase();\n                                    const prefix = this.getPrefix(user);\n                                    let style;\n                                    if (term) {\n                                        if (\n                                            `${user.fullname} ${prefix}${user.username}`.toLowerCase().indexOf(term) === -1\n                                        ) {\n                                            style = Display.None;\n                                        }\n                                    }\n                                    let username;\n                                    let imgClass;\n                                    if (user.type === 'email') {\n                                        username = user.username;\n                                        imgClass = 'email';\n                                    } else {\n                                        username = `${prefix}${user.username}`;\n                                    }\n\n                                    return (\n                                        <li key={idx} style={style}>\n                                            <a className=\"before-bg-share2\"\n                                                onClick={this.handleUserSelect}\n                                                data-userid={user.id}>\n                                                <img alt=\"\" className={imgClass} src={user.profile_image_url} />\n                                                <b>{user.fullname}</b>\n                                                <small>{username}</small>\n                                            </a>\n                                        </li>\n                                    )\n                            })}\n                        </ul>\n                        <div className={emptyClassName} style={emptyDisplay}>\n                            <i className=\"circle bg-share2\" />\n                            {emailOnlyMode ?\n                                <span className=\"default\">\n                                    {gettext(\"Share this via Email\")}\n                                </span>\n                                :\n                                <span className=\"default\">\n                                    <b>{gettext(\"Find people to share with\")}</b>\n                                    <a onClick={this.handleClickContactImport}>{gettext(\"Import from contacts\")}</a>\n                                </span>\n                            }\n                            <span className=\"searching\">\n                                {gettext(\"Searching...\")}\n                            </span>\n                            <span className=\"no-result\">\n                                {gettext(\"No users found\")}\n                            </span>\n                            <span className=\"success\">\n                                <b>{gettext(\"Success!\")}</b>\n                                {sentMessage}\n                                <a className=\"close\" onClick={this.handleContinue}>{gettext(\"Continue\")}</a>\n                            </span>\n                        </div>\n                        <div className=\"send\" style={Display.NoneIf(selectedUser == null)}>\n                            {selectedUser && \n                                <span className=\"recipient\">\n                                    <img alt=\"user image\" className={selectedUser.type === 'email' && 'email'} src={selectedUser.profile_image_url} />\n                                    <b>{selectedUser.fullname}</b>\n                                    <small>{this.getPrefix(selectedUser)}{selectedUser.username}</small>\n                                </span>\n                            }\n                            <fieldset>\n                                <textarea placeholder=\"Add a message\" value={sendNote} onChange={this.handleSendNoteInput} />\n                                <button className=\"btn-send\" disabled={!noteSendable} onClick={this.handleSend}>Send</button>\n                            </fieldset>\n                        </div>\n                    </div>\n                    }\n                    <SNSShareBox showShareBox={isSNS} title={title} referrerURL={referrerURL}\n                                 objectId={objectId} objectType={objectType} objectMeta={objectMeta}\n                                 viewerUsername={viewerUsername} />\n                </div>\n                <div className=\"contact-sns\" style={Display.NoneIf(!isContact)}>\n                    <a onClick={this.handleClickBackFromContact} className=\"back\">Back</a>\n                    <a href=\"/find-friends\" className=\"fb\" target=\"_blank\"><em> Facebook</em></a>\n                    <a href=\"/find-friends?type=twitter\" className=\"tw\" target=\"_blank\"><em> Twitter</em></a>\n                    <a href=\"/find-friends?type=gmail\" className=\"gm\" target=\"_blank\"><em> Gmail</em></a>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport class SNSShareBox extends React.Component {\n    state = {\n        copied: false,\n        referrerURL: '',\n        textboxDisplay: false\n    };\n    loading = false;\n    snsShareWindow = null;\n\n    getRefURL() {\n        return this.state.referrerURL || this.props.referrerURL\n    }\n\n    updateEmbedOption($li, viewerUsername) {\n        const $thumb = $li.find('.embed-thum');\n        const $options = $li.find('input[name=\"embed-info\"]');\n        const types = [];\n\n        $options.each(function() {\n            const { value, checked } = this;\n            if (checked) {\n                $thumb.addClass(value);\n                types.push(value);\n            } else {\n                $thumb.removeClass(value);\n            }\n        });\n        const width = parseInt($li.find('input[name=\"embed-width\"]').val(), 10) || undefined;\n\n        const snippet = $('<script />', {\n            'src': `//${location.hostname}/embed.js?v=150608`,\n            'async': true,\n            'class': 'fancy-embed',\n            'data-id': $li.attr('tid') || $li.attr('objectId') || '',\n            'data-ref': viewerUsername,\n            'data-type': types.length > 0 ? types.join(',') : '',\n            'data-width': width\n        }).prop('outerHTML');\n        $li.find('textarea[name=\"embed-code\"]').val(snippet);\n    }\n\n    handleEmbed = () => {\n        const { updateEmbedOption, props: { objectType, objectId, viewerUsername } } = this;\n\n        if (objectType === ShareObjectTypes.thing) {\n            const $ep = $(\"#embed_popup\");\n            $ep\n                .off('click.fancyembed')\n                .off('keyup.fancyembed')\n                .on('click.fancyembed', 'input[name=\"embed-info\"]', function() {\n                    updateEmbedOption($(\"#embed_popup\"), viewerUsername);\n                })\n                .on('keyup.fancyembed', 'input[name=\"embed-width\"]', function() {\n                    updateEmbedOption($(\"#embed_popup\"), viewerUsername);\n                });\n\n            $ep.find('.customize').removeClass('opened');\n            $ep.find('input[name=\"embed-info\"]').prop('checked', true);\n            $ep.find('input[name=\"embed-width\"]').val(450);\n            $ep.attr('tid', objectId);\n            updateEmbedOption($(\"#embed_popup\"), viewerUsername);\n\n            $.dialog(\"embed_item\").open(true);\n        }\n\n        return false;\n    }\n\n    handleShare = (event) => {\n        const { props: { objectId, objectType } } = this;\n        const element = event.currentTarget;\n\n        // redirect to acquired URL using blank window, which does not blocked by blocker usually.\n        // Low possiblity, but if assign fails with DOMException, silently pass so\n        // user can retry without confusion.\n        if (event.detail && event.detail.faintClick) {\n            try {\n                this.snsShareWindow.location.assign(element.getAttribute('href'));\n            } catch (e) {}\n            // Remove disposable window \n            this.snsShareWindow = null;\n            return;\n        } else {\n            if (!this.getRefURL()) {\n                this.snsShareWindow = window.open('about:blank', '_fancy_sns_share');\n            }\n            event.preventDefault();\n        }\n\n        getShareURL(this, (directClick) => {\n            if (directClick) {\n                window.open(element.getAttribute('href'), '_fancy_sns_share');\n            } else {\n                triggerEvent(element, 'click', { faintClick: true });\n            }\n        });\n\n        if (objectType === ShareObjectTypes.thing) {\n            const type = SNSDict[element.className];\n            MP('Complete Share', { \"thing id\": objectId, type });\n        }\n    }\n\n    render() {\n        const { title, showShareBox, objectType } = this.props;\n        const { textboxDisplay } = this.state;\n        const referrerURL = this.getRefURL()\n\n        return (\n            <div id=\"more-share-sns\" className=\"more-share-sns\" style={showShareBox ? Display.Block : Display.None}>\n                <span className=\"via after\" style={Display.NoneIf(textboxDisplay)}>\n                    <a href={`https://www.facebook.com/sharer.php?u=${referrerURL}`}\n                        onClick={this.handleShare} className=\"fb\" target=\"_blank\">\n                        <span className=\"ic-fb\" /> <em>{gettext(\"Share with Facebook\")}</em>\n                    </a>\n                    <a href={`https://twitter.com/share?text=${encodeURI(title)}&url=${referrerURL}&via=fancy`}\n                        onClick={this.handleShare} className=\"tw\" target=\"_blank\">\n                        <span className=\"ic-tw\" /> <em>{gettext(\"Share with Twitter\")}</em>\n                    </a>\n                    <a href={`https://www.tumblr.com/share/link?url=${referrerURL}&name=${encodeURI(title)}&description=${encodeURI(title)}`}\n                        onClick={this.handleShare} className=\"tb\" target=\"_blank\">\n                        <span className=\"ic-tb\" /> <em>{gettext(\"Share with Tumblr\")}</em>\n                    </a>\n                    {objectType === ShareObjectTypes.thing &&\n                        <a onClick={this.handleEmbed} className=\"embed\">\n                            <span className=\"ic-em\" /> <em>{gettext(\"Embed this item\")}</em>\n                        </a>\n                    }\n                </span>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nimport { FancyUser, renderPopup, isPlainLeftClick } from \"fancyutils\";\nimport { ShareObjectTypes } from './MoreShareUtils';\n\n\nexport class FancydPerson extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: false,\n            following: false\n        };\n    }\n\n    componentDidMount() {\n        const following = this.props.following || this.props.user.following;\n        if (following) {\n            this.setState({ following });\n        }\n    }\n\n    handleFollow = event => {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const { user } = this.props;\n        const { following, loading } = this.state;\n\n        if (this.props.loggedIn !== true) {\n            window.require_login();\n            return;\n        }\n\n        if (loading) {\n            return;\n        }\n\n        const url = following ? \"/delete_follow.xml\" : \"/add_follow.xml\";\n\n        this.setState({ loading: true }, () => {\n            $.ajax({\n                type: \"post\",\n                url,\n                data: { user_id: user.id },\n                dataType: \"xml\"\n            })\n                .done(xml => {\n                    const nextFollowing = !following;\n                    const $status = $(xml).find(\"status_code\");\n                    if ($status.length && $status.text() !== 0) {\n                        this.setState({ following: nextFollowing });\n                    }\n                })\n                .always(() => {\n                    this.setState({ loading: false });\n                });\n        });\n    };\n\n    handleTransition = event => {\n        if (isPlainLeftClick(event)) {\n            const href = event.currentTarget.getAttribute(\"href\");\n            if (href) {\n                location.href = href;\n            }\n        }\n    };\n\n    render() {\n        const { user, isAddedUser, viewerId } = this.props;\n        const { following } = this.state;\n\n        return (\n            <li>\n                <a href={`/${user.username}`} className=\"username\" onClick={this.handleTransition}>\n                    <img\n                        src=\"/_ui/images/common/blank.gif\"\n                        style={{ backgroundImage: `url(${user.image_url || user.user_square_image_small})` }}\n                    />\n                    {isAddedUser ? \"Added by \" : \"\"}\n                    <b>{user.fullname || user.full_name}</b>\n                    {isAddedUser ? \"\" : `@${user.username}`}\n                </a>\n                {viewerId !== user.id && (\n                    <button\n                        className={classnames(\"btns-gray-embo\", following ? \"following\" : \"follow\")}\n                        onClick={this.handleFollow}\n                    />\n                )}\n            </li>\n        );\n    }\n}\n\nexport class FancydByPopup extends React.Component {\n    static popupName = \"fancyd_list\";\n\n    constructor(props) {\n        super(props);\n        this.state = this._getInitialState();\n    }\n\n    _getInitialState() {\n        return {\n            loading: false,\n            nextPage: 1,\n            ended: null,\n            added_user: null,\n            users: [],\n            owner: null\n        };\n    }\n\n    getFollowList(nextProps, reset) {\n        const { objectId, objectType } = nextProps || this.props;\n        const { nextPage } = this.state;\n\n        var immediateNextStateUpdate;\n        if (reset) {\n            immediateNextStateUpdate = this._getInitialState();\n            immediateNextStateUpdate.loading = true;\n        } else {\n            immediateNextStateUpdate = { loading: true };\n        }\n\n        if (reset || (this.state.loading !== true && this.state.ended !== true)) {\n            this.setState(immediateNextStateUpdate, () => {\n                if (objectType === ShareObjectTypes.thing) {\n                    $.get(\"/thing_follower_list.json\", { thing_id: objectId, page: nextPage }, ({ has_next, users, owner }) => {\n                        const nextState = { loading: false, users: this.state.users.concat(users), owner };\n                        if (has_next) {\n                            nextState.nextPage = this.state.nextPage + 1;\n                            nextState.ended = false;\n                        } else {\n                            nextState.ended = true;\n                        }\n                        this.setState(nextState);\n                    }).fail(() => {\n                        this.setState({ loading: false });\n                    });\n                } else if (objectType === ShareObjectTypes.article) {\n                    $.get(`/rest-api/v1/articles/${objectId}/saved_users`, { page: nextPage }, ({ max_page, current_page, saved_users }) => {\n                        const users = saved_users;\n                        const has_next = max_page > current_page;\n                        const nextState = { loading: false, users: this.state.users.concat(users), owner: null };\n                        if (has_next) {\n                            nextState.nextPage = this.state.nextPage + 1;\n                            nextState.ended = false;\n                        } else {\n                            nextState.ended = true;\n                        }\n                        this.setState(nextState);\n                    }).fail(() => {\n                        this.setState({ loading: false });\n                    });\n                }\n                \n            });\n        }\n    }\n\n    componentDidMount() {\n        this.getFollowList();\n        this.__last_tid = this.props.objectId;\n    }\n\n    componentDidUpdate(nextProps) {\n        if (this.__last_tid !== nextProps.objectId) {\n            this.__last_tid = nextProps.objectId;\n            this.getFollowList(nextProps, true);\n        }\n    }\n\n    handleMore = event => {\n        event.preventDefault();\n        this.getFollowList();\n    };\n\n    render() {\n        const { ended, users, owner } = this.state;\n        const { loggedIn, viewerId } = this.props;\n        return (\n            <div>\n                {/* TODO: via-overlay is needed to distinguish jQuery-attached Events and React Events -\n                    need to deliver better alternative \n                    rel task: https://app.asana.com/0/86925821949642/152825012917493 */}\n                <p className=\"ltit\">{gettext(\"Fancy'd by\")}</p>\n                <ul>\n                    {owner ? (\n                        <FancydPerson user={owner} isAddedUser={true} viewerId={viewerId} loggedIn={loggedIn} />\n                    ) : null}\n                    {users.map((user, idx) => (\n                        <FancydPerson key={`FancydBy-${idx}`} user={user} viewerId={viewerId} loggedIn={loggedIn} />\n                    ))}\n                    {ended === false && (\n                        <li className=\"more\">\n                            <a onClick={this.handleMore}>{gettext(\"View More\")}</a>\n                        </li>\n                    )}\n                </ul>\n                <button className=\"ly-close\" title=\"Close\">\n                    <i className=\"ic-del-black\" />\n                </button>\n            </div>\n        );\n    }\n}\n\nconst onLoad = () => { \n    $(document.body).on(\"click\", \".buttons .fancyd_user\", function() {\n        if ($(this).closest('#overlay-thing').length > 0) {\n            return true;\n        }\n        const $container = $(this).closest(\".buttons\");\n        const objectId = $container.find(\".fancy, .fancyd\").attr(\"tid\");\n        const objectType = 'thing';\n        if (objectId) {\n            renderPopup(FancydByPopup, { objectId, objectType, loggedIn: FancyUser.loggedIn, viewerId: FancyUser.id });\n            return false;\n        }\n    });\n}\n\nif (document.readyState !== 'loading') {\n    onLoad()\n} else {\n    document.addEventListener(\"DOMContentLoaded\", onLoad)\n}\n","import React, { Component } from \"react\";\nimport classnames from \"classnames\";\nimport { renderPopup, copyToClipboard, isElementOutsideViewport, MP, ClickOutside, FancyUser } from \"fancyutils\";\nimport { getElementGapFromHeader } from \"fancymixin\";\n\nimport { SharePopover } from \"./SharePopover\";\nimport { AddlistPopover } from \"./AddlistPopover\";\nimport { ShareObjectTypes, getShareURL } from \"./MoreShareUtils\";\nimport { FancydByPopup } from \"./Popup\";\n\n// returns dictionary with only one value true and else is false\nfunction makeToggle(keys) {\n    const obj = {};\n    return function toggle(...toggleKeys) {\n        keys.forEach(key => {\n            obj[key] = false;\n        });\n        if (toggleKeys) {\n            toggleKeys.forEach(key => {\n                obj[key] = true;\n            });\n        }\n        return obj;\n    };\n}\nconst toggleShow = makeToggle([\"showShare\", \"showList\", \"showSellerList\", \"showMenu\"]);\n\n\n\nexport class MoreShare extends Component {\n    state = {\n        showShare: false,\n        showList: false,\n        showMenu: false,\n        headerGap: null,\n\n        referrerURL: null,\n        linkCopied: false,\n    };\n\n    setStateSafe(...args) {\n        if (this.mounted) {\n            this.setState(...args);\n        }\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        this.clickOutside = new ClickOutside({ component: this, popupElementRefKey: \"MoreShareEl\" });\n        \n        if (this.props.facadeShowShare) {\n            this.handleShareDisplay();\n        }\n        if (this.props.facadeShowList) {\n            this.handleMoreShareToggle();\n        }\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n        this.clickOutside.destroy();\n    }\n\n    componentDidUpdate(pp, ps) {\n        const ns = this.state;\n        const { showList, showShare, showMenu } = ns;\n        if (showList || showShare || showMenu) {\n            this.clickOutside.handleAttach(this.closePopup);\n            this.checkViewport();\n\n            if (showShare || showMenu) {\n                getShareURL(this);\n            }\n        }\n\n        if (ns.showMenu !== ps.showMenu && ns.showMenu === false) {\n            this.setState({ linkCopied: false });\n            clearTimeout(this.linkCopiedRemovalTimer);\n            this.linkCopiedRemovalTimer = null;\n        }\n    }\n\n    handleShareDisplay = () => {\n        this.setStateSafe(\n            {\n                showShare: !this.state.showShare,\n                showList: false,\n                showMenu: false,\n                headerGap: getElementGapFromHeader(this.moreMenuButton)\n            },\n            this.handleHook\n        );\n        if (this.props.objectType === ShareObjectTypes.thing) {\n            MP(\"Share\", { \"thing id\": this.props.objectId });\n        }\n    };\n\n    handleListDisplay = () => {\n        if (!FancyUser.loggedIn) {\n            this.closePopup();\n            window.require_login();\n            return;\n        }\n        const showList = !this.state.showList;\n        this.setStateSafe(toggleShow(showList ? \"showList\" : null), this.handleHook);\n    };\n\n    handleMerchantListDisplay = () => {\n        if (!FancyUser.loggedIn) {\n            this.closePopup();\n            window.require_login();\n            return;\n        }\n        const showSellerList = !this.state.showSellerList;\n        this.setStateSafe(toggleShow(showSellerList ? \"showSellerList\" : null), this.handleHook);\n    };\n\n    closePopup = () => {\n        this.removeViewportCheck();\n        this.setStateSafe(toggleShow(), this.handleHook);\n    };\n\n    viewPortChecking = false;\n    evtName = \"scrollstop.MoreShare\";\n    checkViewport = () => {\n        if (this.viewPortChecking) {\n            return;\n        }\n        this.viewPortChecking = true;\n        $(window).on(this.evtName, () => {\n            const $root = $(this.MoreShareEl);\n            const headerEl = $(\"#header .header-featured\").get(0);\n\n            const { showMenu, showShare, showList, showSellerList } = this.state;\n            let sel;\n            if (showMenu) {\n                sel = \"#more-menu\";\n            } else if (showShare) {\n                sel = \"#show-share\";\n            } else if (showList || showSellerList) {\n                sel = \"#show-addlist\";\n            }\n            const el = $root.find(sel).get(0);\n            if (el) {\n                const outsideViewport = isElementOutsideViewport(el, { element: headerEl, type: \"top\" });\n\n                if (outsideViewport) {\n                    this.closePopup();\n                }\n            }\n        });\n    };\n\n    removeViewportCheck = () => {\n        this.viewPortChecking = false;\n        $(window).off(this.evtName);\n    };\n\n    handleMoreShareToggle = () => {\n        const { objectType } = this.props;\n        const { showMenu, showShare, showList, showSellerList } = this.state;\n        // thing types will show menu\n        if (objectType === ShareObjectTypes.thing || objectType === ShareObjectTypes.article) {\n            if (showMenu || showShare || showList || showSellerList) {\n                this.closePopup();\n            } else {\n                this.setStateSafe(\n                    {\n                        showMenu: true,\n                        headerGap: getElementGapFromHeader(this.moreMenuButton)\n                    },\n                    this.handleHook\n                );\n            }\n            // non-thing types will show share popover directly, because add-to-list is not available\n        } else {\n            this.handleShareDisplay();\n        }\n        return false;\n    };\n\n    handleHook = () => {\n        if (this.props.onShowSomething) {\n            const { showList, showShare, showMenu, showSellerList } = this.state;\n            this.props.onShowSomething(showList || showShare || showMenu || showSellerList, this);\n        }\n    };\n\n    handleHideList = () => {\n        this.setStateSafe({ showList: false });\n    };\n\n    handleHideShare = () => {\n        this.setStateSafe({ showShare: false });\n    };\n\n    linkCopiedRemovalTimer = null;\n    handleCopyLink = () => {\n        if (this.linkCopiedRemovalTimer != null) {\n            return;\n        }\n        copyToClipboard(this.state.referrerURL, {\n            cb: () => {\n                this.setState({ linkCopied: true });\n                this.linkCopiedRemovalTimer = setTimeout(() => {\n                    this.setState({ linkCopied: false });\n                }, 5000);\n            }\n        });\n    };\n\n    handleFancydByDisplay = () => {\n        event.preventDefault();\n        event.stopPropagation();\n        const { viewerUsername, objectId, objectType } = this.props;\n\n        renderPopup(FancydByPopup, { objectId, objectType, loggedIn: FancyUser.loggedIn, viewerId: viewerUsername });\n    };\n\n    shouldShowMerchantCollection() {\n        return FancyUser.merchant && FancyUser.active_merchant;\n    }\n\n    render() {\n        const {\n            title,\n            viewerUsername,\n            componentClass = \"menu-container\",\n            btnClass = \"btn-more\",\n            objectType,\n            objectMeta,\n            objectId,\n            showShortcuts = true,\n            fromThingSidebar = false\n        } = this.props;\n\n        if (objectType == null) {\n            console.warn(\"objectType is not defined\");\n        }\n\n        const {\n            showShare,\n            showList,\n            showMenu,\n            headerGap,\n            referrerURL,\n            linkCopied,\n            showSellerList\n        } = this.state;\n        const isThing = objectType === ShareObjectTypes.thing;\n        const isArticle = objectType === ShareObjectTypes.article;\n\n        let showMerchantList = this.shouldShowMerchantCollection();\n        let merchantId = showMerchantList && showSellerList ? FancyUser.id : null;\n        const newLayout = fromThingSidebar;\n\n        return (\n            <em\n                className={classnames(componentClass, \"on-home ignore-ext\", {\n                    open: showShare || showList || showMenu\n                })}\n                ref={el => {\n                    this.MoreShareEl = el;\n                }}\n                data-rendered=\"true\">\n                {newLayout && <button className=\"btn-share\" onClick={this.handleShareDisplay} />}\n                <small\n                    className={btnClass}\n                    onClick={this.handleMoreShareToggle}\n                    ref={element => {\n                        this.moreMenuButton = element;\n                    }}>\n                    {<em>{SharePopover.getShareMessage(objectType, \"Share & Lists\")}</em>}\n                </small>\n                {(isThing || isArticle) && (\n                    <small\n                        id=\"more-menu\"\n                        className={classnames(\"has-arrow menu-content react new\", {\n                            opened: showMenu,\n                            bot: headerGap && headerGap < 16 + 109 /*= tip + bubble*/\n                        })}>\n                        {!newLayout && (\n                            <button className=\"share before-bg-share2\" onClick={this.handleShareDisplay}>\n                                <b>{gettext(\"Share item\")}</b>\n                                <small>{gettext(\"Share this with friends\")}</small>\n                            </button>\n                        )}\n                        {newLayout && (\n                            <button className=\"fancyd-by before-bg-share2\" onClick={this.handleFancydByDisplay}>\n                                <b>{gettext(\"Fancy'd By\")}</b>\n                                <small>{gettext(\"People who fancy'd this\")}</small>\n                            </button>\n                        )}\n                        {isThing && (\n                            <button className=\"add-list before-bg-share2\" onClick={this.handleListDisplay}>\n                                <b>{gettext(\"Lists\")}</b>\n                                <small>{gettext(\"Add this to your saved lists\")}</small>\n                            </button>\n                        )}\n                        {showMerchantList && (\n                            <button className=\"add-list before-bg-share2\" onClick={this.handleMerchantListDisplay}>\n                                <b>{gettext(\"Add to Collection\")}</b>\n                                <small>{gettext(\"Save this to your collections\")}</small>\n                            </button>\n                        )}\n                        {showShortcuts && (\n                            <span>\n                                <button\n                                    style={referrerURL ? null : { opacity: 0.7 }}\n                                    className={classnames(\"copy-link\")}\n                                    onClick={this.handleCopyLink}>\n                                    <b>{linkCopied ? \"Copied to clipboard\" : \"Item link\"}</b>\n                                    <small>Copy link to clipboard</small>\n                                </button>\n                            </span>\n                        )}\n                    </small>\n                )}\n                {isThing && (\n                    <AddlistPopover\n                        key={`${objectId}-${merchantId}` || `${objectId}-addlist`}\n                        objectType={objectType}\n                        objectId={objectId}\n                        showList={showList || showSellerList}\n                        merchantId={merchantId}\n                        viewerUsername={viewerUsername}\n                        handleHide={this.handleHideList}\n                        headerGap={headerGap}\n                    />\n                )}\n                <SharePopover\n                    objectType={objectType}\n                    objectId={objectId}\n                    objectMeta={objectMeta}\n                    showShare={showShare}\n                    title={title}\n                    referrerURL={this.state.referrerURL}\n                    viewerUsername={viewerUsername}\n                    headerGap={headerGap}\n                    handleHide={this.handleHideShare}\n                />\n            </em>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { MoreShare } from \"common-components\";\n\n\nexport class MoreShareFacade extends Component {\n    state = {\n        share: false,\n        list: false\n    };\n\n    handleClickShare = () => {\n        this.setState({ share: true });\n    };\n\n    handleClickList = () => {\n        this.setState({ list: true });\n    };\n\n    render() {\n        const { share, list } = this.state;\n        return (\n            <React.Fragment>\n                {!(share || list) && (\n                    <FakeMoreShare onClickShare={this.handleClickShare} onClickAddlist={this.handleClickList} />\n                )}\n                {(share || list) && <MoreShare {...this.props} facadeShowShare={share} facadeShowList={list} />}\n            </React.Fragment>\n        );\n    }\n}\n\nclass FakeMoreShare extends Component {\n    render() {\n        return (\n            <em className=\"menu-container on-home ignore-ext\" data-rendered=\"true\">\n                <button className=\"btn-share\" onClick={this.props.onClickShare}></button>\n                <small className=\"btn-more\" onClick={this.props.onClickAddlist}>\n                    <em>Share &amp; Lists</em>\n                </small>\n            </em>\n        );\n    }\n}","import createHistory from \"history/createBrowserHistory\";\n\nexport const history = createHistory()\n","// fork of recommend-slide (accacb79d2af557369e02132ef5f486d226aa5d3)\nexport default function applyProductSlide() {\n    $(function() {\n        var mWidth = 920;\n\n        function initSlide($el, option) {\n            var $slide;\n            if ($el.is('.itemSlide, .slideshow')) {\n                $slide = $el;\n            } else {\n                $slide = $el.find(\".itemSlide, .slideshow\");\n            }\n            $slide.data('slideInit', true);\n            var $list = $el.find(\"ul\"),\n                $li = $list.find(\"li\"),\n                itemWidth = $li.width() + 20,\n                $prev = $el.find(\"a.prev\"),\n                $next = $el.find(\"a.next\");\n            var slideWidth = null;\n\n            if (option.itemPerSlide) slideWidth = itemWidth * option.itemPerSlide;\n\n            function resetRecommend() {\n                if (!$slide || !$li) {\n                    $el.css(\"visibility\", \"visible\");\n                    return;\n                }\n\n                if (slideWidth && slideWidth > itemWidth * $li.length) {\n                    $el.css(\"visibility\", \"visible\");\n                    return;\n                }\n\n                if ($(window).width() < mWidth) {\n                    if (option.center) {\n                        $slide.find(\".itemList\").scrollLeft(($li.length * 147 - $(window).width() + 20) / 2);\n                    }\n                    $prev.removeClass(\"disabled\");\n                    $next.removeClass(\"disabled\");\n                } else {\n                    if ($slide.width() > itemWidth * $li.length) {\n                        $prev.addClass(\"disabled\");\n                        $next.addClass(\"disabled\");\n                        if (option.center) {\n                            $slide.find(\".itemList\").css(\"left\", \"0px\");\n                        }\n                    } else {\n                        if (option.center) {\n                            $slide\n                                .find(\".itemList\")\n                                .css(\"left\", -parseInt(($li.length * 285 - $(window).width() + 20) / 2) + \"px\");\n                        }\n                        $prev.removeClass(\"disabled\");\n                        $next.removeClass(\"disabled\");\n                    }\n                }\n                $el.css(\"visibility\", \"visible\");\n            }\n\n            function getPrevLeft($el) {\n                preparePrev();\n                var left = Math.abs(parseInt($list.css(\"left\"))),\n                    nextLeft,\n                    width = $slide.width();\n                if (slideWidth) width = slideWidth;\n                nextLeft = left - width;\n                return nextLeft;\n            }\n\n            function getNextLeft($el) {\n                prepareNext();\n                var left = Math.abs(parseInt($list.css(\"left\"))),\n                    nextLeft,\n                    width = $slide.width();\n                if (slideWidth) width = slideWidth;\n                nextLeft = left + width;\n                return nextLeft;\n            }\n\n            function preparePrev() {\n                var $li = $list.find(\"li\"),\n                    left = Math.abs(parseInt($list.css(\"left\"))),\n                    width = $slide.width(),\n                    itemWidth = $li.width() + 20;\n                if (slideWidth) width = slideWidth;\n\n                if (left < width) {\n                    var prepareCount = Math.ceil(Math.abs(width - left) / itemWidth);\n                    for (var i = 0; i < prepareCount; i++) {\n                        var $el = $list.find(\"li:not([_prev])\").last();\n                        $el.clone().insertBefore($list.find(\"li\").first());\n                        $el.attr(\"_prev\", true);\n                    }\n                    $list.css(\"left\", 0 - left - prepareCount * itemWidth + \"px\");\n                }\n            }\n\n            function prepareNext() {\n                var $li = $list.find(\"li\"),\n                    left = Math.abs(parseInt($list.css(\"left\"))),\n                    width = $slide.width(),\n                    listWidth = $li.length * ($li.width() + 20),\n                    itemWidth = $li.width() + 20,\n                    spare = listWidth - (left + width);\n                if (slideWidth) width = slideWidth;\n                if (spare - width < width) {\n                    var prepareCount = Math.ceil(Math.abs(width - (listWidth - (left + width))) / itemWidth);\n                    for (var i = 0; i < prepareCount; i++) {\n                        var $el = $list.find(\"li:not([_next])\").first();\n                        $el.clone().insertAfter($list.find(\"li\").last());\n                        $el.attr(\"_next\", true);\n                    }\n                }\n            }\n\n            function clearOld() {\n                var $li = $list.find(\"li\"),\n                    left = Math.abs(parseInt($list.css(\"left\"))),\n                    itemWidth = $li.width() + 20,\n                    $prev = $list.find(\"li[_next]:not(:in-viewport)\"),\n                    prevCnt = $prev.length;\n                $list.find(\"li[_prev]:not(:in-viewport)\").remove();\n                $prev.remove();\n                $list.css(\"left\", 0 - left + prevCnt * itemWidth + \"px\");\n            }\n\n            resetRecommend();\n\n            if (slideWidth && slideWidth > itemWidth * $li.length) {\n                $prev.hide();\n                $next.hide();\n            }\n\n            $el.on(\"click\", \"a.prev\", function(e) {\n                e.preventDefault();\n                var $this = $(this);\n                if ($this.hasClass(\"_disabled\")) return;\n                var left = getPrevLeft($el);\n                $this.addClass(\"_disabled\");\n                $list.animate({ left: 0 - left + \"px\" }, 300, \"easeInOutExpo\", function() {\n                    clearOld();\n                    $this.removeClass(\"_disabled\");\n                });\n            }).on(\"click\", \"a.next\", function(e) {\n                e.preventDefault();\n                var $this = $(this);\n                if ($this.hasClass(\"_disabled\")) return;\n                var left = getNextLeft($el);\n                $this.addClass(\"_disabled\");\n                $list.animate({ left: 0 - left + \"px\" }, 300, \"easeInOutExpo\", function() {\n                    clearOld();\n                    $this.removeClass(\"_disabled\");\n                });\n            });\n        }\n\n        $.fn.productSlide = function(option) {\n            var option = option || { center: true };\n            var self = this;\n            var $slides = this.each(function() {\n                var $el = $(this);\n                initSlide($el, option);\n            });\n\n            return $slides;\n        };\n    });\n}\n","export function toggleUpload(uploadInput) {\n    const evt = document.createEvent(\"MouseEvents\");\n    evt.initEvent(\"click\", true, false);\n    uploadInput.dispatchEvent(evt);\n}\n\nexport function uploadVideo () {\n    return $(\"#video-file\").fileupload({\n        dataType: 'json',\n        url: '',\n        start: function(e, data) {\n            $('.cover.video .cover-preview .add').hide();\n            $('.cover.video .cover-preview').find('li.item .btn-del').hide();\n            $('.cover.video .cover-preview').find('li.item').removeClass('added').addClass('loading').show();\n        },\n        add: function(e, data){\n          var fname = data.files[0].name.split(\".\");\n          var ext = fname[fname.length-1];\n          if( /(mov|avi|mkv|mpg|mp4)/i.test(ext)){\n              data.type = 'POST';\n              data.url = '/rest-api/v1/videos/videocontents';\n              data.paramName = 'video-file';\n          }else{\n              alertify.alert('Please select a video file');\n              return;\n          }\n          \n          data.process().done(function () {\n              data.submit();\n          });\n        },\n        done: function(e, data) {\n          if(data.result.status){\n            $('.cover.video .cover-preview').find('li.item .btn-del').show();\n            $('.cover.video .cover-preview').find('li.item').attr('video_id', data.result.id ).removeClass('loading').addClass('added');\n          } else {\n            alertify.alert(\"An error occurred. Please check the file and try again.\");\n            $('.cover.video .cover-preview .add').show();\n            $('.cover.video .cover-preview').find('li.item').removeClass('loading').hide();\n          }\n        },\n        fail: function(e){\n          alertify.alert(\"An error occurred. Please check the file and try again.\");\n          $('.cover.video .cover-preview .add').show();\n          $('.cover.video .cover-preview').find('li.item').removeClass('loading').hide();\n        },\n        always: function(e){\n          \n        }\n    });\n}\n\n","import React from \"react\";\nimport { Display } from \"fancymixin\";\nimport { formatDuration } from \"fancyutils\";\nimport { Video } from \"common-components\";\n\nimport { toggleUpload } from \"./LocalUtils\";\n\n\nfunction getExtension(filename) {\n    const spl = filename.split(\".\");\n    return spl[spl.length - 1];\n}\n\nconst allowedVideoExtensions = [\"mp4\", \"avi\", \"mov\"];\nconst VideoUploadStatus = {\n    Unknown: \"Unknown\", // fetching existing information\n    Blank: \"Blank\",\n    Uploading: \"Uploading\",\n    VideoOnProcess: \"VideoOnProcess\",\n    UploadCompleted: \"UploadCompleted\",\n    UploadFailed: \"UploadFailed\"\n};\n\nclass VideoReadyCheckPoll {\n    videoId = null;\n    timeout = 1000;\n    callback = null;\n    requesting = false;\n\n    constructor(videoId, callback, timeout) {\n        this.videoId = videoId;\n        this.callback = callback;\n        if (timeout) {\n            this.timeout = timeout;\n        }\n        this.start();\n    }\n\n    timerId = null;\n    start() {\n        if (this.requesting) {\n            return;\n        }\n        this.requesting = true;\n        this.timerId = setInterval(() => {\n            $.get(`/rest-api/v1/videos/videocontents/${this.videoId}`)\n                .then(res => {\n                    this.requesting = false;\n                    console.log(\"video ready status:\", res.status);\n                    if (this.timerId != null && res.status === \"ready\" && res.pending_job === null) {\n                        this.clear();\n                        const cb = this.callback;\n                        cb(res);\n                    }\n                })\n                .fail(xhr => {\n                    this.clear();\n                    console.warn(\"video ready poll error:\", xhr);\n                });\n        }, this.timeout);\n    }\n\n    clear() {\n        clearInterval(this.timerId);\n        this.timerId = null;\n    }\n}\n\nexport default class CoverImage extends React.Component {\n    FullWidth = 970;\n\n    state = {\n        loading: false,\n        loaderPx: null,\n        videoPlaying: false\n    };\n\n    componentDidMount() {\n        if (this.getImageType() === \"cover_video\") {\n            const cover = this.getCoverObject();\n            let videoStatus;\n            switch (cover.status) {\n                case 0:\n                case 1:\n                    videoStatus = VideoUploadStatus.VideoOnProcess;\n                    this.createVideoReadyPoll(cover.id);\n                    break;\n                case 2:\n                    videoStatus = VideoUploadStatus.UploadCompleted;\n                    break;\n                case 3:\n                    videoStatus = VideoUploadStatus.UploadFailed;\n                    break;\n            }\n            this.setState({ videoStatus });\n        }\n    }\n\n    handleInsertCoverImage = _ => {\n        toggleUpload(this.imageUploadInput);\n    };\n\n    handleInsertCoverVideo = _ => {\n        toggleUpload(this.videoUploadInput);\n    };\n\n    handleImageUpload = event => {\n        if (this.state.loading) {\n            return;\n        }\n        if (event.target.files.length === 0) {\n            return;\n        }\n        const targ = event.target;\n        this.toggleLoading(true, () => {\n            //const filename = fuzzyNameSplitter(event.target.value);\n            this.uploadImage(targ);\n        });\n    };\n\n    baseLoaderPx = -132;\n    handleProgress = (loaded, total) => {\n        const loaderPx = this.baseLoaderPx + -this.baseLoaderPx * loaded / total;\n        this.setState({ loaderPx });\n    };\n\n    reset = null;\n    resetLoader = () => {\n        if (this.reset) {\n            return;\n        }\n        this.reset = setTimeout(() => {\n            this.setState({ loaderPx: 0 }, () => {\n                this.toggleLoading(false, () => {\n                    this.setState({ loaderPx: null });\n                });\n            });\n        }, 300);\n    };\n\n    createXhr = () => {\n        const xhr = new XMLHttpRequest();\n        xhr.upload.addEventListener(\"load\", this.resetLoader);\n        xhr.upload.addEventListener(\"error\", this.resetLoader);\n        xhr.upload.addEventListener(\"abort\", this.resetLoader);\n        xhr.upload.addEventListener(\n            \"progress\",\n            e => {\n                this.handleProgress(e.loaded, e.total);\n            },\n            false\n        );\n        return xhr;\n    };\n\n    uploadImage = fileInput => {\n        var file_form = fileInput;\n        var file;\n\n        var filelist = file_form.files || (file_form.value ? [{ name: file_form.value }] : []);\n        if (filelist && filelist.length) {\n            file = filelist[0];\n        }\n\n        if (!file) {\n            this.toggleLoading(false);\n            alert(gettext(\"Please select a file to upload\"));\n            return false;\n        }\n\n        if (!/([^\\\\\\/]+\\.(jpe?g|png|gif))$/i.test(file.name || file.filename)) {\n            this.toggleLoading(false);\n            alert(gettext(\"The image must be in one of the following formats: .jpeg, .jpg, .gif or .png.\"));\n            return false;\n        }\n\n        var filename = RegExp.$1;\n        const xhr = this.createXhr();\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState !== 4) {\n                return;\n            } else if (xhr.readyState === 4 && (xhr.responseText == null || xhr.responseText === \"\")) {\n                return;\n            }\n\n            if (xhr.status === 200) {\n                // success\n                var data = xhr.responseText;\n                var json;\n                try {\n                    json = window.JSON.parse(data);\n                } catch (e) {\n                    try {\n                        json = new Function(\"return \" + data)();\n                    } catch (ee) {\n                        json = null;\n                    }\n                }\n                this.handleUploadImageComplete(json);\n            } else {\n                this.toggleLoading(false);\n            }\n        };\n\n        xhr.open(\"POST\", \"/upload_cover_image.json?max_width=1200&filename=\" + filename, true);\n        xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n        xhr.setRequestHeader(\"X-Filename\", encodeURIComponent(filename));\n        xhr.send(file);\n    };\n\n    toggleLoading(loading, callback) {\n        if (loading === this.state.loading) {\n            if (callback) {\n                callback();\n            }\n        } else {\n            const nextState = { loading };\n            if (loading === true) {\n                nextState.tempImage = {\n                    url: window.blankUrl,\n                    width: this.FullWidth,\n                    height: 246\n                };\n            }\n            callback = callback || function() {};\n            this.setState(nextState, callback);\n        }\n    }\n\n    // Fancy.CoverImage._uploadComplete\n    handleUploadImageComplete({ image }) {\n        this.toggleLoading(false, () => {\n            this.setState({ tempImage: null });\n            this.props.setArticleProp(\"cover_image\", image);\n        });\n    }\n\n    videoReadyPoll = null;\n    createVideoReadyPoll = videoId => {\n        this.videoReadyPoll = new VideoReadyCheckPoll(videoId, res => {\n            this.props.setArticleProp(\"cover_video.thumbnail_url\", res.thumbnail);\n            this.props.setArticleProp(\"cover_video.autoplay\", res.autoplay);\n            this.props.setArticleProp(\"cover_video.loop\", res.loop);\n\n            try {\n                this.props.setArticleProp(\"cover_video.duration\", res.outputs.h264_400k.duration);\n                this.props.setArticleProp(\"cover_video.url\", res.outputs.h264_400k.url);\n                this.props.setArticleProp(\"cover_video.width\", res.outputs.h264_400k.width);\n                this.props.setArticleProp(\"cover_video.height\", res.outputs.h264_400k.height);\n            } catch (e) {\n                console.warn(e);\n                window.alertify(\"unable to set uploaded cover. Please save and reload to see correct result.\");\n            }\n\n            this.setState({\n                tempImage: null,\n                videoStatus: VideoUploadStatus.UploadCompleted\n            });\n        });\n    };\n\n    handleVideoUpload = event => {\n        if (this.state.loading) {\n            return;\n        }\n        if (event.target.files.length === 0) {\n            return;\n        }\n        if (this.videoReadyPoll) {\n            this.videoReadyPoll.clear();\n        }\n        this.toggleLoading(true, () => {\n            const inputEl = this.videoUploadInput;\n            const fileVal = inputEl.value.trim();\n            const ext = getExtension(fileVal);\n            const extensionIsAllowed = allowedVideoExtensions.some(ext => ext === ext);\n            if (!extensionIsAllowed && !window.confirm(`Extension '.${ext}' is not allowed. Proceed?`)) {\n                return false;\n            }\n\n            this.setState({ videoStatus: VideoUploadStatus.Uploading }, () => {\n                const formData = new window.FormData();\n                formData.append(\"video-file\", inputEl.files[0]);\n                $.ajax({\n                    url: \"/rest-api/v1/videos/videocontents\",\n                    processData: false,\n                    contentType: false,\n                    type: \"POST\",\n                    data: formData,\n                    xhr: this.createXhr\n                })\n                    .success((res, status) => {\n                        console.log(\"handleVideoUpload -> success\", res, status);\n                        //const video_id = res.id;\n                        this.setState({ videoStatus: VideoUploadStatus.VideoOnProcess });\n                        this.props.setArticleProp(\"cover_video.id\", res.id);\n                        this.props.setArticleProp(\"remove_video\", null);\n                        this.createVideoReadyPoll(res.id);\n                    })\n                    .fail((data, status, e) => {\n                        console.warn(\"handleVideoUpload -> fail\", data, status);\n                        this.setState({ videoStatus: VideoUploadStatus.Blank });\n                        alert(`${e}: failed to upload video. Please try again.`);\n                    })\n                    .always(() => {\n                        this.toggleLoading(false);\n                    });\n            });\n        });\n        return false;\n    };\n\n    getCoverObject() {\n        const s = this.state;\n        const p = this.props;\n        return s.tempImage || (p.cover_video && p.cover_video.thumbnail_url && p.cover_video) || p.cover_image;\n    }\n\n    getImage() {\n        const cover = this.getCoverObject();\n        if (this.state.tempImage) {\n            return cover.url;\n        } else if (this.props.cover_video && this.props.cover_video.thumbnail_url) {\n            return cover.thumbnail_url;\n        } else if (this.props.cover_image) {\n            return cover.url;\n        } else {\n            return \"\";\n        }\n    }\n\n    getImageType() {\n        if (this.state.loading) {\n            return \"loading\";\n        }\n\n        if (this.state.tempImage) {\n            return \"tempImage\";\n        } else if (this.props.cover_video && this.props.cover_video.thumbnail_url) {\n            return \"cover_video\";\n        } else if (this.props.cover_image) {\n            return \"cover_image\";\n        }\n    }\n\n    getImageDimension() {\n        const cover = this.getCoverObject();\n        let w, h;\n        if (cover) {\n            w = cover.width;\n            h = cover.height;\n        }\n\n        const style = { width: `${this.FullWidth}px`, widthNumber: w };\n        if (w != null && h != null) {\n            const proportion = this.FullWidth / w;\n            style.height = `${proportion * h}px`;\n            style.heightNumber = proportion * h;\n        } else {\n            style.height = `246px`;\n        }\n        return style;\n    }\n\n    handleRemove = event => {\n        event.stopPropagation();\n        const type = this.getImageType();\n        if (type === \"cover_video\") {\n            this.props.setArticleProp(\"cover_video\", null);\n            this.props.setArticleProp(\"remove_video\", true);\n        } else if (type === \"cover_image\") {\n            this.props.setArticleProp(\"cover_image\", null);\n        }\n    };\n\n    handleLoopChange = event => {\n        event.stopPropagation();\n        this.props.setArticleProp(\"cover_video.loop\", event.target.checked);\n    };\n\n    handleAutoplayChange = event => {\n        event.stopPropagation();\n        this.props.setArticleProp(\"cover_video.autoplay\", event.target.checked);\n    };\n\n    handleCoverImageRemove = event => {\n        event.stopPropagation();\n        this.props.setArticleProp(\"cover_image\", null);\n    };\n\n    render() {\n        const { loading, videoStatus, videoPlaying } = this.state;\n\n        const { cover_image } = this.props;\n        const imageType = this.getImageType();\n        const image = this.getImage();\n        const cover = this.getCoverObject();\n        const coverImageStyle = {};\n\n        if (image) {\n            const imageDimension = this.getImageDimension();\n            coverImageStyle.backgroundImage = `url(${image})`;\n            if (imageDimension.widthNumber != null && imageDimension.widthNumber > 970) {\n                coverImageStyle.backgroundSize = imageDimension.width;\n                coverImageStyle.height = imageDimension.height;\n            }\n        }\n\n        const loaderPx = this.state.loaderPx != null ? `${this.state.loaderPx}px` : null;\n\n        // view converted model values\n        let autoplay = false;\n        let loop = false;\n        let duration = null;\n        if (cover) {\n            autoplay = cover.autoplay === true;\n            loop = cover.loop === true;\n            if (imageType === \"cover_video\") {\n                duration = formatDuration(cover.duration);\n            } else {\n                duration = formatDuration(0);\n            }\n        }\n\n        const coverImageThumbnailStyle = {};\n        // Thumbnail image when cover video and cover image coexists.\n        if (imageType === \"cover_video\" && cover_image) {\n            coverImageThumbnailStyle.backgroundImage = `url(${cover_image.url})`;\n        } else {\n            coverImageThumbnailStyle.display = \"none\";\n        }\n\n        let objectForVideo;\n        if (imageType === \"cover_video\" && videoStatus === VideoUploadStatus.UploadCompleted) {\n            objectForVideo = {\n                cover_video: {\n                    original_url: cover.url,\n                    thumbnail_url: cover.thumbnail_url,\n                    loop: cover.loop,\n                    status: \"ready\"\n                }\n            };\n        }\n\n        let heightMaker; // set height by inserting ghost <img />\n        if (imageType === \"cover_image\") {\n            heightMaker = <img className=\"height-maker\" src={image} />;\n        }\n\n        return (\n            <div className=\"inner-wrapper\" onClick={this.handleClick}>\n                <div id=\"coverImage\" className={\"cover purple \" + (image ? \"img-filled\" : '')}>\n                    <div className=\"cover-image-thumbnail\" style={coverImageThumbnailStyle} title=\"Cover image\">\n                        <a className=\"remove\" onClick={this.handleCoverImageRemove} title=\"Remove cover image\" />\n                    </div>\n                    <div\n                        className={`add ${imageType !== \"loading\" && image ? \"img-filled\" : \"blank\"} ${\n                            loading ? \"loading\" : \"\"\n                        }`}\n                        style={coverImageStyle}>\n                        {imageType === \"cover_video\" && [\n                            <span\n                                key=\"video-autoplay\"\n                                className=\"video-autoplay\"\n                                onClick={event => {\n                                    event.stopPropagation();\n                                }}>\n                                <input\n                                    type=\"checkbox\"\n                                    className=\"video-autoplay-value\"\n                                    id=\"video-autoplay-value\"\n                                    defaultChecked=\"checked\"\n                                    checked={autoplay}\n                                    onChange={this.handleAutoplayChange}\n                                />\n                                <label htmlFor=\"video-autoplay-value\">Autoplay</label>\n                            </span>,\n                            <span\n                                key=\"video-loop\"\n                                className=\"video-loop\"\n                                onClick={event => {\n                                    event.stopPropagation();\n                                }}>\n                                <input\n                                    type=\"checkbox\"\n                                    className=\"video-loop-value\"\n                                    id=\"video-loop-value\"\n                                    defaultChecked=\"checked\"\n                                    checked={loop}\n                                    onChange={this.handleLoopChange}\n                                />\n                                <label htmlFor=\"video-loop-value\">Loop Video</label>\n                            </span>,\n                            <span key=\"video-time\" className=\"time\">\n                                {duration}\n                            </span>\n                        ]}\n                        {objectForVideo && (\n                            <Video\n                                object={objectForVideo}\n                                display={true}\n                                autoplay={false}\n                                allow={{ showInfoAlways: true }}\n                                onPause={() => {\n                                    this.setState({ videoPlaying: false });\n                                }}\n                                onPlay={() => {\n                                    this.setState({ videoPlaying: true });\n                                }}\n                            />\n                        )}\n                        {videoStatus === VideoUploadStatus.VideoOnProcess && (\n                            <div className=\"video-wait-banner\">Processing video...</div>\n                        )}\n                        {heightMaker}\n                        <i className=\"loader\" style={{ backgroundPosition: loaderPx }} />\n                        <small\n                            className=\"add_option_tools\"\n                            style={Display.NoneIf(videoPlaying || videoStatus === VideoUploadStatus.VideoOnProcess)}>\n                            <a onClick={this.handleInsertCoverImage}>{window.isWhitelabelV2 ? 'Upload article image' : 'Insert Cover Image'}</a>\n                            <a onClick={this.handleInsertCoverVideo}>{window.isWhitelabelV2 ? 'Upload article video' : 'Insert Cover Video'}</a>\n                            <input\n                                type=\"file\"\n                                id=\"cover-image\"\n                                ref={element => {\n                                    this.imageUploadInput = element;\n                                }}\n                                onChange={this.handleImageUpload}\n                                style={Display.None}\n                                accept=\"image/*\"\n                            />\n                            <input\n                                type=\"file\"\n                                id=\"cover-video\"\n                                ref={element => {\n                                    this.videoUploadInput = element;\n                                }}\n                                onChange={this.handleVideoUpload}\n                                style={Display.None}\n                                accept=\"video/*\"\n                            />\n                        </small>\n                    </div>\n                    {image !== \"\" && <a className=\"remove\" onClick={this.handleRemove} />}\n                </div>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport classnames from 'classnames';\nimport { Display } from 'fancymixin';\nimport { KEYS, ClickOutside, triggerEvent } from 'fancyutils'\nimport autosize from 'autosize';\nimport dateFormat from 'date-fns/format'\nimport ContentEditable from 'react-contenteditable'\n\n\nexport default class Info extends React.Component {\n    handleAuthorChange = event => {\n        this.props.setArticleProp('authors', event.target.value);\n    }\n\n    handleTitleChange = event => {\n        this.props.setArticleProp('title', event.target.value);\n    }\n\n    handleTaglineChange = event => {\n        this.props.setArticleProp('tagline', event.target.value);\n    }\n\n    componentDidMount() {\n        autosize(this.ta1);\n        autosize(this.ta2);\n    }\n\n    render() {\n        const { actionButtonText, actionButtonLink, authors, setArticleProp, title, tagline, dateCreated, saveCount } = this.props;\n\n        return (\n            <div className=\"info\">\n                  <h2 className=\"title\">\n                      <b>\n                          <textarea ref={(e)=>{this.ta1 = e}}\n                                    type=\"text\" placeholder=\"Article Title\"\n                                    onChange={this.handleTitleChange}\n                                    value={title} />\n                      </b>\n                      <small>\n                          <textarea ref={(e)=>{this.ta2 = e}} type=\"text\" placeholder=\"Article Tagline\"\n                                    onChange={this.handleTaglineChange}\n                                    value={tagline} />\n                      </small>\n                  </h2>\n                      {window.isWhitelabelV2 ? \n                        <ContentEditable className=\"author\" onChange={this.handleAuthorChange} html={authors}\n                                         placeholder=\"Type Author\" />\n                        :\n                        <input className=\"author-input author\"\n                               type=\"text\" placeholder={\"TYPE AUTHOR / PHOTOGRAPHER\"}\n                               onChange={this.handleAuthorChange}\n                               value={authors} />\n                      }\n                      {window.isWhitelabelV2 && <div className=\"date text-placeholder\">{dateFormat(dateCreated || new Date, 'MMMM DD, YYYY')}</div>}\n                      <ActionButton setArticleProp={setArticleProp} actionButtonText={actionButtonText}\n                                    actionButtonLink={actionButtonLink} saveCount={saveCount} />\n            </div>\n        )\n    }\n}\n\nclass ActionButton extends React.Component {\n    state = {\n        edit: false\n    };\n\n    componentDidMount() {\n        this.clickOutside = new ClickOutside({ component: this, popupElementRefKey: \"ActionButtonEl\" });\n    }\n\n    componentWillUnmount() {\n        this.clickOutside.destroy();\n    }\n\n    componentDidUpdate() {\n        if (this.state.edit) {\n            this.clickOutside.handleAttach(this.closePopup);\n        }\n    }\n\n    handleEdit = event => {\n        if (event.target === event.currentTarget) {\n            this.setState({ edit: !this.state.edit });\n        }\n    }\n\n    handleActionButtonKeyDown = event => {\n        if (event.keyCode === KEYS.ENTER) {\n            this.setState({ edit: !this.state.edit });\n        }\n    }\n\n    handleButtonTextChange = event => {\n        this.props.setArticleProp('actionButtonText', event.target.value);\n    }\n\n    handleButtonURLChange = event => {\n        this.props.setArticleProp('actionButtonLink', event.target.value);\n    }\n\n    closePopup = () => {\n        this.setState({ edit: false })\n    }\n\n    render() {\n        const { edit } = this.state;\n        const { actionButtonText, actionButtonLink, saveCount } = this.props;\n\n        const actionButton = (<span className=\"btn-shop\" onClick={this.handleEdit} ref={el => {\n                this.ActionButtonEl = el;\n            }}>\n            {actionButtonText || (window.isWhitelabelV2 ? 'Click to set action' : 'Article Button')}\n            <small className=\"button_option\" style={Display.NoneIf(!edit)}>\n                <input type=\"text\" placeholder=\"Button Text\" onChange={this.handleButtonTextChange} value={actionButtonText} onKeyDown={this.handleActionButtonKeyDown} />\n                <input type=\"text\" placeholder=\"Button URL\" onChange={this.handleButtonURLChange} value={actionButtonLink} onKeyDown={this.handleActionButtonKeyDown} />\n            </small>\n        </span>);\n\n        if (window.isWhitelabelV2) {\n            return <div className=\"interaction\">\n                <ul className=\"share\">\n                    <li><a className=\"fb\" onClick={e => e.preventDefault()}></a></li>\n                    <li><a className=\"tw\" onClick={e => e.preventDefault()}></a></li>\n                    <li><a className=\"email\" onClick={e => e.preventDefault()}></a></li>\n                    <li><a className=\"link\" onClick={e => e.preventDefault()}></a></li>\n                </ul>\n                {actionButton}\n                <div className=\"like\">\n                    <a className=\"button button-static fancy _count\"><span><i></i></span>{saveCount || '0'}</a>\n                </div>\n            </div>\n        } else {\n            return actionButton\n        }\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport classnames from 'classnames';\nimport autosize from 'autosize';\nimport { sortable } from 'react-sortable';\n\nimport { triggerEvent } from 'fancyutils';\n\n\n\nfunction move(array, fromIndex, toIndex) {\n    array.splice(toIndex, 0, array.splice(fromIndex, 1)[0] );\n    return array;\n}\n\nwindow.onerror = function(messageOrEvent, source, lineno, colno, error) {\n    alert(`${messageOrEvent} - line:${lineno} col:${colno} error:${error}`);\n}\nconst Galleries = {};\nwindow.Galleries = Galleries;\nexport class GalleryControl {\n    container = null;\n    $container = null;\n    instance = null;\n    id = null;\n    data = { images: [], title: \"\", tagline: \"\" };\n    constructor(data) {\n        if (data) {\n            this.data = data;\n        }\n        this.id = ('' + Math.random()).substr(2, 10);\n        const $conatinerEl = $(`<div class=\"gallery-container\" style=\"display:none;\" data-id=\"${this.id}\"/>`)\n        $('.gallery-container-pool').append($conatinerEl);\n        this.$container = $conatinerEl;\n        this.container = this.$container[0];\n    }\n\n    render(callback) {\n        const ctl = this;\n        const instance = ReactDOM.render(<Gallery {...this.data} control={this} />, this.container, function (...args) {\n            ctl.instance = this;\n            Galleries[ctl.id] = { instance: this, control: ctl }\n            callback(...args)\n        });\n        ctl.instance = instance;\n    }\n\n    processGallery() {\n        // If inserted already, remove existing container\n        const $ct = $(this.container);\n        // prevent modification on container textnode\n        const $galleryWrapper = $ct.closest('.description.more > div');\n        $galleryWrapper\n            .attr('contenteditable', 'false')\n            .addClass('gallery-container-wrapper');\n        $galleryWrapper.find('br').remove();\n    }\n\n    setData(data, callback) {\n        if (data) {\n            this.instance.setState(data, callback);\n        } else {\n            callback();\n        }\n    }\n\n    getDOM() {\n        if (this.instance) {\n            return ReactDOM.findDOMNode(this.instance);\n        }\n    }\n    setState(nextState) {\n        if (this.instance) {\n            this.instance.setState(nextState);\n        }\n    }\n    revert() {\n        if (this.container) {\n            $(this.container).hide();\n            $(this.container).insertAfter($('#article-container'));\n            window.EditorControl.refresh();\n            $('.add_option_tools .gallery-insert-action').css('display', 'block');\n        }\n    }\n\n    // static renderToReplace(target, data, callback) {\n    static renderTo(target, data, callback) {\n        const control = new GalleryControl(data);\n        const $targ = $(target);\n        const id = `shortcode-${control.id}`;\n        $targ.attr('id', id);\n\n        control.render(() => {\n            const $ct = $(control.container);\n            control.setData(data, _ => {\n                const $targ2 = $(`#${id}`);\n                $targ2.replaceWith($ct);\n                control.processGallery();\n                $ct.show();\n                callback && callback(control);\n                // set cursor next and set medium-insert-active\n                const an = document.getSelection().anchorNode;\n                const anWrapper = $(an).closest('p');\n                anWrapper.click();\n            });\n\n            if (!window.isWhitelabelV2) {\n                $('.add_option_tools .gallery-insert-action').hide();\n            }\n        });\n        return control\n    }\n\n    static uploadImages(callback) {\n        var $file = $('#image-fileupload');\n        if ($file.length === 0) {\n            $file = $('<input id=\"image-fileupload\" type=\"file\" multiple style=\"opacity:0.01;\" />');\n            $(document.body).append($file);\n        }\n        $file.one('change', function() {\n            console.log('change');\n            var files = [].slice.call($file.get(0).files);\n            Promise.all(\n                files.map(file =>\n                    new Promise(function(res, rej){ \n                        const formData = new FormData();\n                        formData.append('file', file);\n                        $.ajax({\n                            url: '/_admin/image-upload-add.json',\n                            processData: false,\n                            contentType: false,\n                            type: 'POST',\n                            data: formData,\n                        })\n                        .done((image) => {\n                            console.log('done');\n                            res(image);\n                        })\n                        .fail(jqxhr => {\n                            alert('[Gallery] : addimage fail', jqxhr.responseText);\n                            res();\n                        });\n                    })\n                )\n            ).then((nextImages) => {\n                callback(nextImages)\n            }).catch((jqxhr) => {\n                console.log('failure', jqxhr)\n                callback(false)\n            });\n        });\n        $file.one('click', function() {\n            $(this).val(null)\n        });\n        $file.click();\n    }\n}\n\nexport class Gallery extends React.Component {\n    state = {\n        draggingIndex: null,\n        loaderPx: null,\n        paging: 0,\n        images: [],\n    };\n\n    constructor(props) {\n        super(props);\n        const { control } = props;\n        this.control = control;\n    }\n\n    componentDidMount() {\n        const { images , title, tagline } = this.props;\n        this.setState({\n            images: images || [],\n            title: title || '',\n            tagline: tagline || '' \n        });\n    }\n\n    handleTitleChange = (event) => {\n        this.setState({ title: event.target.value });\n    }\n\n    handleTaglineChange = (event) => {\n        this.setState({ tagline: event.target.value });\n    }\n\n    handleRemove(event) {\n        this.control.revert();\n    }\n\n    serialize() {\n        const { images, title, tagline } = this.state;\n        return {\n            name: 'fancy-article-gallery',\n            images,\n            title,\n            tagline\n        };\n    }\n\n    toggleAdding(nextAddingState) {\n        this.adding = nextAddingState;\n        this.setState({ adding: nextAddingState });\n    }\n\n    loading = false;\n    toggleLoading(nextLoadingState, callback = _=>_) {\n        this.loading = nextLoadingState;\n        this.setState({ loading: nextLoadingState }, callback);\n    }\n    \n    addImages(nextImages) {\n        const { images } = this.state;\n        const newImages = images.map(e => e); // introduce new container\n        nextImages.forEach(({ image_url, id, width, height }) => {\n            if (width == null || height == null) {\n                alert(`[warning] ${id}: There is possibility that the image is not uploaded correctly, or uploaded one is not an image.`)\n            } else {\n                newImages.push({ uiid: id, src: image_url, caption: '' });\n            }\n        });\n        this.setState({ images: newImages });\n    }\n\n    handleAddImage = (event) => {\n        const files = [].slice.call(event.target.files);\n        if (files.length > 0) {\n            this.toggleLoading(true, () => {\n                Promise.all(\n                    files.map(file =>\n                        new Promise(function(res, rej){ \n                            const formData = new FormData();\n                            formData.append('file', file);\n                            $.ajax({\n                                url: '/_admin/image-upload-add.json',\n                                processData: false,\n                                contentType: false,\n                                type: 'POST',\n                                data: formData,\n                                xhr: this.createXhr\n                            })\n                            .done((image) => {\n                                res(image);\n                            })\n                            .fail(jqxhr => {\n                                alert('[Gallery] : addimage fail', jqxhr.responseText);\n                                rej();\n                            });\n                        })\n                    )\n                ).then((nextImages) => {\n                    this.addImages(nextImages);\n                    this.toggleLoading(false);\n                    this.toggleAdding(false);\n                }).catch(() => {\n                    this.toggleLoading(false);\n                    this.toggleAdding(false);\n                })\n            });\n        }\n    };\n\n    // loading animation\n\n    baseLoaderPx = -132;\n    handleProgress = (loaded, total) => {\n        const loaderPx = this.baseLoaderPx + -this.baseLoaderPx * loaded / total;\n        this.setState({ loaderPx });\n    }\n\n    reset = null;\n    resetLoader = () => {\n        if (this.reset) {\n            return;\n        }\n        this.reset = setTimeout(_ => {\n            this.setState({ loaderPx: 0 }, _ => {\n                this.setState({ adding: false }, () => {\n                    this.setState({ loaderPx: null });\n                    this.reset = null;\n                });\n            });\n        }, 300);\n    }\n\n    createXhr = () => {\n        const xhr = new XMLHttpRequest();\n        xhr.upload.addEventListener('load', this.resetLoader);\n        xhr.upload.addEventListener('error', this.resetLoader);\n        xhr.upload.addEventListener('abort', this.resetLoader);\n        xhr.upload.addEventListener('progress', (e) => {\n            this.handleProgress(e.loaded, e.total);\n        }, false);\n        return xhr;\n    }\n    // loding animation end\n\n    handleAddImageClick = (event) => {\n        if (!this.adding) {\n            this.toggleAdding(true);\n        } else {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n\n    handleAddImageFocus = () => {\n        if (this.adding && !this.loading) {\n            this.toggleAdding(false);\n        }\n    }\n\n    handlePagingClick = (event) => {\n        const nextIdx = event.currentTarget.getAttribute('data-idx');\n        this.setState({ paging: Number(nextIdx) });\n\n        var $this = $(event.target);\n        if($this.is(\".gallery .paging a\")){\n            event.preventDefault();\n            \n            var $gallery = $this.closest(\".gallery\");\n            var idx = $this.index();\n            var left = 0;\n            if(idx == 0){\n                left = 0;\n            }else if(idx == $gallery.find(\"li\").length -1 ){\n                left = $gallery.width() - $gallery.find(\".photo-list\").width() ;\n            }else{\n                left = ( $gallery.width() - $gallery.find(\"li:eq(\"+idx+\")\").width() )/2 - $gallery.find(\"li:eq(\"+idx+\")\").position().left\n            }\n            $gallery.find(\".photo-list\").css('left', left+\"px\");\n        }\n    };\n\n    getPaging() {\n        const { images } = this.state;\n        return images ? _.range(0, images.length) : [0];\n    }\n\n    handleCaptionChange = (imageIndex, caption) => {\n        const newImages = this.state.images.map(e => e);\n        newImages[imageIndex].caption = caption;\n        this.setState({ images: newImages });\n    }\n\n    handlePagingPrevNextClick = (event) => {\n        let next;\n        if (this.state.images.length === 0) {\n            return;\n        }\n        const cls = event.currentTarget.className;\n        if (cls === 'prev') {\n            next = Math.max(this.state.paging - 1, 0)\n            if (this.state.paging === next) {\n                next = this.state.images.length - 1;\n            }\n        } else if (cls === 'next') {\n            next = Math.min(this.state.paging + 1, this.state.images.length - 1);\n            if (this.state.paging === next) {\n                next = 0;\n            }\n        }\n        var pagDom = $(this.galleryEl).find('.paging a.pager').eq(next).get(0);\n        triggerEvent(pagDom, 'click');\n    }\n\n    /*handleImageMove = (imageIndex) => {\n        const newImages = this.state.images.map(e => e);\n        move(newImages, imageIndex, (imageIndex +1) % this.state.images.length);\n        this.setState({ images: newImages });\n    }*/\n\n    handleImageRemoval = (imageIndex) => {\n        const { paging, images } = this.state;\n        const newImages = images.map(e => e);\n        move(newImages, imageIndex, newImages.length - 1); // move element to last\n        newImages.pop();\n        const nextState = { images: newImages };\n        if (paging < imageIndex) {\n            // NOOP\n        } else if (paging >= imageIndex) {\n            // Removing last image\n            if (paging === 0 && imageIndex === 0) {\n                if (!window.isWhitelabelV2) {\n                    $(this.photoList).css('left', 0);\n                }\n            }\n            nextState.paging = Math.max(paging - 1, 0);\n        }\n        if (window.isWhitelabelV2 && newImages.length === 0) {\n            this.control.revert();\n        }\n        this.setState(nextState);\n    }\n\n    handleImagePagingChange = (imageIndex) => {\n        var pagDom = $(this.galleryEl).find('.paging a').eq(imageIndex).get(0);\n        triggerEvent(pagDom, 'click');\n    }\n\n    handleImageLinkChange = (imageIndex, link) => {\n        const newImages = this.state.images.map(e => e);\n        newImages[imageIndex].link = link;\n        this.setState({ images: newImages });\n    }\n\n    updateState = (obj) => {\n        this.setState(obj);\n    }\n\n    handleAddImageClick2 = () => {\n        window.GalleryControl.uploadImages((nextImages) => {\n            if (nextImages) {\n                this.addImages(nextImages);\n            }\n        });\n    }\n\n    handleMouseOverGallery = () => {\n        if (window.isWhitelabelV2) {\n            this.setState({ showToolbar: true })\n        }\n    }\n\n    handleMouseOutGallery = () => {\n        if (window.isWhitelabelV2) {\n            this.setState({ showToolbar: false })\n        }\n    }\n\n    handleRemoveSlideshow = () => {\n        this.control.revert();\n    }\n\n    handleOrganizeImages = () => {\n        const data = this.state.images.map(e => ({ url: e.src, id: e.uiid, caption: e.caption || '' }));\n        organizeImageService.open(data, (changedImages) => {\n            this.setState({ images: changedImages.map(e => ({ src: e.url, uiid: e.id, caption: e.caption })) })\n        });\n    }\n\n    render() {\n        const { adding, paging, images, title, tagline, draggingIndex, loading, showToolbar } = this.state;\n        const loaderPx = (this.state.loaderPx != null) ? `${this.state.loaderPx}px` : null;\n        return (\n            <div className=\"gallery\" ref={(element) => {this.galleryEl = element;}} onMouseOver={this.handleMouseOverGallery} onMouseOut={this.handleMouseOutGallery}>\n                <h3>\n                    <input type=\"text\" placeholder=\"Type a Slideshow Title\"\n                           onChange={this.handleTitleChange} value={title} />\n                    {!window.isWhitelabelV2 &&\n                        <small className=\"tagline\">\n                            <input type=\"text\" placeholder=\"Type a gallery tagline\"\n                                onChange={this.handleTaglineChange}\n                                value={tagline} />\n                        </small>\n                    }\n                </h3>\n                <ul className=\"photo-list\" ref={(element) => {this.photoList = element;}}>\n                    {images.map((image, i) => <GalleryImage key={i}\n                                                            items={images}\n                                                            draggingIndex={draggingIndex}\n                                                            onSortItems={this.updateState}\n                                                            sortId={i}\n                                                            outline=\"list\"\n                                                            childProps={{\n                                                                image,\n                                                                idx: i,\n                                                                selected: paging === i,\n                                                                onCaptionChange: this.handleCaptionChange,\n                                                                onImageRemoval: this.handleImageRemoval,\n                                                                onImagePagingChange: this.handleImagePagingChange,\n                                                                onImageLinkChange: this.handleImageLinkChange,\n                                                            }} />)}\n                    <li>\n                        <div className={classnames('add', { adding })}>\n                            <i className=\"loader\" style={{ backgroundPosition: loaderPx, display: (adding || loading) ? 'inline-block' : 'none' }} />\n                            <input type=\"file\" ref={(element) => {this.fileInput = element;}}\n                                   onChange={this.handleAddImage}\n                                   onClick={this.handleAddImageClick}\n                                   onFocus={this.handleAddImageFocus}\n                                   multiple={true} />\n                        </div>\n                    </li>\n                    <li>\n                        <div className=\"placeholder\" />\n                    </li>\n                </ul>\n                <div className=\"paging\" style={{visibility: images.length > 1 ? 'visible' : 'hidden' }}>\n                    {window.isWhitelabelV2 &&\n                        <div className=\"btn\">\n                            <a className=\"prev\" onClick={this.handlePagingPrevNextClick} />\n                            <a className=\"next\" onClick={this.handlePagingPrevNextClick} />\n                        </div>}\n                    {this.getPaging().map((e, i) =>\n                        <a className={classnames('pager', { \"current\": i === paging })}\n                        data-idx={i} key={i} onClick={this.handlePagingClick}>{i + 1}</a>\n                    )}\n                </div>\n                {!window.isWhitelabelV2 && <a className=\"remove\" onClick={this.handleRemove}>Remove</a>}\n                {window.isWhitelabelV2 &&\n                    <small className=\"add_option_tools\" style={{display: showToolbar ? 'block' : 'none'}}>\n                        <a onClick={this.handleAddImageClick2}>Add images</a>\n                        <a onClick={this.handleOrganizeImages}>Organize images</a>\n                        <a onClick={this.handleRemoveSlideshow}>Remove Slideshow</a>\n                    </small>\n                }\n            </div>\n        );\n    }\n}\n\nclass _GalleryImage extends React.Component {\n    componentDidMount() {\n        if (window.isWhitelabelV2) {\n            autosize(this.ta1);\n        }\n    }\n\n    handleCaptionChange = ({ target }) => {\n        const { childProps: { idx, onCaptionChange } } = this.props;\n        onCaptionChange(idx, target.value);\n    }\n\n    handleImageRemoval = (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const { childProps: { idx, onImageRemoval } } = this.props;\n        onImageRemoval(idx);\n    }\n\n    handlePagingClick = () => {\n        if (window.isWhitelabelV2) {\n            return\n        }\n        const { childProps: { idx, onImagePagingChange } } = this.props;\n        onImagePagingChange(idx);\n    }\n\n    handleImageLinkChange = ({ target }) => {\n        const { childProps: { idx, onImageLinkChange } } = this.props;\n        onImageLinkChange(idx, target.value);\n    }\n\n    render() {\n        const { childProps: { image, selected } } = this.props;\n        const img = <img src={image.src} alt={image.caption} onClick={this.handlePagingClick} />\n        return (\n            <li {...this.props}\n                data-uiid={image.uiid}\n                className={selected ? 'active' : null}>\n                <a>\n                    {window.isWhitelabelV2 ?\n                        <span className=\"figure\">\n                            {img}\n                        </span> :\n                        img\n                    }\n                    <span className=\"caption\">\n                        {window.isWhitelabelV2 ? \n                            <textarea type=\"text\" placeholder=\"Type an image caption\" value={image.caption} onChange={this.handleCaptionChange} ref={(element) => {this.ta1 = element;}} /> :\n                            <input type=\"text\" placeholder=\"Type an image caption\" value={image.caption} onChange={this.handleCaptionChange} />\n                        }\n                    </span>\n                    <span className=\"link\">\n                        <input type=\"text\" placeholder=\"Type an image link\" value={image.link} onChange={this.handleImageLinkChange}/>\n                    </span>\n                </a>\n                <a className=\"remove\" onClick={this.handleImageRemoval}>Remove</a>\n            </li>\n        );\n    }\n}\n\nconst GalleryImage = sortable(_GalleryImage);\n\nclass OrganizeImageService {\n    constructor() {\n        // attach events for popup\n        $(document).ready(() => {\n            $.dialog('organize_image').$obj\n                .on('click', '.btn-cancel', () => {\n                    this.cancel();\n                })\n                .on('click', '.btn-save', () => {\n                    this.complete();\n                });\n        });\n    }\n    data = null;\n    callback = null;\n    open(data, callback) { // [{ id, url }]\n        this.callback = callback;\n        this.data = data;\n        const tpl = _.template($('#popup-org-img-each').html().trim());\n\n        const diag = $.dialog('organize_image');\n        const $wrapper = diag.$obj.find('ol');\n        $wrapper.empty();\n\n        this.data.forEach((img) => {\n            const $el = $(tpl(img));\n            $el.data('img', img);\n            $wrapper.append($el);\n        });\n        Sortable.create(diag.$obj.find('ol').get(0), { filter: '.remove', onFilter(evt) {\n            var item = evt.item,\n                ctrl = evt.target;\n    \n            if (Sortable.utils.is(ctrl, \".remove\")) {  // Click on remove button\n                $(item).remove();\n            }\n        } });\n\n        diag.open();\n    }\n\n    cancel() {\n        $.dialog('organize_image').close();\n        this.clean();\n    }\n\n    complete() {\n        const { callback } = this;\n        callback(this.serialize());\n        $.dialog('organize_image').close();\n        this.clean();\n    }\n\n    serialize() {\n        return $.dialog('organize_image').$obj.find('ol li').map((i, e) => $(e).data('img')).toArray();\n    }\n\n    clean() {\n        this.data = null;\n        this.callback = null;\n    }\n}\nwindow.organizeImageService = new OrganizeImageService();\n","var articleAdmin;\nexport function setArticleAdmin(instance) {\n    articleAdmin = instance;\n}\nexport function reactBridge(callback) {\n    if (articleAdmin) {\n        if (callback) {\n            callback && callback(articleAdmin);\n        } else {\n            return articleAdmin;\n        }\n    } else {\n        console.warn('articleAdmin is not ready');\n    }\n}\n\nwindow.reactBridge = reactBridge; // FIXME\n","import React from 'react';\n\n\nexport class ThingCard extends React.Component {\n    state = {\n        thing: null,\n    };\n\n    componentDidMount() {\n        $.get(`/rest-api/v1/things/${this.props.tid}${window.isWhitelabel ? '?sales=true' : ''}`)\n            .then(thing => {\n                this.setState({ thing });\n            });\n    }\n\n    handleRemove = () => {\n        const { tid } = this.props\n\n        const $selected = $(`.popup.add_thing_item dd li[data-tid=\"${tid}\"].selected`)\n        $selected.removeClass('selected')\n        $selected.find('input').prop('checked', false)\n\n        this.props.onRemove(tid)\n    }\n \n    getURL() {\n        const { thing } = this.state;\n        if (window.isWhitelabel && thing.sales) {\n            return `${encodeURI(thing.name)}/p/${thing.sales.id}`\n        } else {\n            const { thing } = this.state;\n            return `/things/${thing.id}`\n        }\n    }\n\n    render() {\n        const { thing } = this.state;\n        if (this.state.thing) {\n            return (\n              <li>\n                <button className=\"remove\" onClick={this.handleRemove} />\n                <div className=\"figure-item\">\n                  <figure>\n                    <a href={this.getURL()}>\n                      <span className=\"back\" />\n                      <span className=\"figure grid\" style={{backgroundImage: `url('${thing.image.src}')`}} />\n                    </a>\n                  </figure>\n                  <figcaption>\n                    <a href={this.getURL()} className=\"title\">{thing.name}</a>\n                    {thing.sales && \n                        <em className=\"figure-detail\">\n                            <span className=\"price \">${thing.sales.price} </span>\n                        </em>\n                    }\n                  </figcaption>\n                </div>\n              </li>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n\nexport const ThingCardPlaceholder = _ => <li>\n    <div className=\"figure-item placeholder\" />\n</li>\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport classnames from 'classnames';\nimport { Display } from 'fancymixin';\n\n\nexport default class Status extends React.Component {\n    state = {\n        showFeatured: false\n    };\n    handleSetFeatured = _ => {\n        this.props.setArticleProp('featured', !this.props.featured);\n    };\n\n    handleSetLive = _ => {\n        this.props.setArticleProp('is_active', !this.props.is_active);\n    };\n\n    handleToggleCodeview = event => {\n        $('.description.more .medium-insert-buttons').remove();\n        window.EditorControl.refresh();\n        this.props.setArticleProp('codeview', !this.props.codeview);\n    };\n\n    handlePublishedDatetimeChange = event => {\n        this.props.setArticleProp('published_datetime', event.target.value);\n    };\n\n    handlePublishedDatetimeChangeEnd = event => {\n        this.props.setArticleProp('published_datetime', $.trim(event.target.value));\n    };\n\n    handleSlugChange = event => {\n        this.props.setArticleProp('slug', $.trim(event.target.value));\n    };\n\n    handleFeaturedMouseOver = event => {\n        this.over = true;\n        if (!this.state.showFeatured) {\n            console.debug('showFeatured true')\n            this.setState({ showFeatured: true });\n        }\n    }\n\n    showFeaturedTimer = null;\n    handleFeaturedMouseOut = event => {\n        this.over = false;\n        if (this.state.showFeatured && this.showFeaturedTimer == null) {\n            console.debug('showFeatured false')\n            this.showFeaturedTimer = setTimeout(() => {\n                if (this.over) {\n                    this.showFeaturedTimer = null;\n                    return;\n                }\n                this.setState({ showFeatured: false }, () => {\n                    this.showFeaturedTimer = null;\n                });\n            }, 500);\n        }\n    }\n\n    render() {\n        const { codeview, featured, is_active, published_datetime } = this.props;\n        return (\n            <div className=\"status\">\n                <p className=\"url\">\n                    <span>{window.appRootUrl || `https://fancy.com`}/articles/</span>\n                    <input type=\"text\" className=\"text\" placeholder=\"article-title\" onChange={this.handleSlugChange}\n                           value={this.props.slug} />\n                </p>\n                <ul>\n                    <li><label>Code View</label> <button onClick={this.handleToggleCodeview} className={classnames('btn-switch', { on: codeview })}>ON/OFF</button></li>\n                    <li className={classnames(\"nested\", { 'show-featured': this.state.showFeatured })} onMouseOver={this.handleFeaturedMouseOver} onMouseOut={this.handleFeaturedMouseOut}>\n                        <div className=\"featured-control has-arrow\" style={Display.NoneIf(!featured)}><input type=\"text\" className=\"text\" value={published_datetime} onChange={this.handlePublishedDatetimeChange} onBlur={this.handlePublishedDatetimeChangeEnd} /></div>\n                        <label>Featured</label> <button onClick={this.handleSetFeatured} className={classnames('btn-switch', { on: featured })}>ON/OFF</button>\n                    </li>\n                    <li><label>Live</label> <button onClick={this.handleSetLive} className={classnames('btn-switch', { on: is_active })}>ON/OFF</button></li>\n                </ul>\n            </div>\n        );\n    }\n}\n","import { reactBridge } from './ReactBridge';\n\n\nexport function renderFeaturedItems(stream) {\n    var $featuredList = $('.add_thing_item .featured ul');\n    _.each(stream, function(item) {\n        var $li = $('<li><input type=\"checkbox\" /><label></label><img src=\"/_ui/images/common/blank.gif\"></li>');\n        $li.attr('data-tid', item.object.id_str);\n        if (item.object.sales && item.object.sales[0]) {\n            $li.attr('data-sid', item.object.sales[0].sale_id);\n        }\n        $li.find('img').css('background-image', 'url(' + item.object.thumb_image_url + ')');\n        $featuredList.append($li);\n    });\n}\n\nlet requesting = false;\nlet cursor = null;\nexport const requestFeaturedItems = _.debounce(function(event, init) {\n    const el = this;\n    if (init || (requesting === false &&\n                (el.scrollHeight - el.scrollTop - 10 <= el.clientHeight) && \n                 cursor != null)\n    ) {\n        requesting = true;\n        $.get('/_admin/articles/featured.json?limit=150&cursor=' + (cursor || ''), function(json) {\n            if (json.stream) {\n                renderFeaturedItems(json.stream);\n                cursor = json.next_cursor || null;\n            }\n            requesting = false;\n        });\n    }\n}, 250);\n\nexport function attachExternalEvents() {\n    $('.popup.add_thing_item').on('click', '.btn-save', function(e) {\n        let itemIDList = $('.popup.add_thing_item .text').val().trim();\n        var $selectedFeatured = $('.popup.add_thing_item .featured li.selected')\n        if ($selectedFeatured.length === 0 && !itemIDList) {\n            return;\n        }\n\n        $.get('/_admin/articles/validate_product_ids.json?ids=' + itemIDList)\n            .then(function(res) {\n                if (res.ids) {\n                    itemIDList = res.ids.join(',');\n                }\n                var ids = _.map($selectedFeatured, function(item) {\n                    var pid = window.isWhitelabel ? $(item).attr('data-sid') : $(item).attr('data-tid');\n                    return pid;\n                });\n                ids = _.without(ids, undefined);\n    \n                var thing_ids = '';\n                var idsStr = '';\n                if (ids.length > 0) {\n                    idsStr = ids.join(',')\n                }\n                if (itemIDList) {\n                    itemIDList = itemIDList.split(',').map(e => e.trim()).join(',');\n                    if (idsStr) {\n                        thing_ids = itemIDList + ',' + idsStr;\n                    } else {\n                        thing_ids = itemIDList\n                    }\n                } else {\n                    thing_ids = idsStr;\n                }\n                if (thing_ids) {\n                    reactBridge(articleAdmin =>\n                        articleAdmin.updateThingIds(thing_ids.split(','))\n                    );\n                }\n                $('.popup.add_thing_item .text').val('');\n                $.dialog('add-bio-items').close();\n            })\n            .fail(function() {\n                alertify.alert('Failed to validate ID, please try again')\n            });\n    });\n\n    $('.popup.add_thing_item .featured').on('click', 'ul > li:not(.selected)', function(e) {\n        $(this).addClass('selected');\n        $(this).find('input').prop('checked', 'checked');\n    });\n\n    $('.popup.add_thing_item .featured').on('click', 'ul > li.selected', function(e) {\n        $(this).removeClass('selected');\n        $(this).find('input').prop('checked', false);\n    });\n\n    $('.popup.add_thing_item .search .text').keyup(function(e){\n        if (e.keyCode === 13) {\n            $('.popup.add_thing_item .btn-save').click();\n        }\n    });\n/*\n    $('.popup.add_thing_item .featured .more').on('click', function(e) {\n        var cursor = $(this).data('cursor');\n        $.get('/_admin/articles/featured.json?cursor=' + cursor, function(json) {\n            if (json.stream) {\n                renderFeaturedItems(json.stream);\n                if (json.next_cursor) {\n                    $('.popup.add_thing_item .featured .more').data('cursor', json.next_cursor).show();\n                } else {\n                    $('.popup.add_thing_item .featured .more').hide();\n                }\n            }\n        });\n    });\n*/\n    \n    $('.popup.add_thing_item .featured ul').on('scroll', requestFeaturedItems);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// render without using JSX\nexport function jsRender(Component: React.ComponentClass<{}, any>, data = {}, targetElement: Element, callback = () => {}) {\n    const rEl = React.createElement(Component, data);\n    return ReactDOM.render(rEl, targetElement, callback);\n}\n\n// Render to specific element position with a wrap.\n// function wrappedRenderCreator(\n//     $WrapperMethodKey/* appendTo, prependTo, insertAfter, insertBefore, ... */,\n//     Component,\n//     data,\n//     targetElement,\n//     wrapElementTag='div',\n//     callback\n// ) {\n//     let wrapper = $(`<${wrapElementTag} />`)[$WrapperMethodKey](targetElement).get(0);\n//     return function renderAfter() {\n//         return jsRender(Component, data, wrapper, callback);\n//     };\n// }\n\nfunction Prepend(rctElDomRef: Element, targetElement: Element) {\n    $(rctElDomRef).prependTo(targetElement);\n}\nfunction Append(rctElDomRef: Element, targetElement: Element) {\n    $(rctElDomRef).appendTo(targetElement);\n}\nfunction After(rctElDomRef: Element, targetElement: Element) {\n    $(rctElDomRef).insertAfter(targetElement);\n}\nfunction Before(rctElDomRef: Element, targetElement: Element) {\n    $(rctElDomRef).insertBefore(targetElement);\n}\nfunction Replace(rctElDomRef: Element, targetElement: Element) {\n    $(targetElement).replaceWith(rctElDomRef);\n}\n\nexport const RenderModes = {\n    Prepend,\n    Append,\n    After,\n    Before,\n    Replace\n};\n\ntype RenderModeMethods = typeof Prepend | typeof Append | typeof After | typeof Before | typeof Replace;\n\nconst FACTORY_DIV_ID = \"__external_render_factory__\";\n// Warning: this works until React 16, and it could get broken at some point.\nexport function externalRender(\n    mode: RenderModeMethods,\n    Component: React.ComponentClass,\n    data: Object,\n    targetElement: Element,\n    callback?: Function\n) {\n    const FACTORY_DIV_REF = document.createElement(\"div\");\n    FACTORY_DIV_REF.id = FACTORY_DIV_ID;\n    document.body.appendChild(FACTORY_DIV_REF);\n    const rctElRef = jsRender(Component, data, FACTORY_DIV_REF);\n    let rctElDomRef;\n    if (rctElRef) {\n        // non-stateless component\n        rctElDomRef = ReactDOM.findDOMNode(rctElRef);\n    } else {\n        // Stateless component\n        const cs = FACTORY_DIV_REF.children;\n        if (cs.length === 0) {\n            console.warn(\"externalRender: There might be a chance element is not rendered.\");\n        }\n        rctElDomRef = cs[0];\n    }\n\n    if (rctElDomRef && rctElDomRef instanceof Element) {\n        mode(rctElDomRef, targetElement);\n        if (callback) {\n            callback([rctElRef, rctElDomRef]);\n        }\n\n        FACTORY_DIV_REF.remove(); // Due to restriction, need to remove\n        return [rctElRef, rctElDomRef];\n    }\n}\n\n/*\n// TEST\nconst ASDF = ({foo}) => <div className=\"asdfasdfasdfasdfasadsfdasfasdfdasf\">{foo}</div>\nclass ASDF2 extends React.Component {\n    render() {\n        return <div className=\"213480123794578902349870239804129830\">{this.props.foo}</div>\n    }\n}\nexternalRender(RenderModes.Prepend, ASDF, {foo: 1}, document.body);\nexternalRender(RenderModes.Prepend, ASDF2, {foo: 'heydsaasdfasdfldasflasdflfdaslkfsdakmdsaf'}, document.body);\n*/\n\nexport function mountToDisposable(unmountedDOM: Element) {\n    // Create/Select disposable mounting DIV to correctly modify a element.\n    let $disposable = $(document.body).find(\".disposable\");\n    if ($disposable.length > 0) {\n        $disposable = $disposable.eq(0).empty();\n    } else {\n        $disposable = $(\"<div />\", { id: \"disposable\", style: \"display:none;\" }).appendTo(document.body);\n    }\n\n    if (unmountedDOM) {\n        // Append unmounted DOM if exists\n        $disposable.append(unmountedDOM);\n    }\n    // return disposable DOM\n    return $disposable;\n}\n","import { mountToDisposable } from 'dom-helper';\nimport { jQueryPromiseAll } from 'fancyutils';\n\n// tokens\nexport function getShortcodeString(json) {\n    return `<p class=\"shortcode\" data-internal='${json}'></p>`;\n}\n\nconst ImageModes = {\n    Full: 'Full',\n    Normal: 'Normal',\n    Quoted: 'Quoted',\n    Grid: 'Grid',\n};\n\nconst ImageModesClasses = {\n    Full: 'mode-full',\n    Normal: 'mode-normal',\n    Quoted: 'mode-quoted',\n    Grid: 'mode-grid',\n};\n\nconst Templates = {\n    FancyArticleProductSlideshow: \n        _.template(`<div class=\"itemSlide product\" contenteditable=\"false\">\n            <div class=\"itemSlideWrap\">\n                <ul class=\"stream after\">\n                <% items.forEach(function(item, idx) { %>\n                <li class=\"itemSlideElement\" data-id=\"<%= item.id %>\" data-idx=\"<%= idx %>\">\n                    <div class=\"figure-item\">\n                    <figure <% if (item.image_fit_to_bounds) { %>class=\"fit\"<% } %>>\n                        <a href=\"<% if (item.html_url) { %><%= item.html_url %><% } else { %>/sales/<%= item.id %>?utm=article<% } %>\"><span\n                            class=\"back\"></span><img class=\"figure\" src=\"/_ui/images/common/blank.gif\" style=\"background-image: url(<%= item.image %>);\"></a>\n                    </figure>\n                    <figcaption>\n                        <span class=\"show_cart\">\n                        <button class=\"btn-cart nopopup soldout\">\n                            <% if (item.retail_price != null) { %><b class=\"price sales\">$<%= item.price %> <small class=\"before\">$<%= item.retail_price %></small></b><% } else { %><b class=\"price\">$<%= item.price %></b><% } %>\n                        </button>\n                        </span><a href=\"<% if (item.html_url) { %><%= item.html_url %><% } else { %>/sales/<%= item.id %>?utm=article<% } %>\" class=\"title\"><%= item.title %></a>\n                    </figcaption>\n                    <a class=\"delete\"></a>\n                    </div>\n                </li>\n                <% }); %>\n                </ul>\n            </div>\n            <a href=\"#\" class=\"prev\">Prev</a>\n            <a href=\"#\" class=\"next\">Next</a>\n            <small class=\"add_option_tools\" style=\"display:none;\">\n                <a class=\"add-product\">Organize Products</a>\n                <a class=\"delete-slideshow\">Delete Slideshow</a>\n            </small>\n        </div>`),\n    FancyArticleProductCard: \n        _.template(`<ul class=\"itemList product\" contenteditable=\"false\">\n            <% items.forEach(function(item, idx) { %>\n            <li class=\"itemListElement\" data-id=\"<%= item.id %>\" data-idx=\"<%= idx %>\">\n                <span class=\"figure <% if (item.image_fit_to_bounds) { %>fit<% } %>\">\n                    <img src=\"/_ui/images/common/blank.gif\" style=\"background-image:url(<%= item.image %>)\">\n                </span>\n                <span class=\"figcaption\">\n                    <span class=\"title\"><%= item.title %></span>\n                    <% if (item.retail_price != null) { %><b class=\"price sales\">$<%= item.price %> <small class=\"before\">$<%= item.retail_price %></small></b><% } else { %><b class=\"price\">$<%= item.price %></b><% } %>\n                </span>\n                <a class=\"remove\">Remove</a>\n            </li>\n            <% }); %>\n            <small class=\"add_option_tools\" style=\"display:none;\">\n                <a class=\"add-product\">Organize Products</a>\n                <a class=\"delete-slideshow\">Delete Grid</a>\n            </small>\n        </ul>`)\n};\n\nfunction getRandomId() {\n    return 'shortcode-' + String(Math.random()).substr(2)\n}\n\nfunction getJumper($element) {\n    var _id = getRandomId();\n    $element.attr('id', _id);\n    return function () {\n        return $('#' + _id)\n    }\n}\n\nfunction getProductContext(products, callback) {\n    if (products.length > 0) {\n        jQueryPromiseAll(products.filter(function(e){ return e }).map(function(sid) {\n            var dfd = $.Deferred()\n            $.get('/rest-api/v1/things/' + sid + '?sales=true&include_every_image=true')\n                .then(function(thing) {\n                    dfd.resolve(thing);\n                })\n                .fail(function(xhr) {\n                    if (xhr.status === 404) {\n                        alertify.alert('Product id ' + sid + 'not found.');\n                    } else {\n                        console.warn('There was an error whiel fetching sid:', sid, xhr)\n                    }\n                    dfd.resolve(null);\n                });\n            return dfd.promise()\n        }))\n        .done(function(things) {\n            var ctx = {\n                items: things.map(function(thing){\n                    var image_fit_to_bounds = false;\n                    var image = thing.image.src;\n                    try {\n                        image_fit_to_bounds = thing.sales.images[0].fit_to_bounds;\n                        image = thing.sales.images[0].src;\n                    } catch(e) {}\n                    return thing.sales && { title: thing.sales.emojified_name, price: thing.sales.price, retail_price: thing.sales.retail_price, image: image, image_fit_to_bounds: image_fit_to_bounds, id: thing.sales.id }\n                }).filter(function(e){ return e })\n            };\n            callback(ctx);\n        })\n    } else {\n        console.warn('[ShortCodeTransformers]: Error - product does not exist');\n    }\n}\n\n// Shortcode -> DOM\nexport const ShortCodeTransformers = {\n    /* <% {\"name\": fancy-article-gallery,\n           \"images\": [{ src: \"https://img-address-1\", caption: \"An image caption\", uiid: 1 }, ... ],\n           \"title\": \"a gallery title\",\n           \"tagline\": \"a gallery tagline\"} %> */\n    ['fancy-article-gallery']({ images, title, tagline }, $shortcode) {\n        window.GalleryControl.renderTo($shortcode, { images, title, tagline });\n    },\n    /* <% {\"name\": \"fancy-article-img\",\n           \"images\": [{\n               \"mode\": \"Quoted\",\n               \"src\": \"https://img-address\",\n               \"caption\": \"A image caption\",\n           }]\n          } %> */\n    ['fancy-article-img'](options, $shortcode) {\n        const { images } = options;\n\n        let $el;\n        if (images.length > 0) {\n            let el = '<div class=\"medium-insert-images\" contenteditable=\"false\">';\n            if (images[0].mode === ImageModes.Grid) {\n                el += `<figure data-mode=\"${ImageModes.Grid}\">`\n                images.forEach(image => {\n                    el += `<div class=\"grid\">\n                        <img src=\"${window.blankUrl}\" style=\"background-image:url('${image.src}')\" data-src=\"${image.src}\" />\n                        <a href=\"#\" class=\"remove\">Remove</a>`\n                    if (image.caption) {\n                    el += `<figcaption class=\"text-placeholder\" data-placeholder=\"Type an image caption\">${image.caption}</figcaption><a href=\"#\" class=\"btn-caption\">Edit Caption</a>`\n                    } else {\n                    el += '<a href=\"#\" class=\"btn-caption\">Add Caption</a>';\n                    }\n                    el += `</div>`;\n                });\n                el += '</figure>';\n                $el = $(el);\n            } else {\n                images.forEach(image => {\n                    let fig; \n                    fig  = `<figure data-mode=\"${ImageModes.Normal}\"><img src=\"${image.src}\" alt=\"\" class=\"\" />`;\n                    if (image.caption) {\n                    fig += `<figcaption>${image.caption}</figcaption>`\n                    }\n                    fig += `</figure>`;\n    \n                    const $fig = $(fig);\n                    if (image.mode !== ImageModes.Normal) {\n                        window.ReactMediumEditor__changeMode &&\n                        window.ReactMediumEditor__changeMode($fig, ImageModes.Normal, image.mode);\n                    }\n                    el += $fig.prop('outerHTML');\n                });\n                el += '</div>';\n                $el = $(el);\n                $el.addClass(`medium-insert-images-${ImageModesClasses[images[0].mode]}`)\n            }\n        } else {\n            console.warn('[ShortCodeTransformers]: Error - images not exist');\n        }\n        $shortcode.replaceWith($el);\n    },\n    ['fancy-article-product'](options, $shortcode) {\n        const { products } = options;\n        const getIsolatedShortcodeElement = getJumper($shortcode)\n        getProductContext(products, ctx => {\n            const el = Templates.FancyArticleProductCard(ctx);\n            getIsolatedShortcodeElement().replaceWith(el);\n        });\n    },\n    ['fancy-article-product-slideshow'](options, $shortcode) {\n        const { products } = options;\n        const getIsolatedShortcodeElement = getJumper($shortcode)\n        getProductContext(products, ctx => {\n            const el = Templates.FancyArticleProductSlideshow(ctx);\n            getIsolatedShortcodeElement().replaceWith(el);\n        });\n    }\n};\n\nexport function convertShortcode(articleDOM) {\n    $(articleDOM).find('p.shortcode').each((i, shortcode) => {\n        const $sc = $(shortcode);\n        try {\n            const data = JSON.parse($sc.attr('data-internal'));\n            ShortCodeTransformers[data.name](data, $sc);\n        } catch(e) { console.warn(e) }\n    });\n}\n\nfunction getWrappedSingleNode(target) {\n    return $(`<div class=\"singlenode-wrapper\">${target}</div>`);\n}\n\nfunction reverseTransformerWrapper(procedure) {\n    return function wrapper(target) {\n        const wrapped = getWrappedSingleNode(target);\n        const $disposable = mountToDisposable(wrapped);\n\n        procedure(wrapped);\n\n        $disposable.remove();\n        return wrapped.html();\n    }\n}\n\nfunction escStr(str){\n    return str.replace(/'/g, '&apos;');\n}\n\n// Exporting\nexport const ShortCodeReverseTransformers = {\n    transformFancyArticleImage(wrapped) {\n        const $target = wrapped.find('.medium-insert-images');\n        $target.each((i, e) => {\n            const images = [];\n            const imageDOMContainer = $(e);\n            const _$fig = imageDOMContainer.find('figure');\n            if (_$fig.attr('data-mode') === ImageModes.Grid) {\n                _$fig.find('.grid').each((ii, ee) => {\n                    const $div = $(ee);\n                    const data = {\n                        mode: ImageModes.Grid,\n                        src: $div.find('img').attr('data-src'),\n                    };\n                    const caption = $div.find('figcaption').text();\n                    if (caption) {\n                        data.caption = caption.replace(/'/g, \"&#39;\"); // quote causes error on re-parse\n                    }\n                    images.push(data);\n                })\n            } else {\n                _$fig.each((ii, ee) => {\n                    const $fig = $(ee);\n                    const data = {\n                        mode: $fig.attr('data-mode') || ImageModes.Normal,\n                        src: $fig.find('img').attr('src'),\n                    };\n                    // Add caption, if any exists.\n                    const caption = (data.mode === ImageModes.Quoted) ? $fig.find('.textarea').text() : $fig.find('figcaption').text();\n                    if (caption) {\n                        data.caption = caption.replace(/'/g, \"&#39;\"); // quote causes error on re-parse\n                    }\n                    images.push(data);\n                });\n            }\n            if (images.length > 0) {\n                const json = JSON.stringify({ name: 'fancy-article-img', images });\n                imageDOMContainer.replaceWith(getShortcodeString(json));\n            }\n        });\n    },\n    transformFancyArticleGallery(wrapped) {\n        const $gals = wrapped.find('.gallery-container');\n        if ($gals.length > 0) {\n            $gals.each((idx, gal) => {\n                const $gal = $(gal);\n                const galObjs = Galleries[$gal.data('id')]\n                if (galObjs) {\n                    const { instance } = galObjs;\n                    const serialized = instance.serialize();\n                    // escape quote mark. TODO: move this to serialization function\n                    serialized.title = escStr(serialized.title)\n                    serialized.tagline = escStr(serialized.tagline)\n                    if (serialized.images.length > 0) {\n                        serialized.images.forEach(img => { img.caption = escStr(img.caption) })\n                    }\n                    // json\n                    const json = JSON.stringify(serialized);\n                    $gal.replaceWith(getShortcodeString(json));\n                } else {\n                    \n                }\n            });\n        }\n    },\n    transformFancyArticleProduct(wrapped) {\n        const $cards = wrapped.find('.itemList');\n        $cards.each((i, e) => {\n            const products = [];\n            const $card = $(e);\n            $card.find('.itemListElement').each((i, e) => {\n                products.push($(e).attr('data-id'));\n            });\n            const json = JSON.stringify({ name: 'fancy-article-product', products });\n            $card.replaceWith(getShortcodeString(json));\n        })\n    },\n    transformFancyArticleProductSlideshow(wrapped) {\n        const $slideshows = wrapped.find('.itemSlide');\n        $slideshows.each((i, e) => {\n            const products = [];\n            const $slideshow = $(e);\n            $slideshow.find('.itemSlideElement').each((i, e) => {\n                products.push($(e).attr('data-id'));\n            });\n            const json = JSON.stringify({ name: 'fancy-article-product-slideshow', products });\n            $slideshow.replaceWith(getShortcodeString(json));\n        })\n    },\n    cleanupContent(wrapped) {\n        // Wipe out empty <div>s - possibly moved gallery, image, etc.\n        wrapped.children()\n            .filter((i, e) => {\n                if (e.tagName === 'DIV' &&\n                    e.className === '' &&\n                    $(e).text().trim() === ''\n                ) {\n                    return true;\n                }\n            }).remove();\n        // Remove first hollow paragraph if exist.\n        const fp = wrapped.children().first();\n        if (fp.attr('class') == null && fp.text().trim() === '') {\n            fp.remove();\n        }\n    }\n};\n// FIXME: refactor to class\nShortCodeReverseTransformers.transformFancyArticleImage = reverseTransformerWrapper(ShortCodeReverseTransformers.transformFancyArticleImage)\nShortCodeReverseTransformers.transformFancyArticleGallery = reverseTransformerWrapper(ShortCodeReverseTransformers.transformFancyArticleGallery)\nShortCodeReverseTransformers.transformFancyArticleProduct = reverseTransformerWrapper(ShortCodeReverseTransformers.transformFancyArticleProduct)\nShortCodeReverseTransformers.transformFancyArticleProductSlideshow = reverseTransformerWrapper(ShortCodeReverseTransformers.transformFancyArticleProductSlideshow)\nShortCodeReverseTransformers.cleanupContent = reverseTransformerWrapper(ShortCodeReverseTransformers.cleanupContent)\n","import { ShortCodeReverseTransformers, convertShortcode } from './Shortcode';\nimport { reactBridge } from './ReactBridge';\n\n// replaceShortcodeToDOM\nexport function handleContentModificationOnInit(articleDOM) /*:void*/{\n    // let parsed;\n    try {\n        convertShortcode(articleDOM);\n    } catch (e) {\n        console.warn(e);\n    }\n}\n\nexport function handleContentModificationOnSubmission(article) {\n    window.EditorControl.refresh();\n    let transformed;\n    try {\n        reactBridge(articleAdmin => {\n            const content = articleAdmin._content;\n            transformed = ShortCodeReverseTransformers.cleanupContent(content);\n            transformed = ShortCodeReverseTransformers.transformFancyArticleImage(transformed);\n            transformed = ShortCodeReverseTransformers.transformFancyArticleGallery(transformed);\n            if (window.isWhitelabelV2) {\n                transformed = ShortCodeReverseTransformers.transformFancyArticleProduct(transformed);\n                transformed = ShortCodeReverseTransformers.transformFancyArticleProductSlideshow(transformed);\n            }\n        });\n    } catch (e) {\n        console.warn(e);\n        transformed = article;\n    }\n    return transformed;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport classnames from 'classnames';\nimport { Display } from 'fancymixin';\n\nimport Editor from './ReactMediumEditor';\nimport CoverImage from './CoverImage';\nimport Info from './Info';\nimport { GalleryControl } from './Gallery';\nimport { ThingCard, ThingCardPlaceholder } from './ThingCard';\nimport Status from './Status';\nimport { setArticleAdmin } from './ReactBridge';\nimport { attachExternalEvents, requestFeaturedItems } from './ExternalEventHandlers';\nimport { handleContentModificationOnInit, handleContentModificationOnSubmission } from './ArticleLifecycle';\nimport { applyProductSlide } from 'common-components';\n\n\nconst { creating } = window;\n\n// https://developer.mozilla.org/en/docs/Web/API/WindowBase64/Base64_encoding_and_decoding\nvar Base64={_keyStr:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",encode:function(e){var t=\"\";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t=\"\";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Base64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\\r\\n/g,\"\\n\");var t=\"\";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t=\"\";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}\n\nexport default class ArticleAdmin extends React.Component {\n    constructor(props) {\n        super(props);\n        const {\n            article: {\n                content, gallery, slug, published_datetime, is_active,\n                options: { action_button, authors, item_header },\n                tagline, title, thing_ids, featured,\n                cover_image, cover_video,\n            }\n        } = props;\n\n        this.state = {\n            cover_image: cover_image ? cover_image : null,\n            cover_video: cover_video ? cover_video : null,\n            authors,\n            slug,\n            content,\n            published_datetime: published_datetime ? published_datetime : null,\n            is_active,\n            gallery,\n            tagline,\n            title,\n            thing_ids,\n            item_header,\n            // additional tracking state\n            featured: featured,\n            actionButtonText: action_button.text,\n            actionButtonLink: action_button.link,\n            remove_video: null,\n            // component state\n            saving: false,\n            codeview: false,\n        };\n    }\n\n    componentDidMount() {\n        setArticleAdmin(this);\n        $('.items ol.additional').sortable({ cancel: '.add', items:\".item.photo\", tolerance : 'intersect'});\n        // Refresh internal `_content` prop via sending out change event.\n        handleContentModificationOnInit(ReactDOM.findDOMNode(this));\n        // finalize init\n        window.EditorControl.refresh(() => {\n            applyProductSlide();\n        });\n    }\n\n    handleChange = (content, medium, callback = ()=>{}) => {\n        const editor = medium || window.EditorControl.get();\n        const _text = editor.serialize().editable.value; // Value to be submitted\n        this.setState({ content }, callback);\n        this._content = _text;\n    }\n\n    handleCodeviewChange = (event) => {\n        const nextValue = event.target.value;\n        this.setState({ content: nextValue });\n        this._content = nextValue;\n    }\n\n    setArticleProp = (key, value) => {\n        if (key.indexOf('.') === -1) {\n            this.setState({ [key]: value });\n        } else { // when key is `objectName.propertyName`\n            const split = key.split('.');\n            if (split.length > 2) {\n                console.warn('indexing is supported for direct object access only')\n            }\n            const [objectName, propertyName] = split;\n            const copy = _.extend({}, this.state[objectName]);\n            copy[propertyName] = value;\n            this.setState({ [objectName]: copy });\n        }\n    }\n\n    convertToSerialized() {\n        const {\n            authors,\n            slug,\n            is_active,\n            gallery,\n            tagline,\n            title,\n            published_datetime,\n            // Need processing\n            cover_image,\n            cover_video,\n            thing_ids,\n            actionButtonText,\n            actionButtonLink,\n            remove_video,\n            item_header,\n        } = this.state;\n\n        const originalArticle = window.article;\n        const { article_id } = originalArticle;\n        const preSerializedContent = handleContentModificationOnSubmission(this._content);\n        const content = Base64.encode(preSerializedContent);\n        const serialized = _.extend({\n            authors,\n            slug,\n            is_active,\n            gallery,\n            tagline,\n            title,\n        }, {\n            thing_ids: thing_ids.join(','),\n            article_id,\n            content,\n            action_button_text: actionButtonText,\n            action_button_link: actionButtonLink,\n        });\n\n        if (cover_image) {\n            serialized.cover_image_url = cover_image.url;\n        }\n\n        if (cover_video) {\n            serialized.video_id = cover_video.id;\n            serialized.video_loop = cover_video.loop;\n            serialized.video_autoplay = cover_video.autoplay;\n        // `cover_video` is removed and `remove_video` flag is set - the purpose is make sure video is not removed by mistake\n        } else if (remove_video) {\n            serialized.remove_video = true;\n        }\n\n        if (this.state.featured &&\n            +new Date(published_datetime) // is not NaN?\n        ) {\n            serialized.published_datetime = published_datetime;\n        } else if (this.state.featured === false) {\n            serialized.published_datetime = '';\n        }\n\n        if (item_header != null && typeof item_header === 'string') {\n            serialized.item_header = item_header.trim()\n        }\n        return serialized;\n    }\n\n    handleSubmission = () => {\n        this.submitArticle();\n    }\n\n    submitArticle = (publishing) => {\n        // Serialize image, gallery into shortcodes.\n        const serialized = this.convertToSerialized();\n        if (publishing === true) {\n            serialized.is_active = true\n        } else if (publishing === false) {\n            serialized.is_active = false\n        }\n        this.setState({ saving: true }, () => {\n            if (creating) {\n                $.post('/_admin/articles/create.json', serialized, ({ error, message, aid }) => {\n                    let saving = false;\n                    if (error) {\n                        alertify.alert(error);\n                    } else {\n                        saving = true;\n                        let onComplete = () => { confirmedRedirect(`/_admin/articles/edit?id=${aid}${window.isWhitelabelV2 ? '&v2' : ''}`); };\n                        if (message) {\n                            alertify.alert(message, onComplete);\n                        } else {\n                            onComplete();\n                        }\n                    }\n                    if (saving === false) {\n                        this.setState({ saving: false });\n                    }\n                });\n            } else {\n                $.post('/_admin/articles/update.json', serialized, ({ error, message }) => {\n                    let saving = false;\n                    if (error) {\n                        alertify.alert(error);\n                    } else {\n                        saving = true;\n                        let onComplete = () => { confirmedReload(); };\n                        if (message) {\n                            alertify.alert(message, onComplete);\n                        } else {\n                            onComplete();\n                        }\n                    }\n                    if (saving === false) {\n                        this.setState({ saving: false });\n                    }\n                });\n            }\n        })\n    }\n\n    handleDeleteThing = event => {\n        event.preventDefault();\n        $(this).closest('li').remove();\n    }\n\n    handleAddThing = event => {\n        event.preventDefault();\n        $.dialog('add_thing_item').open();\n        requestFeaturedItems(null, true);\n    }\n\n    updateThingIds(addingTids) {\n        const { thing_ids } = this.state;\n        const nextThingIds = thing_ids.concat(addingTids.filter(tid => _.indexOf(thing_ids, tid) === -1));\n        this.setState({ thing_ids: nextThingIds });\n    }\n\n    handleToggleDeveloperMode = () => {\n        this.setState({ isDeveloperMode: !this.state.isDeveloperMode });\n    }\n\n    handlePreview = () => {\n        if (!creating) {\n            window.open(`/articles/${this.state.slug}?preview${window.isWhitelabelV2 ? '&v2' : ''}`);\n        }\n    }\n\n    handleThingCardRemove = (thingId) => {\n        this.setState({ thing_ids: this.state.thing_ids.filter(tid => tid !== thingId) })\n    }\n\n    handleItemHeaderChange = () => {\n        this.setState({ item_header: event.target.value })\n    }\n\n    handleDraftAction = () => {\n        this.submitArticle(false)\n    }\n\n    handlePublish = () => {\n        this.submitArticle(true)\n    }\n\n    render() {\n        const {\n            authors,\n            actionButtonText,\n            actionButtonLink,\n            cover_image,\n            cover_video,\n            is_active,\n            item_header = '',\n            featured,\n            slug, title,\n            tagline,\n            thing_ids,\n            codeview,\n            saving,\n            published_datetime\n        } = this.state;\n\n        const placeholdersLength = (4 - thing_ids.length % 4) - 1;\n        const placeholders = [];\n        for (let i = 0; i < placeholdersLength; i++) {\n            placeholders.push(<ThingCardPlaceholder key={i} />)\n        }\n\n        const info = <Info setArticleProp={this.setArticleProp} authors={authors} title={title} tagline={tagline}\n        actionButtonText={actionButtonText} actionButtonLink={actionButtonLink} />;\n        const coverImage = <CoverImage setArticleProp={this.setArticleProp} cover_image={cover_image} cover_video={cover_video} />\n\n        return (\n        <div className={window.isWhitelabel ? \"_whitelabel whitelabel-article\" : null}>\n            <h2 className=\"ptit embo\">\n                <a href=\"/_admin/articles\">Articles</a> <span className=\"arrow\">&gt;</span> <b>{creating ? 'New Article' : 'Edit Article'}</b>\n            </h2>\n            {window.isWhitelabelV2 &&\n                <span className={classnames(\"status\", { live: is_active})}>{is_active ? \"This article is live on Gear.com\" : \"This article is a draft and is not visible on Gear.com\"}</span>\n            }\n            <div id=\"summary\" className=\"wrapper article-wrapper\">\n                {window.isWhitelabelV2 ? null : <Status codeview={codeview} featured={featured} is_active={is_active} slug={slug} setArticleProp={this.setArticleProp} published_datetime={published_datetime} />}\n                {window.isWhitelabelV2 ? info : coverImage}\n                {window.isWhitelabelV2 ? coverImage : info}\n                <textarea id=\"editable-codeview\" style={Display.NoneIf(!codeview)} value={this.state.content} onChange={this.handleCodeviewChange} />\n                <Editor style={Display.NoneIf(codeview)}\n                        className=\"description more\"\n                        id=\"editable\"\n                        content={this.state.content}\n                        onChange={this.handleChange} />\n            </div>\n            {window.isWhitelabelV2 ? null : \n                <div className=\"wrapper-content thing-stream-wrapper\">\n                    <div id=\"content\">\n                        {!window.isWhitelabel && <input className=\"item_header\" type=\"text\" value={item_header} onChange={this.handleItemHeaderChange} placeholder=\"Type Item Header...\" />}\n                        <ol className=\"stream after\">\n                        {thing_ids.map(tid => <ThingCard key={tid} tid={tid} onRemove={this.handleThingCardRemove} />)}\n                        <li>\n                            <div className=\"figure-item add\">\n                            <input type=\"file\" onClick={this.handleAddThing}/>\n                            </div>\n                        </li>\n                        {placeholders}\n                        </ol>\n                    </div>\n                </div>\n            }\n            <div className=\"btn-area\">\n              {/*<button className=\"btns-gray-embo\" onClick={this.handleCancel}>Discard</button>*/}\n              {window.isWhitelabelV2 && <button className={classnames(\"btns-gray-embo\", { disabled: saving })} onClick={this.handleDraftAction} disabled={saving}>{(creating || !is_active) ? \"Save Draft\" : \"Set as Draft\"}</button>}\n              {!creating && <button className=\"btns-gray-embo\" onClick={this.handlePreview}>Preview</button>}\n              {!window.isWhitelabelV2 && <button className={classnames(\"btns-blue-embo\", { disabled: saving })} onClick={this.handleSubmission} disabled={saving}>Save Changes</button>}\n              {window.isWhitelabelV2 && <button className={classnames(\"btns-green-embo\", { disabled: saving })} onClick={this.handlePublish} disabled={saving}>{(creating || !is_active) ? \"Publish\" : \"Update\"}</button>}\n            </div>\n        </div>\n        );\n    }\n}\n\n$(() => {\n    attachExternalEvents();\n    window.GalleryControl = GalleryControl;\n\n    require('./MediumEditorInsertPluginFancy')($);\n    window.articleAdmin = ReactDOM.render(<ArticleAdmin article={window.article} />, document.querySelector('.container-2'));\n    $(window).on('beforeunload', function (e) {\n        var msg = 'Are you sure you want to leave this page? Your changes may not be saved.'\n        e.returnValue = msg\n        return msg\n    })\n});\n\n\nfunction confirmedRedirect(targetLocation) {\n    $(window).off('beforeunload')\n    location.href = targetLocation\n}\n\nfunction confirmedReload() {\n    $(window).off('beforeunload')\n    location.reload()\n}\n"],"sourceRoot":""}